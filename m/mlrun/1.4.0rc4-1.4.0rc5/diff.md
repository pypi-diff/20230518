# Comparing `tmp/mlrun-1.4.0rc4-py3-none-any.whl.zip` & `tmp/mlrun-1.4.0rc5-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,412 +1,412 @@
-Zip file size: 1190001 bytes, number of entries: 410
--rw-r--r--  2.0 unx     8727 b- defN 23-May-11 15:49 mlrun/__init__.py
--rw-r--r--  2.0 unx    49342 b- defN 23-May-11 15:49 mlrun/__main__.py
--rw-r--r--  2.0 unx    54803 b- defN 23-May-11 15:49 mlrun/config.py
--rw-r--r--  2.0 unx     6780 b- defN 23-May-11 15:49 mlrun/errors.py
--rw-r--r--  2.0 unx    39096 b- defN 23-May-11 15:49 mlrun/execution.py
--rw-r--r--  2.0 unx    15624 b- defN 23-May-11 15:49 mlrun/features.py
--rw-r--r--  2.0 unx     4880 b- defN 23-May-11 15:49 mlrun/k8s_utils.py
--rw-r--r--  2.0 unx    29645 b- defN 23-May-11 15:49 mlrun/kfpops.py
--rw-r--r--  2.0 unx     8360 b- defN 23-May-11 15:49 mlrun/lists.py
--rw-r--r--  2.0 unx    53415 b- defN 23-May-11 15:49 mlrun/model.py
--rw-r--r--  2.0 unx    11828 b- defN 23-May-11 15:49 mlrun/render.py
--rw-r--r--  2.0 unx    64472 b- defN 23-May-11 15:49 mlrun/run.py
--rw-r--r--  2.0 unx     7783 b- defN 23-May-11 15:49 mlrun/secrets.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/__init__.py
--rw-r--r--  2.0 unx     2105 b- defN 23-May-11 15:49 mlrun/api/alembic.ini
--rw-r--r--  2.0 unx      685 b- defN 23-May-11 15:49 mlrun/api/constants.py
--rw-r--r--  2.0 unx    25068 b- defN 23-May-11 15:49 mlrun/api/initial_data.py
--rw-r--r--  2.0 unx     7075 b- defN 23-May-11 15:49 mlrun/api/launcher.py
--rw-r--r--  2.0 unx    26288 b- defN 23-May-11 15:49 mlrun/api/main.py
--rw-r--r--  2.0 unx     5247 b- defN 23-May-11 15:49 mlrun/api/middlewares.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/api/__init__.py
--rw-r--r--  2.0 unx     4243 b- defN 23-May-11 15:49 mlrun/api/api/api.py
--rw-r--r--  2.0 unx     3197 b- defN 23-May-11 15:49 mlrun/api/api/deps.py
--rw-r--r--  2.0 unx    36432 b- defN 23-May-11 15:49 mlrun/api/api/utils.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/__init__.py
--rw-r--r--  2.0 unx     9545 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/artifacts.py
--rw-r--r--  2.0 unx     1199 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/auth.py
--rw-r--r--  2.0 unx     3618 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/background_tasks.py
--rw-r--r--  2.0 unx     1214 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/client_spec.py
--rw-r--r--  2.0 unx     1175 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/clusterization_spec.py
--rw-r--r--  2.0 unx    29675 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/feature_store.py
--rw-r--r--  2.0 unx     6104 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/files.py
--rw-r--r--  2.0 unx     5749 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/frontend_spec.py
--rw-r--r--  2.0 unx    34618 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/functions.py
--rw-r--r--  2.0 unx     5986 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/grafana_proxy.py
--rw-r--r--  2.0 unx     1344 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/healthz.py
--rw-r--r--  2.0 unx    10399 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/hub.py
--rw-r--r--  2.0 unx     2450 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/logs.py
--rw-r--r--  2.0 unx    15817 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/model_endpoints.py
--rw-r--r--  2.0 unx     3756 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/operations.py
--rw-r--r--  2.0 unx     9220 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/pipelines.py
--rw-r--r--  2.0 unx    11494 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/projects.py
--rw-r--r--  2.0 unx     9151 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/runs.py
--rw-r--r--  2.0 unx     9063 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/runtime_resources.py
--rw-r--r--  2.0 unx    10731 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/schedules.py
--rw-r--r--  2.0 unx     6061 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/secrets.py
--rw-r--r--  2.0 unx     5298 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/submit.py
--rw-r--r--  2.0 unx     4894 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/tags.py
--rw-r--r--  2.0 unx     1203 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/internal/__init__.py
--rw-r--r--  2.0 unx     1043 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/internal/config.py
--rw-r--r--  2.0 unx     1724 b- defN 23-May-11 15:49 mlrun/api/api/endpoints/internal/memory_reports.py
--rw-r--r--  2.0 unx     1209 b- defN 23-May-11 15:49 mlrun/api/crud/__init__.py
--rw-r--r--  2.0 unx     5610 b- defN 23-May-11 15:49 mlrun/api/crud/artifacts.py
--rw-r--r--  2.0 unx     7331 b- defN 23-May-11 15:49 mlrun/api/crud/client_spec.py
--rw-r--r--  2.0 unx     1055 b- defN 23-May-11 15:49 mlrun/api/crud/clusterization_spec.py
--rw-r--r--  2.0 unx    18628 b- defN 23-May-11 15:49 mlrun/api/crud/feature_store.py
--rw-r--r--  2.0 unx     3556 b- defN 23-May-11 15:49 mlrun/api/crud/functions.py
--rw-r--r--  2.0 unx    12025 b- defN 23-May-11 15:49 mlrun/api/crud/hub.py
--rw-r--r--  2.0 unx     9729 b- defN 23-May-11 15:49 mlrun/api/crud/logs.py
--rw-r--r--  2.0 unx     2751 b- defN 23-May-11 15:49 mlrun/api/crud/notifications.py
--rw-r--r--  2.0 unx    14030 b- defN 23-May-11 15:49 mlrun/api/crud/pipelines.py
--rw-r--r--  2.0 unx    14269 b- defN 23-May-11 15:49 mlrun/api/crud/projects.py
--rw-r--r--  2.0 unx     6020 b- defN 23-May-11 15:49 mlrun/api/crud/runs.py
--rw-r--r--  2.0 unx     5575 b- defN 23-May-11 15:49 mlrun/api/crud/runtime_resources.py
--rw-r--r--  2.0 unx    20145 b- defN 23-May-11 15:49 mlrun/api/crud/secrets.py
--rw-r--r--  2.0 unx     3277 b- defN 23-May-11 15:49 mlrun/api/crud/tags.py
--rw-r--r--  2.0 unx      722 b- defN 23-May-11 15:49 mlrun/api/crud/model_monitoring/__init__.py
--rw-r--r--  2.0 unx    15692 b- defN 23-May-11 15:49 mlrun/api/crud/model_monitoring/grafana.py
--rw-r--r--  2.0 unx    43000 b- defN 23-May-11 15:49 mlrun/api/crud/model_monitoring/model_endpoints.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/crud/runtimes/__init__.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/crud/runtimes/nuclio/__init__.py
--rw-r--r--  2.0 unx    17168 b- defN 23-May-11 15:49 mlrun/api/crud/runtimes/nuclio/function.py
--rw-r--r--  2.0 unx    11398 b- defN 23-May-11 15:49 mlrun/api/crud/runtimes/nuclio/helpers.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/db/__init__.py
--rw-r--r--  2.0 unx    15056 b- defN 23-May-11 15:49 mlrun/api/db/base.py
--rw-r--r--  2.0 unx      870 b- defN 23-May-11 15:49 mlrun/api/db/init_db.py
--rw-r--r--  2.0 unx      993 b- defN 23-May-11 15:49 mlrun/api/db/session.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/db/sqldb/__init__.py
--rw-r--r--  2.0 unx   144136 b- defN 23-May-11 15:49 mlrun/api/db/sqldb/db.py
--rw-r--r--  2.0 unx     2340 b- defN 23-May-11 15:49 mlrun/api/db/sqldb/helpers.py
--rw-r--r--  2.0 unx     2542 b- defN 23-May-11 15:49 mlrun/api/db/sqldb/session.py
--rw-r--r--  2.0 unx     1063 b- defN 23-May-11 15:49 mlrun/api/db/sqldb/models/__init__.py
--rw-r--r--  2.0 unx    20642 b- defN 23-May-11 15:49 mlrun/api/db/sqldb/models/models_mysql.py
--rw-r--r--  2.0 unx    18304 b- defN 23-May-11 15:49 mlrun/api/db/sqldb/models/models_sqlite.py
--rw-r--r--  2.0 unx     2906 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/env.py
--rw-r--r--  2.0 unx     1203 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/versions/28383af526f3_market_place_to_hub.py
--rw-r--r--  2.0 unx     4614 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/versions/32bae1b0e29c_increase_timestamp_fields_precision.py
--rw-r--r--  2.0 unx     1936 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/versions/4903aef6a91d_tag_foreign_key_and_cascades.py
--rw-r--r--  2.0 unx     1909 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/versions/5f1351c88a19_adding_background_tasks_table.py
--rw-r--r--  2.0 unx     1415 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/versions/88e656800d6a_add_requested_logs_column_and_index_to_.py
--rw-r--r--  2.0 unx     1504 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/versions/9d16de5f03a7_adding_data_versions_table.py
--rw-r--r--  2.0 unx     1649 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/versions/b86f5b53f3d7_adding_name_and_updated_to_runs_table.py
--rw-r--r--  2.0 unx    24057 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/versions/c4af40b0bf61_init.py
--rw-r--r--  2.0 unx     2457 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/versions/c905d15bd91d_notifications.py
--rw-r--r--  2.0 unx     1351 b- defN 23-May-11 15:49 mlrun/api/migrations_mysql/versions/ee041e8fdaa0_adding_next_run_time_column_to_schedule_.py
--rw-r--r--  2.0 unx     2906 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/env.py
--rw-r--r--  2.0 unx    11473 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/11f8dd2dc9fe_init.py
--rw-r--r--  2.0 unx     1348 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/1c954f8cb32d_schedule_last_run_uri.py
--rw-r--r--  2.0 unx     5180 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/2b6d23c715aa_adding_feature_sets.py
--rw-r--r--  2.0 unx     2595 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/4acd9430b093_market_place_to_hub.py
--rw-r--r--  2.0 unx     1388 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/6401142f2d7c_adding_next_run_time_column_to_schedule_.py
--rw-r--r--  2.0 unx     1767 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/64d90a1a69bc_adding_background_tasks_table.py
--rw-r--r--  2.0 unx     1360 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/803438ecd005_add_requested_logs_column_to_runs.py
--rw-r--r--  2.0 unx     1259 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/863114f0c659_refactoring_feature_set.py
--rw-r--r--  2.0 unx     2147 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/959ae00528ad_notifications.py
--rw-r--r--  2.0 unx     1482 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/accf9fc83d38_adding_data_versions_table.py
--rw-r--r--  2.0 unx     1892 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/b68e8e897a28_schedule_labels.py
--rw-r--r--  2.0 unx     1882 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/bcd0c1f9720c_adding_project_labels.py
--rw-r--r--  2.0 unx     1420 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/cf21882f938e_schedule_id.py
--rw-r--r--  2.0 unx     2034 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/d781f58f607f_tag_object_name_string.py
--rw-r--r--  2.0 unx     1828 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/deac06871ace_adding_marketplace_sources_table.py
--rw-r--r--  2.0 unx     1380 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/e1dd5983c06b_schedule_concurrency_limit.py
--rw-r--r--  2.0 unx     1831 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/e5594ed3ab53_adding_name_and_updated_to_runs_table.py
--rw-r--r--  2.0 unx     3936 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/f4249b4ba6fa_adding_feature_vectors.py
--rw-r--r--  2.0 unx     2588 b- defN 23-May-11 15:49 mlrun/api/migrations_sqlite/versions/f7b5a1a03629_adding_feature_labels.py
--rw-r--r--  2.0 unx    13338 b- defN 23-May-11 15:49 mlrun/api/schemas/__init__.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/utils/__init__.py
--rw-r--r--  2.0 unx     1092 b- defN 23-May-11 15:49 mlrun/api/utils/asyncio.py
--rw-r--r--  2.0 unx     7371 b- defN 23-May-11 15:49 mlrun/api/utils/background_tasks.py
--rw-r--r--  2.0 unx    25560 b- defN 23-May-11 15:49 mlrun/api/utils/builder.py
--rw-r--r--  2.0 unx     2431 b- defN 23-May-11 15:49 mlrun/api/utils/helpers.py
--rw-r--r--  2.0 unx     3728 b- defN 23-May-11 15:49 mlrun/api/utils/memory_reports.py
--rw-r--r--  2.0 unx     2599 b- defN 23-May-11 15:49 mlrun/api/utils/periodic.py
--rw-r--r--  2.0 unx    39305 b- defN 23-May-11 15:49 mlrun/api/utils/scheduler.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/utils/auth/__init__.py
--rw-r--r--  2.0 unx    12383 b- defN 23-May-11 15:49 mlrun/api/utils/auth/verifier.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/utils/auth/providers/__init__.py
--rw-r--r--  2.0 unx     1381 b- defN 23-May-11 15:49 mlrun/api/utils/auth/providers/base.py
--rw-r--r--  2.0 unx     1460 b- defN 23-May-11 15:49 mlrun/api/utils/auth/providers/nop.py
--rw-r--r--  2.0 unx    10883 b- defN 23-May-11 15:49 mlrun/api/utils/auth/providers/opa.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/utils/clients/__init__.py
--rw-r--r--  2.0 unx    13271 b- defN 23-May-11 15:49 mlrun/api/utils/clients/chief.py
--rw-r--r--  2.0 unx    31249 b- defN 23-May-11 15:49 mlrun/api/utils/clients/iguazio.py
--rw-r--r--  2.0 unx    12109 b- defN 23-May-11 15:49 mlrun/api/utils/clients/log_collector.py
--rw-r--r--  2.0 unx     9916 b- defN 23-May-11 15:49 mlrun/api/utils/clients/nuclio.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/utils/clients/protocols/__init__.py
--rw-r--r--  2.0 unx     2567 b- defN 23-May-11 15:49 mlrun/api/utils/clients/protocols/grpc.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/utils/db/__init__.py
--rw-r--r--  2.0 unx     3305 b- defN 23-May-11 15:49 mlrun/api/utils/db/alembic.py
--rw-r--r--  2.0 unx     8214 b- defN 23-May-11 15:49 mlrun/api/utils/db/backup.py
--rw-r--r--  2.0 unx     3795 b- defN 23-May-11 15:49 mlrun/api/utils/db/mysql.py
--rw-r--r--  2.0 unx      992 b- defN 23-May-11 15:49 mlrun/api/utils/db/sql_collation.py
--rw-r--r--  2.0 unx     3855 b- defN 23-May-11 15:49 mlrun/api/utils/db/sqlite_migration.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/utils/projects/__init__.py
--rw-r--r--  2.0 unx    17423 b- defN 23-May-11 15:49 mlrun/api/utils/projects/follower.py
--rw-r--r--  2.0 unx    19372 b- defN 23-May-11 15:49 mlrun/api/utils/projects/leader.py
--rw-r--r--  2.0 unx     7133 b- defN 23-May-11 15:49 mlrun/api/utils/projects/member.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/utils/projects/remotes/__init__.py
--rw-r--r--  2.0 unx     2659 b- defN 23-May-11 15:49 mlrun/api/utils/projects/remotes/follower.py
--rw-r--r--  2.0 unx     2094 b- defN 23-May-11 15:49 mlrun/api/utils/projects/remotes/leader.py
--rw-r--r--  2.0 unx     5000 b- defN 23-May-11 15:49 mlrun/api/utils/projects/remotes/nop_follower.py
--rw-r--r--  2.0 unx     3861 b- defN 23-May-11 15:49 mlrun/api/utils/projects/remotes/nop_leader.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/api/utils/singletons/__init__.py
--rw-r--r--  2.0 unx     1202 b- defN 23-May-11 15:49 mlrun/api/utils/singletons/db.py
--rw-r--r--  2.0 unx    22630 b- defN 23-May-11 15:49 mlrun/api/utils/singletons/k8s.py
--rw-r--r--  2.0 unx      840 b- defN 23-May-11 15:49 mlrun/api/utils/singletons/logs_dir.py
--rw-r--r--  2.0 unx     1279 b- defN 23-May-11 15:49 mlrun/api/utils/singletons/project_member.py
--rw-r--r--  2.0 unx     1063 b- defN 23-May-11 15:49 mlrun/api/utils/singletons/scheduler.py
--rw-r--r--  2.0 unx     1091 b- defN 23-May-11 15:49 mlrun/artifacts/__init__.py
--rw-r--r--  2.0 unx    30849 b- defN 23-May-11 15:49 mlrun/artifacts/base.py
--rw-r--r--  2.0 unx    20432 b- defN 23-May-11 15:49 mlrun/artifacts/dataset.py
--rw-r--r--  2.0 unx    12110 b- defN 23-May-11 15:49 mlrun/artifacts/manager.py
--rw-r--r--  2.0 unx    23673 b- defN 23-May-11 15:49 mlrun/artifacts/model.py
--rw-r--r--  2.0 unx    15383 b- defN 23-May-11 15:49 mlrun/artifacts/plots.py
--rw-r--r--  2.0 unx      571 b- defN 23-May-11 15:49 mlrun/common/__init__.py
--rw-r--r--  2.0 unx      660 b- defN 23-May-11 15:49 mlrun/common/constants.py
--rw-r--r--  2.0 unx     5670 b- defN 23-May-11 15:49 mlrun/common/model_monitoring.py
--rw-r--r--  2.0 unx      790 b- defN 23-May-11 15:49 mlrun/common/types.py
--rw-r--r--  2.0 unx     3973 b- defN 23-May-11 15:49 mlrun/common/schemas/__init__.py
--rw-r--r--  2.0 unx     1923 b- defN 23-May-11 15:49 mlrun/common/schemas/artifact.py
--rw-r--r--  2.0 unx     5251 b- defN 23-May-11 15:49 mlrun/common/schemas/auth.py
--rw-r--r--  2.0 unx     1553 b- defN 23-May-11 15:49 mlrun/common/schemas/background_task.py
--rw-r--r--  2.0 unx     2751 b- defN 23-May-11 15:49 mlrun/common/schemas/client_spec.py
--rw-r--r--  2.0 unx      888 b- defN 23-May-11 15:49 mlrun/common/schemas/clusterization_spec.py
--rw-r--r--  2.0 unx     6243 b- defN 23-May-11 15:49 mlrun/common/schemas/constants.py
--rw-r--r--  2.0 unx     3671 b- defN 23-May-11 15:49 mlrun/common/schemas/feature_store.py
--rw-r--r--  2.0 unx     2546 b- defN 23-May-11 15:49 mlrun/common/schemas/frontend_spec.py
--rw-r--r--  2.0 unx     3971 b- defN 23-May-11 15:49 mlrun/common/schemas/function.py
--rw-r--r--  2.0 unx      705 b- defN 23-May-11 15:49 mlrun/common/schemas/http.py
--rw-r--r--  2.0 unx     4245 b- defN 23-May-11 15:49 mlrun/common/schemas/hub.py
--rw-r--r--  2.0 unx     1395 b- defN 23-May-11 15:49 mlrun/common/schemas/k8s.py
--rw-r--r--  2.0 unx      920 b- defN 23-May-11 15:49 mlrun/common/schemas/memory_reports.py
--rw-r--r--  2.0 unx    12528 b- defN 23-May-11 15:49 mlrun/common/schemas/model_endpoints.py
--rw-r--r--  2.0 unx      879 b- defN 23-May-11 15:49 mlrun/common/schemas/notification.py
--rw-r--r--  2.0 unx     1907 b- defN 23-May-11 15:49 mlrun/common/schemas/object.py
--rw-r--r--  2.0 unx     1184 b- defN 23-May-11 15:49 mlrun/common/schemas/pipeline.py
--rw-r--r--  2.0 unx     4094 b- defN 23-May-11 15:49 mlrun/common/schemas/project.py
--rw-r--r--  2.0 unx     1636 b- defN 23-May-11 15:49 mlrun/common/schemas/runtime_resource.py
--rw-r--r--  2.0 unx     4188 b- defN 23-May-11 15:49 mlrun/common/schemas/schedule.py
--rw-r--r--  2.0 unx     1484 b- defN 23-May-11 15:49 mlrun/common/schemas/secret.py
--rw-r--r--  2.0 unx      919 b- defN 23-May-11 15:49 mlrun/common/schemas/tag.py
--rw-r--r--  2.0 unx     1087 b- defN 23-May-11 15:49 mlrun/data_types/__init__.py
--rw-r--r--  2.0 unx     4647 b- defN 23-May-11 15:49 mlrun/data_types/data_types.py
--rw-r--r--  2.0 unx     5813 b- defN 23-May-11 15:49 mlrun/data_types/infer.py
--rw-r--r--  2.0 unx     9426 b- defN 23-May-11 15:49 mlrun/data_types/spark.py
--rw-r--r--  2.0 unx     3443 b- defN 23-May-11 15:49 mlrun/datastore/__init__.py
--rw-r--r--  2.0 unx     6946 b- defN 23-May-11 15:49 mlrun/datastore/azure_blob.py
--rw-r--r--  2.0 unx    18274 b- defN 23-May-11 15:49 mlrun/datastore/base.py
--rw-r--r--  2.0 unx     7995 b- defN 23-May-11 15:49 mlrun/datastore/datastore.py
--rw-r--r--  2.0 unx     3791 b- defN 23-May-11 15:49 mlrun/datastore/filestore.py
--rw-r--r--  2.0 unx     5114 b- defN 23-May-11 15:49 mlrun/datastore/google_cloud_storage.py
--rw-r--r--  2.0 unx     2627 b- defN 23-May-11 15:49 mlrun/datastore/inmem.py
--rw-r--r--  2.0 unx     4873 b- defN 23-May-11 15:49 mlrun/datastore/redis.py
--rw-r--r--  2.0 unx     7035 b- defN 23-May-11 15:49 mlrun/datastore/s3.py
--rw-r--r--  2.0 unx    34385 b- defN 23-May-11 15:49 mlrun/datastore/sources.py
--rw-r--r--  2.0 unx     1410 b- defN 23-May-11 15:49 mlrun/datastore/spark_udf.py
--rw-r--r--  2.0 unx     6895 b- defN 23-May-11 15:49 mlrun/datastore/store_resources.py
--rw-r--r--  2.0 unx    62060 b- defN 23-May-11 15:49 mlrun/datastore/targets.py
--rw-r--r--  2.0 unx     2900 b- defN 23-May-11 15:49 mlrun/datastore/utils.py
--rw-r--r--  2.0 unx     8097 b- defN 23-May-11 15:49 mlrun/datastore/v3io.py
--rw-r--r--  2.0 unx     1343 b- defN 23-May-11 15:49 mlrun/datastore/wasbfs/__init__.py
--rw-r--r--  2.0 unx     6152 b- defN 23-May-11 15:49 mlrun/datastore/wasbfs/fs.py
--rw-r--r--  2.0 unx     2816 b- defN 23-May-11 15:49 mlrun/db/__init__.py
--rw-r--r--  2.0 unx    15968 b- defN 23-May-11 15:49 mlrun/db/base.py
--rw-r--r--  2.0 unx   130810 b- defN 23-May-11 15:49 mlrun/db/httpdb.py
--rw-r--r--  2.0 unx    13197 b- defN 23-May-11 15:49 mlrun/db/nopdb.py
--rw-r--r--  2.0 unx    25917 b- defN 23-May-11 15:49 mlrun/db/sqldb.py
--rw-r--r--  2.0 unx     1501 b- defN 23-May-11 15:49 mlrun/feature_store/__init__.py
--rw-r--r--  2.0 unx    43820 b- defN 23-May-11 15:49 mlrun/feature_store/api.py
--rw-r--r--  2.0 unx    12781 b- defN 23-May-11 15:49 mlrun/feature_store/common.py
--rw-r--r--  2.0 unx    47273 b- defN 23-May-11 15:49 mlrun/feature_store/feature_set.py
--rw-r--r--  2.0 unx    21940 b- defN 23-May-11 15:49 mlrun/feature_store/feature_vector.py
--rw-r--r--  2.0 unx    11681 b- defN 23-May-11 15:49 mlrun/feature_store/ingestion.py
--rw-r--r--  2.0 unx    28635 b- defN 23-May-11 15:49 mlrun/feature_store/steps.py
--rw-r--r--  2.0 unx     1232 b- defN 23-May-11 15:49 mlrun/feature_store/retrieval/__init__.py
--rw-r--r--  2.0 unx    25911 b- defN 23-May-11 15:49 mlrun/feature_store/retrieval/base.py
--rw-r--r--  2.0 unx     4261 b- defN 23-May-11 15:49 mlrun/feature_store/retrieval/dask_merger.py
--rw-r--r--  2.0 unx     7141 b- defN 23-May-11 15:49 mlrun/feature_store/retrieval/job.py
--rw-r--r--  2.0 unx     4765 b- defN 23-May-11 15:49 mlrun/feature_store/retrieval/local_merger.py
--rw-r--r--  2.0 unx     3352 b- defN 23-May-11 15:49 mlrun/feature_store/retrieval/online.py
--rw-r--r--  2.0 unx     9661 b- defN 23-May-11 15:49 mlrun/feature_store/retrieval/spark_merger.py
--rw-r--r--  2.0 unx      743 b- defN 23-May-11 15:49 mlrun/frameworks/__init__.py
--rw-r--r--  2.0 unx    11466 b- defN 23-May-11 15:49 mlrun/frameworks/parallel_coordinates.py
--rw-r--r--  2.0 unx      962 b- defN 23-May-11 15:49 mlrun/frameworks/_common/__init__.py
--rw-r--r--  2.0 unx     8515 b- defN 23-May-11 15:49 mlrun/frameworks/_common/artifacts_library.py
--rw-r--r--  2.0 unx    21018 b- defN 23-May-11 15:49 mlrun/frameworks/_common/mlrun_interface.py
--rw-r--r--  2.0 unx    55376 b- defN 23-May-11 15:49 mlrun/frameworks/_common/model_handler.py
--rw-r--r--  2.0 unx     3469 b- defN 23-May-11 15:49 mlrun/frameworks/_common/plan.py
--rw-r--r--  2.0 unx     5757 b- defN 23-May-11 15:49 mlrun/frameworks/_common/producer.py
--rw-r--r--  2.0 unx     9209 b- defN 23-May-11 15:49 mlrun/frameworks/_common/utils.py
--rw-r--r--  2.0 unx      750 b- defN 23-May-11 15:49 mlrun/frameworks/_dl_common/__init__.py
--rw-r--r--  2.0 unx     1151 b- defN 23-May-11 15:49 mlrun/frameworks/_dl_common/model_handler.py
--rw-r--r--  2.0 unx      996 b- defN 23-May-11 15:49 mlrun/frameworks/_dl_common/utils.py
--rw-r--r--  2.0 unx      787 b- defN 23-May-11 15:49 mlrun/frameworks/_dl_common/loggers/__init__.py
--rw-r--r--  2.0 unx    11531 b- defN 23-May-11 15:49 mlrun/frameworks/_dl_common/loggers/logger.py
--rw-r--r--  2.0 unx    14777 b- defN 23-May-11 15:49 mlrun/frameworks/_dl_common/loggers/mlrun_logger.py
--rw-r--r--  2.0 unx    28414 b- defN 23-May-11 15:49 mlrun/frameworks/_dl_common/loggers/tensorboard_logger.py
--rw-r--r--  2.0 unx      956 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/__init__.py
--rw-r--r--  2.0 unx     3169 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/artifacts_library.py
--rw-r--r--  2.0 unx    16957 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/model_handler.py
--rw-r--r--  2.0 unx     2368 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/pkl_model_server.py
--rw-r--r--  2.0 unx     4881 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/plan.py
--rw-r--r--  2.0 unx     4061 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/producer.py
--rw-r--r--  2.0 unx    10490 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/utils.py
--rw-r--r--  2.0 unx      737 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/loggers/__init__.py
--rw-r--r--  2.0 unx     5684 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/loggers/logger.py
--rw-r--r--  2.0 unx     6453 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/loggers/mlrun_logger.py
--rw-r--r--  2.0 unx      922 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/plans/__init__.py
--rw-r--r--  2.0 unx     5212 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/plans/calibration_curve_plan.py
--rw-r--r--  2.0 unx     6078 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/plans/confusion_matrix_plan.py
--rw-r--r--  2.0 unx     6658 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/plans/dataset_plan.py
--rw-r--r--  2.0 unx     5318 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/plans/feature_importance_plan.py
--rw-r--r--  2.0 unx     6993 b- defN 23-May-11 15:49 mlrun/frameworks/_ml_common/plans/roc_curve_plan.py
--rw-r--r--  2.0 unx      706 b- defN 23-May-11 15:49 mlrun/frameworks/auto_mlrun/__init__.py
--rw-r--r--  2.0 unx    23796 b- defN 23-May-11 15:49 mlrun/frameworks/auto_mlrun/auto_mlrun.py
--rw-r--r--  2.0 unx      721 b- defN 23-May-11 15:49 mlrun/frameworks/huggingface/__init__.py
--rw-r--r--  2.0 unx     6083 b- defN 23-May-11 15:49 mlrun/frameworks/huggingface/model_server.py
--rw-r--r--  2.0 unx    15883 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/__init__.py
--rw-r--r--  2.0 unx    13891 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/model_handler.py
--rw-r--r--  2.0 unx     9189 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/model_server.py
--rw-r--r--  2.0 unx     8278 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/utils.py
--rw-r--r--  2.0 unx      857 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/callbacks/__init__.py
--rw-r--r--  2.0 unx     4081 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/callbacks/callback.py
--rw-r--r--  2.0 unx     5156 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/callbacks/logging_callback.py
--rw-r--r--  2.0 unx     4137 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/callbacks/mlrun_logging_callback.py
--rw-r--r--  2.0 unx      842 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/mlrun_interfaces/__init__.py
--rw-r--r--  2.0 unx     1624 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/mlrun_interfaces/booster_mlrun_interface.py
--rw-r--r--  2.0 unx    14256 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/mlrun_interfaces/mlrun_interface.py
--rw-r--r--  2.0 unx     1333 b- defN 23-May-11 15:49 mlrun/frameworks/lgbm/mlrun_interfaces/model_mlrun_interface.py
--rw-r--r--  2.0 unx      791 b- defN 23-May-11 15:49 mlrun/frameworks/onnx/__init__.py
--rw-r--r--  2.0 unx     6098 b- defN 23-May-11 15:49 mlrun/frameworks/onnx/dataset.py
--rw-r--r--  2.0 unx     2405 b- defN 23-May-11 15:49 mlrun/frameworks/onnx/mlrun_interface.py
--rw-r--r--  2.0 unx     6203 b- defN 23-May-11 15:49 mlrun/frameworks/onnx/model_handler.py
--rw-r--r--  2.0 unx     7061 b- defN 23-May-11 15:49 mlrun/frameworks/onnx/model_server.py
--rw-r--r--  2.0 unx    22056 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/__init__.py
--rw-r--r--  2.0 unx    27904 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/callbacks_handler.py
--rw-r--r--  2.0 unx    44639 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/mlrun_interface.py
--rw-r--r--  2.0 unx    22465 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/model_handler.py
--rw-r--r--  2.0 unx    10136 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/model_server.py
--rw-r--r--  2.0 unx     4515 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/utils.py
--rw-r--r--  2.0 unx      896 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/callbacks/__init__.py
--rw-r--r--  2.0 unx    11524 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/callbacks/callback.py
--rw-r--r--  2.0 unx    23166 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/callbacks/logging_callback.py
--rw-r--r--  2.0 unx     9310 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/callbacks/mlrun_logging_callback.py
--rw-r--r--  2.0 unx    26661 b- defN 23-May-11 15:49 mlrun/frameworks/pytorch/callbacks/tensorboard_logging_callback.py
--rw-r--r--  2.0 unx    10892 b- defN 23-May-11 15:49 mlrun/frameworks/sklearn/__init__.py
--rw-r--r--  2.0 unx     5852 b- defN 23-May-11 15:49 mlrun/frameworks/sklearn/estimator.py
--rw-r--r--  2.0 unx     7117 b- defN 23-May-11 15:49 mlrun/frameworks/sklearn/metric.py
--rw-r--r--  2.0 unx    12215 b- defN 23-May-11 15:49 mlrun/frameworks/sklearn/metrics_library.py
--rw-r--r--  2.0 unx    14126 b- defN 23-May-11 15:49 mlrun/frameworks/sklearn/mlrun_interface.py
--rw-r--r--  2.0 unx     4745 b- defN 23-May-11 15:49 mlrun/frameworks/sklearn/model_handler.py
--rw-r--r--  2.0 unx     1209 b- defN 23-May-11 15:49 mlrun/frameworks/sklearn/utils.py
--rw-r--r--  2.0 unx    10455 b- defN 23-May-11 15:49 mlrun/frameworks/tf_keras/__init__.py
--rw-r--r--  2.0 unx    16627 b- defN 23-May-11 15:49 mlrun/frameworks/tf_keras/mlrun_interface.py
--rw-r--r--  2.0 unx    28247 b- defN 23-May-11 15:49 mlrun/frameworks/tf_keras/model_handler.py
--rw-r--r--  2.0 unx     9565 b- defN 23-May-11 15:49 mlrun/frameworks/tf_keras/model_server.py
--rw-r--r--  2.0 unx     4284 b- defN 23-May-11 15:49 mlrun/frameworks/tf_keras/utils.py
--rw-r--r--  2.0 unx      844 b- defN 23-May-11 15:49 mlrun/frameworks/tf_keras/callbacks/__init__.py
--rw-r--r--  2.0 unx    21886 b- defN 23-May-11 15:49 mlrun/frameworks/tf_keras/callbacks/logging_callback.py
--rw-r--r--  2.0 unx     8791 b- defN 23-May-11 15:49 mlrun/frameworks/tf_keras/callbacks/mlrun_logging_callback.py
--rw-r--r--  2.0 unx    28728 b- defN 23-May-11 15:49 mlrun/frameworks/tf_keras/callbacks/tensorboard_logging_callback.py
--rw-r--r--  2.0 unx    10287 b- defN 23-May-11 15:49 mlrun/frameworks/xgboost/__init__.py
--rw-r--r--  2.0 unx      878 b- defN 23-May-11 15:49 mlrun/frameworks/xgboost/mlrun_interface.py
--rw-r--r--  2.0 unx    11617 b- defN 23-May-11 15:49 mlrun/frameworks/xgboost/model_handler.py
--rw-r--r--  2.0 unx     1069 b- defN 23-May-11 15:49 mlrun/frameworks/xgboost/utils.py
--rw-r--r--  2.0 unx      577 b- defN 23-May-11 15:49 mlrun/launcher/__init__.py
--rw-r--r--  2.0 unx    15021 b- defN 23-May-11 15:49 mlrun/launcher/base.py
--rw-r--r--  2.0 unx     4717 b- defN 23-May-11 15:49 mlrun/launcher/client.py
--rw-r--r--  2.0 unx     1883 b- defN 23-May-11 15:49 mlrun/launcher/factory.py
--rw-r--r--  2.0 unx    10024 b- defN 23-May-11 15:49 mlrun/launcher/local.py
--rw-r--r--  2.0 unx     6874 b- defN 23-May-11 15:49 mlrun/launcher/remote.py
--rw-r--r--  2.0 unx      760 b- defN 23-May-11 15:49 mlrun/mlutils/__init__.py
--rw-r--r--  2.0 unx     5325 b- defN 23-May-11 15:49 mlrun/mlutils/data.py
--rw-r--r--  2.0 unx     2598 b- defN 23-May-11 15:49 mlrun/mlutils/models.py
--rw-r--r--  2.0 unx    30120 b- defN 23-May-11 15:49 mlrun/mlutils/plots.py
--rw-r--r--  2.0 unx     1208 b- defN 23-May-11 15:49 mlrun/model_monitoring/__init__.py
--rw-r--r--  2.0 unx    23948 b- defN 23-May-11 15:49 mlrun/model_monitoring/features_drift_table.py
--rw-r--r--  2.0 unx     9756 b- defN 23-May-11 15:49 mlrun/model_monitoring/helpers.py
--rw-r--r--  2.0 unx     5196 b- defN 23-May-11 15:49 mlrun/model_monitoring/model_endpoint.py
--rw-r--r--  2.0 unx    36885 b- defN 23-May-11 15:49 mlrun/model_monitoring/model_monitoring_batch.py
--rw-r--r--  2.0 unx    43172 b- defN 23-May-11 15:49 mlrun/model_monitoring/stream_processing_fs.py
--rw-r--r--  2.0 unx     4240 b- defN 23-May-11 15:49 mlrun/model_monitoring/stores/__init__.py
--rw-r--r--  2.0 unx    17357 b- defN 23-May-11 15:49 mlrun/model_monitoring/stores/kv_model_endpoint_store.py
--rw-r--r--  2.0 unx     5695 b- defN 23-May-11 15:49 mlrun/model_monitoring/stores/model_endpoint_store.py
--rw-r--r--  2.0 unx    15706 b- defN 23-May-11 15:49 mlrun/model_monitoring/stores/sql_model_endpoint_store.py
--rw-r--r--  2.0 unx      884 b- defN 23-May-11 15:49 mlrun/model_monitoring/stores/models/__init__.py
--rw-r--r--  2.0 unx      655 b- defN 23-May-11 15:49 mlrun/model_monitoring/stores/models/base.py
--rw-r--r--  2.0 unx     3741 b- defN 23-May-11 15:49 mlrun/model_monitoring/stores/models/mysql.py
--rw-r--r--  2.0 unx     3658 b- defN 23-May-11 15:49 mlrun/model_monitoring/stores/models/sqlite.py
--rw-r--r--  2.0 unx     2400 b- defN 23-May-11 15:49 mlrun/platforms/__init__.py
--rw-r--r--  2.0 unx    24102 b- defN 23-May-11 15:49 mlrun/platforms/iguazio.py
--rw-r--r--  2.0 unx    11852 b- defN 23-May-11 15:49 mlrun/platforms/other.py
--rw-r--r--  2.0 unx     1153 b- defN 23-May-11 15:49 mlrun/projects/__init__.py
--rw-r--r--  2.0 unx    17480 b- defN 23-May-11 15:49 mlrun/projects/operations.py
--rw-r--r--  2.0 unx    38336 b- defN 23-May-11 15:49 mlrun/projects/pipelines.py
--rw-r--r--  2.0 unx   105214 b- defN 23-May-11 15:49 mlrun/projects/project.py
--rw-r--r--  2.0 unx     8773 b- defN 23-May-11 15:49 mlrun/runtimes/__init__.py
--rw-r--r--  2.0 unx    95055 b- defN 23-May-11 15:49 mlrun/runtimes/base.py
--rw-r--r--  2.0 unx     6689 b- defN 23-May-11 15:49 mlrun/runtimes/constants.py
--rw-r--r--  2.0 unx    30520 b- defN 23-May-11 15:49 mlrun/runtimes/daskjob.py
--rw-r--r--  2.0 unx     9561 b- defN 23-May-11 15:49 mlrun/runtimes/funcdoc.py
--rw-r--r--  2.0 unx    45205 b- defN 23-May-11 15:49 mlrun/runtimes/function.py
--rw-r--r--  2.0 unx     4911 b- defN 23-May-11 15:49 mlrun/runtimes/function_reference.py
--rw-r--r--  2.0 unx     6530 b- defN 23-May-11 15:49 mlrun/runtimes/generators.py
--rw-r--r--  2.0 unx    15140 b- defN 23-May-11 15:49 mlrun/runtimes/kubejob.py
--rw-r--r--  2.0 unx    18005 b- defN 23-May-11 15:49 mlrun/runtimes/local.py
--rw-r--r--  2.0 unx     2885 b- defN 23-May-11 15:49 mlrun/runtimes/nuclio.py
--rw-r--r--  2.0 unx    60644 b- defN 23-May-11 15:49 mlrun/runtimes/pod.py
--rw-r--r--  2.0 unx     7695 b- defN 23-May-11 15:49 mlrun/runtimes/remotesparkjob.py
--rw-r--r--  2.0 unx    29858 b- defN 23-May-11 15:49 mlrun/runtimes/serving.py
--rw-r--r--  2.0 unx    21222 b- defN 23-May-11 15:49 mlrun/runtimes/utils.py
--rw-r--r--  2.0 unx      790 b- defN 23-May-11 15:49 mlrun/runtimes/mpijob/__init__.py
--rw-r--r--  2.0 unx    14713 b- defN 23-May-11 15:49 mlrun/runtimes/mpijob/abstract.py
--rw-r--r--  2.0 unx    13845 b- defN 23-May-11 15:49 mlrun/runtimes/mpijob/v1.py
--rw-r--r--  2.0 unx     8460 b- defN 23-May-11 15:49 mlrun/runtimes/mpijob/v1alpha1.py
--rw-r--r--  2.0 unx      673 b- defN 23-May-11 15:49 mlrun/runtimes/package/__init__.py
--rw-r--r--  2.0 unx    27068 b- defN 23-May-11 15:49 mlrun/runtimes/package/context_handler.py
--rw-r--r--  2.0 unx      751 b- defN 23-May-11 15:49 mlrun/runtimes/sparkjob/__init__.py
--rw-r--r--  2.0 unx    35028 b- defN 23-May-11 15:49 mlrun/runtimes/sparkjob/abstract.py
--rw-r--r--  2.0 unx    28746 b- defN 23-May-11 15:49 mlrun/runtimes/sparkjob/spark3job.py
--rw-r--r--  2.0 unx     1078 b- defN 23-May-11 15:49 mlrun/serving/__init__.py
--rw-r--r--  2.0 unx     6116 b- defN 23-May-11 15:49 mlrun/serving/merger.py
--rw-r--r--  2.0 unx    18038 b- defN 23-May-11 15:49 mlrun/serving/remote.py
--rw-r--r--  2.0 unx    55277 b- defN 23-May-11 15:49 mlrun/serving/routers.py
--rw-r--r--  2.0 unx    20247 b- defN 23-May-11 15:49 mlrun/serving/server.py
--rw-r--r--  2.0 unx      836 b- defN 23-May-11 15:49 mlrun/serving/serving_wrapper.py
--rw-r--r--  2.0 unx    53940 b- defN 23-May-11 15:49 mlrun/serving/states.py
--rw-r--r--  2.0 unx     3902 b- defN 23-May-11 15:49 mlrun/serving/utils.py
--rw-r--r--  2.0 unx    11814 b- defN 23-May-11 15:49 mlrun/serving/v1_serving.py
--rw-r--r--  2.0 unx    21460 b- defN 23-May-11 15:49 mlrun/serving/v2_serving.py
--rw-r--r--  2.0 unx      826 b- defN 23-May-11 15:49 mlrun/utils/__init__.py
--rw-r--r--  2.0 unx    10397 b- defN 23-May-11 15:49 mlrun/utils/async_http.py
--rw-r--r--  2.0 unx     3456 b- defN 23-May-11 15:49 mlrun/utils/azure_vault.py
--rw-r--r--  2.0 unx     6245 b- defN 23-May-11 15:49 mlrun/utils/clones.py
--rw-r--r--  2.0 unx     1662 b- defN 23-May-11 15:49 mlrun/utils/db.py
--rw-r--r--  2.0 unx    42577 b- defN 23-May-11 15:49 mlrun/utils/helpers.py
--rw-r--r--  2.0 unx     7093 b- defN 23-May-11 15:49 mlrun/utils/http.py
--rw-r--r--  2.0 unx     5637 b- defN 23-May-11 15:49 mlrun/utils/logger.py
--rw-r--r--  2.0 unx     9969 b- defN 23-May-11 15:49 mlrun/utils/model_monitoring.py
--rw-r--r--  2.0 unx     3954 b- defN 23-May-11 15:49 mlrun/utils/regex.py
--rw-r--r--  2.0 unx      883 b- defN 23-May-11 15:49 mlrun/utils/singleton.py
--rw-r--r--  2.0 unx     1319 b- defN 23-May-11 15:49 mlrun/utils/v3io_clients.py
--rw-r--r--  2.0 unx    10447 b- defN 23-May-11 15:49 mlrun/utils/vault.py
--rw-r--r--  2.0 unx      990 b- defN 23-May-11 15:49 mlrun/utils/notifications/__init__.py
--rw-r--r--  2.0 unx    12331 b- defN 23-May-11 15:49 mlrun/utils/notifications/notification_pusher.py
--rw-r--r--  2.0 unx     1803 b- defN 23-May-11 15:49 mlrun/utils/notifications/notification/__init__.py
--rw-r--r--  2.0 unx     2177 b- defN 23-May-11 15:49 mlrun/utils/notifications/notification/base.py
--rw-r--r--  2.0 unx     1971 b- defN 23-May-11 15:49 mlrun/utils/notifications/notification/console.py
--rw-r--r--  2.0 unx     4742 b- defN 23-May-11 15:49 mlrun/utils/notifications/notification/git.py
--rw-r--r--  2.0 unx     2021 b- defN 23-May-11 15:49 mlrun/utils/notifications/notification/ipython.py
--rw-r--r--  2.0 unx     3751 b- defN 23-May-11 15:49 mlrun/utils/notifications/notification/slack.py
--rw-r--r--  2.0 unx      614 b- defN 23-May-11 15:49 mlrun/utils/version/__init__.py
--rw-r--r--  2.0 unx       88 b- defN 23-May-11 15:49 mlrun/utils/version/version.json
--rw-r--r--  2.0 unx     1970 b- defN 23-May-11 15:49 mlrun/utils/version/version.py
--rw-r--r--  2.0 unx    11357 b- defN 23-May-11 15:49 mlrun-1.4.0rc4.dist-info/LICENSE
--rw-r--r--  2.0 unx    17185 b- defN 23-May-11 15:49 mlrun-1.4.0rc4.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-11 15:49 mlrun-1.4.0rc4.dist-info/WHEEL
--rw-r--r--  2.0 unx       47 b- defN 23-May-11 15:49 mlrun-1.4.0rc4.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        6 b- defN 23-May-11 15:49 mlrun-1.4.0rc4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx    38487 b- defN 23-May-11 15:49 mlrun-1.4.0rc4.dist-info/RECORD
-410 files, 4433077 bytes uncompressed, 1128611 bytes compressed:  74.5%
+Zip file size: 1189461 bytes, number of entries: 410
+-rw-r--r--  2.0 unx     8727 b- defN 23-May-16 10:27 mlrun/__init__.py
+-rw-r--r--  2.0 unx    49342 b- defN 23-May-16 10:27 mlrun/__main__.py
+-rw-r--r--  2.0 unx    54803 b- defN 23-May-16 10:27 mlrun/config.py
+-rw-r--r--  2.0 unx     6780 b- defN 23-May-16 10:27 mlrun/errors.py
+-rw-r--r--  2.0 unx    39096 b- defN 23-May-16 10:27 mlrun/execution.py
+-rw-r--r--  2.0 unx    15624 b- defN 23-May-16 10:27 mlrun/features.py
+-rw-r--r--  2.0 unx     4880 b- defN 23-May-16 10:27 mlrun/k8s_utils.py
+-rw-r--r--  2.0 unx    29645 b- defN 23-May-16 10:27 mlrun/kfpops.py
+-rw-r--r--  2.0 unx     8360 b- defN 23-May-16 10:27 mlrun/lists.py
+-rw-r--r--  2.0 unx    53415 b- defN 23-May-16 10:27 mlrun/model.py
+-rw-r--r--  2.0 unx    11828 b- defN 23-May-16 10:27 mlrun/render.py
+-rw-r--r--  2.0 unx    64472 b- defN 23-May-16 10:27 mlrun/run.py
+-rw-r--r--  2.0 unx     7783 b- defN 23-May-16 10:27 mlrun/secrets.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/__init__.py
+-rw-r--r--  2.0 unx     2105 b- defN 23-May-16 10:27 mlrun/api/alembic.ini
+-rw-r--r--  2.0 unx      685 b- defN 23-May-16 10:27 mlrun/api/constants.py
+-rw-r--r--  2.0 unx    25068 b- defN 23-May-16 10:27 mlrun/api/initial_data.py
+-rw-r--r--  2.0 unx     7067 b- defN 23-May-16 10:27 mlrun/api/launcher.py
+-rw-r--r--  2.0 unx    26288 b- defN 23-May-16 10:27 mlrun/api/main.py
+-rw-r--r--  2.0 unx     5247 b- defN 23-May-16 10:27 mlrun/api/middlewares.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/api/__init__.py
+-rw-r--r--  2.0 unx     4243 b- defN 23-May-16 10:27 mlrun/api/api/api.py
+-rw-r--r--  2.0 unx     3197 b- defN 23-May-16 10:27 mlrun/api/api/deps.py
+-rw-r--r--  2.0 unx    36404 b- defN 23-May-16 10:27 mlrun/api/api/utils.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/__init__.py
+-rw-r--r--  2.0 unx     9545 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/artifacts.py
+-rw-r--r--  2.0 unx     1199 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/auth.py
+-rw-r--r--  2.0 unx     3618 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/background_tasks.py
+-rw-r--r--  2.0 unx     1214 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/client_spec.py
+-rw-r--r--  2.0 unx     1175 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/clusterization_spec.py
+-rw-r--r--  2.0 unx    29543 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/feature_store.py
+-rw-r--r--  2.0 unx     6104 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/files.py
+-rw-r--r--  2.0 unx     5749 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/frontend_spec.py
+-rw-r--r--  2.0 unx    34542 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/functions.py
+-rw-r--r--  2.0 unx     5986 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/grafana_proxy.py
+-rw-r--r--  2.0 unx     1344 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/healthz.py
+-rw-r--r--  2.0 unx    10399 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/hub.py
+-rw-r--r--  2.0 unx     2450 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/logs.py
+-rw-r--r--  2.0 unx    15817 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/model_endpoints.py
+-rw-r--r--  2.0 unx     3756 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/operations.py
+-rw-r--r--  2.0 unx     9220 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/pipelines.py
+-rw-r--r--  2.0 unx    11494 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/projects.py
+-rw-r--r--  2.0 unx     9078 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/runs.py
+-rw-r--r--  2.0 unx     9063 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/runtime_resources.py
+-rw-r--r--  2.0 unx    10731 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/schedules.py
+-rw-r--r--  2.0 unx     6061 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/secrets.py
+-rw-r--r--  2.0 unx     5298 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/submit.py
+-rw-r--r--  2.0 unx     4894 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/tags.py
+-rw-r--r--  2.0 unx     1203 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/internal/__init__.py
+-rw-r--r--  2.0 unx     1043 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/internal/config.py
+-rw-r--r--  2.0 unx     1724 b- defN 23-May-16 10:27 mlrun/api/api/endpoints/internal/memory_reports.py
+-rw-r--r--  2.0 unx     1209 b- defN 23-May-16 10:27 mlrun/api/crud/__init__.py
+-rw-r--r--  2.0 unx     5610 b- defN 23-May-16 10:27 mlrun/api/crud/artifacts.py
+-rw-r--r--  2.0 unx     7331 b- defN 23-May-16 10:27 mlrun/api/crud/client_spec.py
+-rw-r--r--  2.0 unx     1055 b- defN 23-May-16 10:27 mlrun/api/crud/clusterization_spec.py
+-rw-r--r--  2.0 unx    18628 b- defN 23-May-16 10:27 mlrun/api/crud/feature_store.py
+-rw-r--r--  2.0 unx     3556 b- defN 23-May-16 10:27 mlrun/api/crud/functions.py
+-rw-r--r--  2.0 unx    12025 b- defN 23-May-16 10:27 mlrun/api/crud/hub.py
+-rw-r--r--  2.0 unx     9729 b- defN 23-May-16 10:27 mlrun/api/crud/logs.py
+-rw-r--r--  2.0 unx     2751 b- defN 23-May-16 10:27 mlrun/api/crud/notifications.py
+-rw-r--r--  2.0 unx    14030 b- defN 23-May-16 10:27 mlrun/api/crud/pipelines.py
+-rw-r--r--  2.0 unx    14269 b- defN 23-May-16 10:27 mlrun/api/crud/projects.py
+-rw-r--r--  2.0 unx     5963 b- defN 23-May-16 10:27 mlrun/api/crud/runs.py
+-rw-r--r--  2.0 unx     5575 b- defN 23-May-16 10:27 mlrun/api/crud/runtime_resources.py
+-rw-r--r--  2.0 unx    20145 b- defN 23-May-16 10:27 mlrun/api/crud/secrets.py
+-rw-r--r--  2.0 unx     3277 b- defN 23-May-16 10:27 mlrun/api/crud/tags.py
+-rw-r--r--  2.0 unx      722 b- defN 23-May-16 10:27 mlrun/api/crud/model_monitoring/__init__.py
+-rw-r--r--  2.0 unx    15692 b- defN 23-May-16 10:27 mlrun/api/crud/model_monitoring/grafana.py
+-rw-r--r--  2.0 unx    43000 b- defN 23-May-16 10:27 mlrun/api/crud/model_monitoring/model_endpoints.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/crud/runtimes/__init__.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/crud/runtimes/nuclio/__init__.py
+-rw-r--r--  2.0 unx    17168 b- defN 23-May-16 10:27 mlrun/api/crud/runtimes/nuclio/function.py
+-rw-r--r--  2.0 unx    11398 b- defN 23-May-16 10:27 mlrun/api/crud/runtimes/nuclio/helpers.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/db/__init__.py
+-rw-r--r--  2.0 unx    15056 b- defN 23-May-16 10:27 mlrun/api/db/base.py
+-rw-r--r--  2.0 unx      870 b- defN 23-May-16 10:27 mlrun/api/db/init_db.py
+-rw-r--r--  2.0 unx      993 b- defN 23-May-16 10:27 mlrun/api/db/session.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/db/sqldb/__init__.py
+-rw-r--r--  2.0 unx   144515 b- defN 23-May-16 10:27 mlrun/api/db/sqldb/db.py
+-rw-r--r--  2.0 unx     2340 b- defN 23-May-16 10:27 mlrun/api/db/sqldb/helpers.py
+-rw-r--r--  2.0 unx     2542 b- defN 23-May-16 10:27 mlrun/api/db/sqldb/session.py
+-rw-r--r--  2.0 unx     1063 b- defN 23-May-16 10:27 mlrun/api/db/sqldb/models/__init__.py
+-rw-r--r--  2.0 unx    20642 b- defN 23-May-16 10:27 mlrun/api/db/sqldb/models/models_mysql.py
+-rw-r--r--  2.0 unx    18304 b- defN 23-May-16 10:27 mlrun/api/db/sqldb/models/models_sqlite.py
+-rw-r--r--  2.0 unx     2906 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/env.py
+-rw-r--r--  2.0 unx     1203 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/versions/28383af526f3_market_place_to_hub.py
+-rw-r--r--  2.0 unx     4614 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/versions/32bae1b0e29c_increase_timestamp_fields_precision.py
+-rw-r--r--  2.0 unx     1936 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/versions/4903aef6a91d_tag_foreign_key_and_cascades.py
+-rw-r--r--  2.0 unx     1909 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/versions/5f1351c88a19_adding_background_tasks_table.py
+-rw-r--r--  2.0 unx     1415 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/versions/88e656800d6a_add_requested_logs_column_and_index_to_.py
+-rw-r--r--  2.0 unx     1504 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/versions/9d16de5f03a7_adding_data_versions_table.py
+-rw-r--r--  2.0 unx     1649 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/versions/b86f5b53f3d7_adding_name_and_updated_to_runs_table.py
+-rw-r--r--  2.0 unx    24057 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/versions/c4af40b0bf61_init.py
+-rw-r--r--  2.0 unx     2457 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/versions/c905d15bd91d_notifications.py
+-rw-r--r--  2.0 unx     1351 b- defN 23-May-16 10:27 mlrun/api/migrations_mysql/versions/ee041e8fdaa0_adding_next_run_time_column_to_schedule_.py
+-rw-r--r--  2.0 unx     2906 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/env.py
+-rw-r--r--  2.0 unx    11473 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/11f8dd2dc9fe_init.py
+-rw-r--r--  2.0 unx     1348 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/1c954f8cb32d_schedule_last_run_uri.py
+-rw-r--r--  2.0 unx     5180 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/2b6d23c715aa_adding_feature_sets.py
+-rw-r--r--  2.0 unx     2595 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/4acd9430b093_market_place_to_hub.py
+-rw-r--r--  2.0 unx     1388 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/6401142f2d7c_adding_next_run_time_column_to_schedule_.py
+-rw-r--r--  2.0 unx     1767 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/64d90a1a69bc_adding_background_tasks_table.py
+-rw-r--r--  2.0 unx     1360 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/803438ecd005_add_requested_logs_column_to_runs.py
+-rw-r--r--  2.0 unx     1259 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/863114f0c659_refactoring_feature_set.py
+-rw-r--r--  2.0 unx     2147 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/959ae00528ad_notifications.py
+-rw-r--r--  2.0 unx     1482 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/accf9fc83d38_adding_data_versions_table.py
+-rw-r--r--  2.0 unx     1892 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/b68e8e897a28_schedule_labels.py
+-rw-r--r--  2.0 unx     1882 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/bcd0c1f9720c_adding_project_labels.py
+-rw-r--r--  2.0 unx     1420 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/cf21882f938e_schedule_id.py
+-rw-r--r--  2.0 unx     2034 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/d781f58f607f_tag_object_name_string.py
+-rw-r--r--  2.0 unx     1828 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/deac06871ace_adding_marketplace_sources_table.py
+-rw-r--r--  2.0 unx     1380 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/e1dd5983c06b_schedule_concurrency_limit.py
+-rw-r--r--  2.0 unx     1831 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/e5594ed3ab53_adding_name_and_updated_to_runs_table.py
+-rw-r--r--  2.0 unx     3936 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/f4249b4ba6fa_adding_feature_vectors.py
+-rw-r--r--  2.0 unx     2588 b- defN 23-May-16 10:27 mlrun/api/migrations_sqlite/versions/f7b5a1a03629_adding_feature_labels.py
+-rw-r--r--  2.0 unx    13338 b- defN 23-May-16 10:27 mlrun/api/schemas/__init__.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/utils/__init__.py
+-rw-r--r--  2.0 unx     1092 b- defN 23-May-16 10:27 mlrun/api/utils/asyncio.py
+-rw-r--r--  2.0 unx     7371 b- defN 23-May-16 10:27 mlrun/api/utils/background_tasks.py
+-rw-r--r--  2.0 unx    25560 b- defN 23-May-16 10:27 mlrun/api/utils/builder.py
+-rw-r--r--  2.0 unx     2431 b- defN 23-May-16 10:27 mlrun/api/utils/helpers.py
+-rw-r--r--  2.0 unx     3728 b- defN 23-May-16 10:27 mlrun/api/utils/memory_reports.py
+-rw-r--r--  2.0 unx     2599 b- defN 23-May-16 10:27 mlrun/api/utils/periodic.py
+-rw-r--r--  2.0 unx    39305 b- defN 23-May-16 10:27 mlrun/api/utils/scheduler.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/utils/auth/__init__.py
+-rw-r--r--  2.0 unx    12383 b- defN 23-May-16 10:27 mlrun/api/utils/auth/verifier.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/utils/auth/providers/__init__.py
+-rw-r--r--  2.0 unx     1381 b- defN 23-May-16 10:27 mlrun/api/utils/auth/providers/base.py
+-rw-r--r--  2.0 unx     1460 b- defN 23-May-16 10:27 mlrun/api/utils/auth/providers/nop.py
+-rw-r--r--  2.0 unx    10883 b- defN 23-May-16 10:27 mlrun/api/utils/auth/providers/opa.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/utils/clients/__init__.py
+-rw-r--r--  2.0 unx    13271 b- defN 23-May-16 10:27 mlrun/api/utils/clients/chief.py
+-rw-r--r--  2.0 unx    31249 b- defN 23-May-16 10:27 mlrun/api/utils/clients/iguazio.py
+-rw-r--r--  2.0 unx    12109 b- defN 23-May-16 10:27 mlrun/api/utils/clients/log_collector.py
+-rw-r--r--  2.0 unx     9916 b- defN 23-May-16 10:27 mlrun/api/utils/clients/nuclio.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/utils/clients/protocols/__init__.py
+-rw-r--r--  2.0 unx     2567 b- defN 23-May-16 10:27 mlrun/api/utils/clients/protocols/grpc.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/utils/db/__init__.py
+-rw-r--r--  2.0 unx     3305 b- defN 23-May-16 10:27 mlrun/api/utils/db/alembic.py
+-rw-r--r--  2.0 unx     8214 b- defN 23-May-16 10:27 mlrun/api/utils/db/backup.py
+-rw-r--r--  2.0 unx     3795 b- defN 23-May-16 10:27 mlrun/api/utils/db/mysql.py
+-rw-r--r--  2.0 unx      992 b- defN 23-May-16 10:27 mlrun/api/utils/db/sql_collation.py
+-rw-r--r--  2.0 unx     3855 b- defN 23-May-16 10:27 mlrun/api/utils/db/sqlite_migration.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/utils/projects/__init__.py
+-rw-r--r--  2.0 unx    17423 b- defN 23-May-16 10:27 mlrun/api/utils/projects/follower.py
+-rw-r--r--  2.0 unx    19372 b- defN 23-May-16 10:27 mlrun/api/utils/projects/leader.py
+-rw-r--r--  2.0 unx     7133 b- defN 23-May-16 10:27 mlrun/api/utils/projects/member.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/utils/projects/remotes/__init__.py
+-rw-r--r--  2.0 unx     2659 b- defN 23-May-16 10:27 mlrun/api/utils/projects/remotes/follower.py
+-rw-r--r--  2.0 unx     2094 b- defN 23-May-16 10:27 mlrun/api/utils/projects/remotes/leader.py
+-rw-r--r--  2.0 unx     5000 b- defN 23-May-16 10:27 mlrun/api/utils/projects/remotes/nop_follower.py
+-rw-r--r--  2.0 unx     3861 b- defN 23-May-16 10:27 mlrun/api/utils/projects/remotes/nop_leader.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/api/utils/singletons/__init__.py
+-rw-r--r--  2.0 unx     1202 b- defN 23-May-16 10:27 mlrun/api/utils/singletons/db.py
+-rw-r--r--  2.0 unx    22630 b- defN 23-May-16 10:27 mlrun/api/utils/singletons/k8s.py
+-rw-r--r--  2.0 unx      840 b- defN 23-May-16 10:27 mlrun/api/utils/singletons/logs_dir.py
+-rw-r--r--  2.0 unx     1279 b- defN 23-May-16 10:27 mlrun/api/utils/singletons/project_member.py
+-rw-r--r--  2.0 unx     1063 b- defN 23-May-16 10:27 mlrun/api/utils/singletons/scheduler.py
+-rw-r--r--  2.0 unx     1091 b- defN 23-May-16 10:27 mlrun/artifacts/__init__.py
+-rw-r--r--  2.0 unx    30849 b- defN 23-May-16 10:27 mlrun/artifacts/base.py
+-rw-r--r--  2.0 unx    20432 b- defN 23-May-16 10:27 mlrun/artifacts/dataset.py
+-rw-r--r--  2.0 unx    12594 b- defN 23-May-16 10:27 mlrun/artifacts/manager.py
+-rw-r--r--  2.0 unx    23673 b- defN 23-May-16 10:27 mlrun/artifacts/model.py
+-rw-r--r--  2.0 unx    15383 b- defN 23-May-16 10:27 mlrun/artifacts/plots.py
+-rw-r--r--  2.0 unx      571 b- defN 23-May-16 10:27 mlrun/common/__init__.py
+-rw-r--r--  2.0 unx      660 b- defN 23-May-16 10:27 mlrun/common/constants.py
+-rw-r--r--  2.0 unx     5670 b- defN 23-May-16 10:27 mlrun/common/model_monitoring.py
+-rw-r--r--  2.0 unx      790 b- defN 23-May-16 10:27 mlrun/common/types.py
+-rw-r--r--  2.0 unx     3973 b- defN 23-May-16 10:27 mlrun/common/schemas/__init__.py
+-rw-r--r--  2.0 unx     1923 b- defN 23-May-16 10:27 mlrun/common/schemas/artifact.py
+-rw-r--r--  2.0 unx     5251 b- defN 23-May-16 10:27 mlrun/common/schemas/auth.py
+-rw-r--r--  2.0 unx     1553 b- defN 23-May-16 10:27 mlrun/common/schemas/background_task.py
+-rw-r--r--  2.0 unx     2751 b- defN 23-May-16 10:27 mlrun/common/schemas/client_spec.py
+-rw-r--r--  2.0 unx      888 b- defN 23-May-16 10:27 mlrun/common/schemas/clusterization_spec.py
+-rw-r--r--  2.0 unx     6243 b- defN 23-May-16 10:27 mlrun/common/schemas/constants.py
+-rw-r--r--  2.0 unx     3671 b- defN 23-May-16 10:27 mlrun/common/schemas/feature_store.py
+-rw-r--r--  2.0 unx     2546 b- defN 23-May-16 10:27 mlrun/common/schemas/frontend_spec.py
+-rw-r--r--  2.0 unx     3971 b- defN 23-May-16 10:27 mlrun/common/schemas/function.py
+-rw-r--r--  2.0 unx      705 b- defN 23-May-16 10:27 mlrun/common/schemas/http.py
+-rw-r--r--  2.0 unx     4245 b- defN 23-May-16 10:27 mlrun/common/schemas/hub.py
+-rw-r--r--  2.0 unx     1395 b- defN 23-May-16 10:27 mlrun/common/schemas/k8s.py
+-rw-r--r--  2.0 unx      920 b- defN 23-May-16 10:27 mlrun/common/schemas/memory_reports.py
+-rw-r--r--  2.0 unx    12593 b- defN 23-May-16 10:27 mlrun/common/schemas/model_endpoints.py
+-rw-r--r--  2.0 unx      879 b- defN 23-May-16 10:27 mlrun/common/schemas/notification.py
+-rw-r--r--  2.0 unx     1907 b- defN 23-May-16 10:27 mlrun/common/schemas/object.py
+-rw-r--r--  2.0 unx     1184 b- defN 23-May-16 10:27 mlrun/common/schemas/pipeline.py
+-rw-r--r--  2.0 unx     4094 b- defN 23-May-16 10:27 mlrun/common/schemas/project.py
+-rw-r--r--  2.0 unx     1636 b- defN 23-May-16 10:27 mlrun/common/schemas/runtime_resource.py
+-rw-r--r--  2.0 unx     4188 b- defN 23-May-16 10:27 mlrun/common/schemas/schedule.py
+-rw-r--r--  2.0 unx     1484 b- defN 23-May-16 10:27 mlrun/common/schemas/secret.py
+-rw-r--r--  2.0 unx      905 b- defN 23-May-16 10:27 mlrun/common/schemas/tag.py
+-rw-r--r--  2.0 unx     1087 b- defN 23-May-16 10:27 mlrun/data_types/__init__.py
+-rw-r--r--  2.0 unx     4647 b- defN 23-May-16 10:27 mlrun/data_types/data_types.py
+-rw-r--r--  2.0 unx     5813 b- defN 23-May-16 10:27 mlrun/data_types/infer.py
+-rw-r--r--  2.0 unx     9426 b- defN 23-May-16 10:27 mlrun/data_types/spark.py
+-rw-r--r--  2.0 unx     3443 b- defN 23-May-16 10:27 mlrun/datastore/__init__.py
+-rw-r--r--  2.0 unx     6946 b- defN 23-May-16 10:27 mlrun/datastore/azure_blob.py
+-rw-r--r--  2.0 unx    18274 b- defN 23-May-16 10:27 mlrun/datastore/base.py
+-rw-r--r--  2.0 unx     7995 b- defN 23-May-16 10:27 mlrun/datastore/datastore.py
+-rw-r--r--  2.0 unx     3791 b- defN 23-May-16 10:27 mlrun/datastore/filestore.py
+-rw-r--r--  2.0 unx     5114 b- defN 23-May-16 10:27 mlrun/datastore/google_cloud_storage.py
+-rw-r--r--  2.0 unx     2627 b- defN 23-May-16 10:27 mlrun/datastore/inmem.py
+-rw-r--r--  2.0 unx     4873 b- defN 23-May-16 10:27 mlrun/datastore/redis.py
+-rw-r--r--  2.0 unx     7035 b- defN 23-May-16 10:27 mlrun/datastore/s3.py
+-rw-r--r--  2.0 unx    34305 b- defN 23-May-16 10:27 mlrun/datastore/sources.py
+-rw-r--r--  2.0 unx     1410 b- defN 23-May-16 10:27 mlrun/datastore/spark_udf.py
+-rw-r--r--  2.0 unx     6895 b- defN 23-May-16 10:27 mlrun/datastore/store_resources.py
+-rw-r--r--  2.0 unx    62060 b- defN 23-May-16 10:27 mlrun/datastore/targets.py
+-rw-r--r--  2.0 unx     2900 b- defN 23-May-16 10:27 mlrun/datastore/utils.py
+-rw-r--r--  2.0 unx     8097 b- defN 23-May-16 10:27 mlrun/datastore/v3io.py
+-rw-r--r--  2.0 unx     1343 b- defN 23-May-16 10:27 mlrun/datastore/wasbfs/__init__.py
+-rw-r--r--  2.0 unx     6152 b- defN 23-May-16 10:27 mlrun/datastore/wasbfs/fs.py
+-rw-r--r--  2.0 unx     2816 b- defN 23-May-16 10:27 mlrun/db/__init__.py
+-rw-r--r--  2.0 unx    15968 b- defN 23-May-16 10:27 mlrun/db/base.py
+-rw-r--r--  2.0 unx   130800 b- defN 23-May-16 10:27 mlrun/db/httpdb.py
+-rw-r--r--  2.0 unx    13197 b- defN 23-May-16 10:27 mlrun/db/nopdb.py
+-rw-r--r--  2.0 unx    25577 b- defN 23-May-16 10:27 mlrun/db/sqldb.py
+-rw-r--r--  2.0 unx     1501 b- defN 23-May-16 10:27 mlrun/feature_store/__init__.py
+-rw-r--r--  2.0 unx    43820 b- defN 23-May-16 10:27 mlrun/feature_store/api.py
+-rw-r--r--  2.0 unx    12781 b- defN 23-May-16 10:27 mlrun/feature_store/common.py
+-rw-r--r--  2.0 unx    47273 b- defN 23-May-16 10:27 mlrun/feature_store/feature_set.py
+-rw-r--r--  2.0 unx    21940 b- defN 23-May-16 10:27 mlrun/feature_store/feature_vector.py
+-rw-r--r--  2.0 unx    11681 b- defN 23-May-16 10:27 mlrun/feature_store/ingestion.py
+-rw-r--r--  2.0 unx    28635 b- defN 23-May-16 10:27 mlrun/feature_store/steps.py
+-rw-r--r--  2.0 unx     1232 b- defN 23-May-16 10:27 mlrun/feature_store/retrieval/__init__.py
+-rw-r--r--  2.0 unx    25911 b- defN 23-May-16 10:27 mlrun/feature_store/retrieval/base.py
+-rw-r--r--  2.0 unx     4261 b- defN 23-May-16 10:27 mlrun/feature_store/retrieval/dask_merger.py
+-rw-r--r--  2.0 unx     7141 b- defN 23-May-16 10:27 mlrun/feature_store/retrieval/job.py
+-rw-r--r--  2.0 unx     4765 b- defN 23-May-16 10:27 mlrun/feature_store/retrieval/local_merger.py
+-rw-r--r--  2.0 unx     3352 b- defN 23-May-16 10:27 mlrun/feature_store/retrieval/online.py
+-rw-r--r--  2.0 unx     9661 b- defN 23-May-16 10:27 mlrun/feature_store/retrieval/spark_merger.py
+-rw-r--r--  2.0 unx      743 b- defN 23-May-16 10:27 mlrun/frameworks/__init__.py
+-rw-r--r--  2.0 unx    11466 b- defN 23-May-16 10:27 mlrun/frameworks/parallel_coordinates.py
+-rw-r--r--  2.0 unx      962 b- defN 23-May-16 10:27 mlrun/frameworks/_common/__init__.py
+-rw-r--r--  2.0 unx     8515 b- defN 23-May-16 10:27 mlrun/frameworks/_common/artifacts_library.py
+-rw-r--r--  2.0 unx    21018 b- defN 23-May-16 10:27 mlrun/frameworks/_common/mlrun_interface.py
+-rw-r--r--  2.0 unx    55376 b- defN 23-May-16 10:27 mlrun/frameworks/_common/model_handler.py
+-rw-r--r--  2.0 unx     3469 b- defN 23-May-16 10:27 mlrun/frameworks/_common/plan.py
+-rw-r--r--  2.0 unx     5757 b- defN 23-May-16 10:27 mlrun/frameworks/_common/producer.py
+-rw-r--r--  2.0 unx     9209 b- defN 23-May-16 10:27 mlrun/frameworks/_common/utils.py
+-rw-r--r--  2.0 unx      750 b- defN 23-May-16 10:27 mlrun/frameworks/_dl_common/__init__.py
+-rw-r--r--  2.0 unx     1151 b- defN 23-May-16 10:27 mlrun/frameworks/_dl_common/model_handler.py
+-rw-r--r--  2.0 unx      996 b- defN 23-May-16 10:27 mlrun/frameworks/_dl_common/utils.py
+-rw-r--r--  2.0 unx      787 b- defN 23-May-16 10:27 mlrun/frameworks/_dl_common/loggers/__init__.py
+-rw-r--r--  2.0 unx    11531 b- defN 23-May-16 10:27 mlrun/frameworks/_dl_common/loggers/logger.py
+-rw-r--r--  2.0 unx    14777 b- defN 23-May-16 10:27 mlrun/frameworks/_dl_common/loggers/mlrun_logger.py
+-rw-r--r--  2.0 unx    28414 b- defN 23-May-16 10:27 mlrun/frameworks/_dl_common/loggers/tensorboard_logger.py
+-rw-r--r--  2.0 unx      956 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/__init__.py
+-rw-r--r--  2.0 unx     3169 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/artifacts_library.py
+-rw-r--r--  2.0 unx    16957 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/model_handler.py
+-rw-r--r--  2.0 unx     2368 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/pkl_model_server.py
+-rw-r--r--  2.0 unx     4881 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/plan.py
+-rw-r--r--  2.0 unx     4061 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/producer.py
+-rw-r--r--  2.0 unx    10490 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/utils.py
+-rw-r--r--  2.0 unx      737 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/loggers/__init__.py
+-rw-r--r--  2.0 unx     5684 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/loggers/logger.py
+-rw-r--r--  2.0 unx     6453 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/loggers/mlrun_logger.py
+-rw-r--r--  2.0 unx      922 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/plans/__init__.py
+-rw-r--r--  2.0 unx     5212 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/plans/calibration_curve_plan.py
+-rw-r--r--  2.0 unx     6078 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/plans/confusion_matrix_plan.py
+-rw-r--r--  2.0 unx     6658 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/plans/dataset_plan.py
+-rw-r--r--  2.0 unx     5318 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/plans/feature_importance_plan.py
+-rw-r--r--  2.0 unx     6993 b- defN 23-May-16 10:27 mlrun/frameworks/_ml_common/plans/roc_curve_plan.py
+-rw-r--r--  2.0 unx      706 b- defN 23-May-16 10:27 mlrun/frameworks/auto_mlrun/__init__.py
+-rw-r--r--  2.0 unx    23796 b- defN 23-May-16 10:27 mlrun/frameworks/auto_mlrun/auto_mlrun.py
+-rw-r--r--  2.0 unx      721 b- defN 23-May-16 10:27 mlrun/frameworks/huggingface/__init__.py
+-rw-r--r--  2.0 unx     6083 b- defN 23-May-16 10:27 mlrun/frameworks/huggingface/model_server.py
+-rw-r--r--  2.0 unx    15883 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/__init__.py
+-rw-r--r--  2.0 unx    13891 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/model_handler.py
+-rw-r--r--  2.0 unx     9189 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/model_server.py
+-rw-r--r--  2.0 unx     8278 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/utils.py
+-rw-r--r--  2.0 unx      857 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/callbacks/__init__.py
+-rw-r--r--  2.0 unx     4081 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/callbacks/callback.py
+-rw-r--r--  2.0 unx     5156 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/callbacks/logging_callback.py
+-rw-r--r--  2.0 unx     4137 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/callbacks/mlrun_logging_callback.py
+-rw-r--r--  2.0 unx      842 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/mlrun_interfaces/__init__.py
+-rw-r--r--  2.0 unx     1624 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/mlrun_interfaces/booster_mlrun_interface.py
+-rw-r--r--  2.0 unx    14256 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/mlrun_interfaces/mlrun_interface.py
+-rw-r--r--  2.0 unx     1333 b- defN 23-May-16 10:27 mlrun/frameworks/lgbm/mlrun_interfaces/model_mlrun_interface.py
+-rw-r--r--  2.0 unx      791 b- defN 23-May-16 10:27 mlrun/frameworks/onnx/__init__.py
+-rw-r--r--  2.0 unx     6098 b- defN 23-May-16 10:27 mlrun/frameworks/onnx/dataset.py
+-rw-r--r--  2.0 unx     2405 b- defN 23-May-16 10:27 mlrun/frameworks/onnx/mlrun_interface.py
+-rw-r--r--  2.0 unx     6203 b- defN 23-May-16 10:27 mlrun/frameworks/onnx/model_handler.py
+-rw-r--r--  2.0 unx     7061 b- defN 23-May-16 10:27 mlrun/frameworks/onnx/model_server.py
+-rw-r--r--  2.0 unx    22056 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/__init__.py
+-rw-r--r--  2.0 unx    27904 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/callbacks_handler.py
+-rw-r--r--  2.0 unx    44639 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/mlrun_interface.py
+-rw-r--r--  2.0 unx    22465 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/model_handler.py
+-rw-r--r--  2.0 unx    10136 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/model_server.py
+-rw-r--r--  2.0 unx     4515 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/utils.py
+-rw-r--r--  2.0 unx      896 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/callbacks/__init__.py
+-rw-r--r--  2.0 unx    11524 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/callbacks/callback.py
+-rw-r--r--  2.0 unx    23166 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/callbacks/logging_callback.py
+-rw-r--r--  2.0 unx     9310 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/callbacks/mlrun_logging_callback.py
+-rw-r--r--  2.0 unx    26661 b- defN 23-May-16 10:27 mlrun/frameworks/pytorch/callbacks/tensorboard_logging_callback.py
+-rw-r--r--  2.0 unx    10892 b- defN 23-May-16 10:27 mlrun/frameworks/sklearn/__init__.py
+-rw-r--r--  2.0 unx     5852 b- defN 23-May-16 10:27 mlrun/frameworks/sklearn/estimator.py
+-rw-r--r--  2.0 unx     7117 b- defN 23-May-16 10:27 mlrun/frameworks/sklearn/metric.py
+-rw-r--r--  2.0 unx    12215 b- defN 23-May-16 10:27 mlrun/frameworks/sklearn/metrics_library.py
+-rw-r--r--  2.0 unx    14126 b- defN 23-May-16 10:27 mlrun/frameworks/sklearn/mlrun_interface.py
+-rw-r--r--  2.0 unx     4745 b- defN 23-May-16 10:27 mlrun/frameworks/sklearn/model_handler.py
+-rw-r--r--  2.0 unx     1209 b- defN 23-May-16 10:27 mlrun/frameworks/sklearn/utils.py
+-rw-r--r--  2.0 unx    10455 b- defN 23-May-16 10:27 mlrun/frameworks/tf_keras/__init__.py
+-rw-r--r--  2.0 unx    16627 b- defN 23-May-16 10:27 mlrun/frameworks/tf_keras/mlrun_interface.py
+-rw-r--r--  2.0 unx    28247 b- defN 23-May-16 10:27 mlrun/frameworks/tf_keras/model_handler.py
+-rw-r--r--  2.0 unx     9565 b- defN 23-May-16 10:27 mlrun/frameworks/tf_keras/model_server.py
+-rw-r--r--  2.0 unx     4284 b- defN 23-May-16 10:27 mlrun/frameworks/tf_keras/utils.py
+-rw-r--r--  2.0 unx      844 b- defN 23-May-16 10:27 mlrun/frameworks/tf_keras/callbacks/__init__.py
+-rw-r--r--  2.0 unx    21886 b- defN 23-May-16 10:27 mlrun/frameworks/tf_keras/callbacks/logging_callback.py
+-rw-r--r--  2.0 unx     8791 b- defN 23-May-16 10:27 mlrun/frameworks/tf_keras/callbacks/mlrun_logging_callback.py
+-rw-r--r--  2.0 unx    28728 b- defN 23-May-16 10:27 mlrun/frameworks/tf_keras/callbacks/tensorboard_logging_callback.py
+-rw-r--r--  2.0 unx    10287 b- defN 23-May-16 10:27 mlrun/frameworks/xgboost/__init__.py
+-rw-r--r--  2.0 unx      878 b- defN 23-May-16 10:27 mlrun/frameworks/xgboost/mlrun_interface.py
+-rw-r--r--  2.0 unx    11617 b- defN 23-May-16 10:27 mlrun/frameworks/xgboost/model_handler.py
+-rw-r--r--  2.0 unx     1069 b- defN 23-May-16 10:27 mlrun/frameworks/xgboost/utils.py
+-rw-r--r--  2.0 unx      577 b- defN 23-May-16 10:27 mlrun/launcher/__init__.py
+-rw-r--r--  2.0 unx    14886 b- defN 23-May-16 10:27 mlrun/launcher/base.py
+-rw-r--r--  2.0 unx     4791 b- defN 23-May-16 10:27 mlrun/launcher/client.py
+-rw-r--r--  2.0 unx     1883 b- defN 23-May-16 10:27 mlrun/launcher/factory.py
+-rw-r--r--  2.0 unx    10419 b- defN 23-May-16 10:27 mlrun/launcher/local.py
+-rw-r--r--  2.0 unx     6875 b- defN 23-May-16 10:27 mlrun/launcher/remote.py
+-rw-r--r--  2.0 unx      760 b- defN 23-May-16 10:27 mlrun/mlutils/__init__.py
+-rw-r--r--  2.0 unx     5325 b- defN 23-May-16 10:27 mlrun/mlutils/data.py
+-rw-r--r--  2.0 unx     2598 b- defN 23-May-16 10:27 mlrun/mlutils/models.py
+-rw-r--r--  2.0 unx    30120 b- defN 23-May-16 10:27 mlrun/mlutils/plots.py
+-rw-r--r--  2.0 unx     1208 b- defN 23-May-16 10:27 mlrun/model_monitoring/__init__.py
+-rw-r--r--  2.0 unx    23948 b- defN 23-May-16 10:27 mlrun/model_monitoring/features_drift_table.py
+-rw-r--r--  2.0 unx     9756 b- defN 23-May-16 10:27 mlrun/model_monitoring/helpers.py
+-rw-r--r--  2.0 unx     5196 b- defN 23-May-16 10:27 mlrun/model_monitoring/model_endpoint.py
+-rw-r--r--  2.0 unx    36885 b- defN 23-May-16 10:27 mlrun/model_monitoring/model_monitoring_batch.py
+-rw-r--r--  2.0 unx    43172 b- defN 23-May-16 10:27 mlrun/model_monitoring/stream_processing_fs.py
+-rw-r--r--  2.0 unx     4240 b- defN 23-May-16 10:27 mlrun/model_monitoring/stores/__init__.py
+-rw-r--r--  2.0 unx    17357 b- defN 23-May-16 10:27 mlrun/model_monitoring/stores/kv_model_endpoint_store.py
+-rw-r--r--  2.0 unx     5695 b- defN 23-May-16 10:27 mlrun/model_monitoring/stores/model_endpoint_store.py
+-rw-r--r--  2.0 unx    15706 b- defN 23-May-16 10:27 mlrun/model_monitoring/stores/sql_model_endpoint_store.py
+-rw-r--r--  2.0 unx      884 b- defN 23-May-16 10:27 mlrun/model_monitoring/stores/models/__init__.py
+-rw-r--r--  2.0 unx      655 b- defN 23-May-16 10:27 mlrun/model_monitoring/stores/models/base.py
+-rw-r--r--  2.0 unx     3741 b- defN 23-May-16 10:27 mlrun/model_monitoring/stores/models/mysql.py
+-rw-r--r--  2.0 unx     3658 b- defN 23-May-16 10:27 mlrun/model_monitoring/stores/models/sqlite.py
+-rw-r--r--  2.0 unx     2400 b- defN 23-May-16 10:27 mlrun/platforms/__init__.py
+-rw-r--r--  2.0 unx    24102 b- defN 23-May-16 10:27 mlrun/platforms/iguazio.py
+-rw-r--r--  2.0 unx    11852 b- defN 23-May-16 10:27 mlrun/platforms/other.py
+-rw-r--r--  2.0 unx     1153 b- defN 23-May-16 10:27 mlrun/projects/__init__.py
+-rw-r--r--  2.0 unx    17480 b- defN 23-May-16 10:27 mlrun/projects/operations.py
+-rw-r--r--  2.0 unx    38336 b- defN 23-May-16 10:27 mlrun/projects/pipelines.py
+-rw-r--r--  2.0 unx   105376 b- defN 23-May-16 10:27 mlrun/projects/project.py
+-rw-r--r--  2.0 unx     8773 b- defN 23-May-16 10:27 mlrun/runtimes/__init__.py
+-rw-r--r--  2.0 unx    89589 b- defN 23-May-16 10:27 mlrun/runtimes/base.py
+-rw-r--r--  2.0 unx     6689 b- defN 23-May-16 10:27 mlrun/runtimes/constants.py
+-rw-r--r--  2.0 unx    30520 b- defN 23-May-16 10:27 mlrun/runtimes/daskjob.py
+-rw-r--r--  2.0 unx     9561 b- defN 23-May-16 10:27 mlrun/runtimes/funcdoc.py
+-rw-r--r--  2.0 unx    45205 b- defN 23-May-16 10:27 mlrun/runtimes/function.py
+-rw-r--r--  2.0 unx     4911 b- defN 23-May-16 10:27 mlrun/runtimes/function_reference.py
+-rw-r--r--  2.0 unx     6530 b- defN 23-May-16 10:27 mlrun/runtimes/generators.py
+-rw-r--r--  2.0 unx    15140 b- defN 23-May-16 10:27 mlrun/runtimes/kubejob.py
+-rw-r--r--  2.0 unx    18982 b- defN 23-May-16 10:27 mlrun/runtimes/local.py
+-rw-r--r--  2.0 unx     2885 b- defN 23-May-16 10:27 mlrun/runtimes/nuclio.py
+-rw-r--r--  2.0 unx    60808 b- defN 23-May-16 10:27 mlrun/runtimes/pod.py
+-rw-r--r--  2.0 unx     7695 b- defN 23-May-16 10:27 mlrun/runtimes/remotesparkjob.py
+-rw-r--r--  2.0 unx    29858 b- defN 23-May-16 10:27 mlrun/runtimes/serving.py
+-rw-r--r--  2.0 unx    21222 b- defN 23-May-16 10:27 mlrun/runtimes/utils.py
+-rw-r--r--  2.0 unx      790 b- defN 23-May-16 10:27 mlrun/runtimes/mpijob/__init__.py
+-rw-r--r--  2.0 unx    14713 b- defN 23-May-16 10:27 mlrun/runtimes/mpijob/abstract.py
+-rw-r--r--  2.0 unx    13845 b- defN 23-May-16 10:27 mlrun/runtimes/mpijob/v1.py
+-rw-r--r--  2.0 unx     8460 b- defN 23-May-16 10:27 mlrun/runtimes/mpijob/v1alpha1.py
+-rw-r--r--  2.0 unx      673 b- defN 23-May-16 10:27 mlrun/runtimes/package/__init__.py
+-rw-r--r--  2.0 unx    27068 b- defN 23-May-16 10:27 mlrun/runtimes/package/context_handler.py
+-rw-r--r--  2.0 unx      751 b- defN 23-May-16 10:27 mlrun/runtimes/sparkjob/__init__.py
+-rw-r--r--  2.0 unx    35028 b- defN 23-May-16 10:27 mlrun/runtimes/sparkjob/abstract.py
+-rw-r--r--  2.0 unx    28746 b- defN 23-May-16 10:27 mlrun/runtimes/sparkjob/spark3job.py
+-rw-r--r--  2.0 unx     1078 b- defN 23-May-16 10:27 mlrun/serving/__init__.py
+-rw-r--r--  2.0 unx     6116 b- defN 23-May-16 10:27 mlrun/serving/merger.py
+-rw-r--r--  2.0 unx    18038 b- defN 23-May-16 10:27 mlrun/serving/remote.py
+-rw-r--r--  2.0 unx    55277 b- defN 23-May-16 10:27 mlrun/serving/routers.py
+-rw-r--r--  2.0 unx    20247 b- defN 23-May-16 10:27 mlrun/serving/server.py
+-rw-r--r--  2.0 unx      836 b- defN 23-May-16 10:27 mlrun/serving/serving_wrapper.py
+-rw-r--r--  2.0 unx    53940 b- defN 23-May-16 10:27 mlrun/serving/states.py
+-rw-r--r--  2.0 unx     3902 b- defN 23-May-16 10:27 mlrun/serving/utils.py
+-rw-r--r--  2.0 unx    11814 b- defN 23-May-16 10:27 mlrun/serving/v1_serving.py
+-rw-r--r--  2.0 unx    21460 b- defN 23-May-16 10:27 mlrun/serving/v2_serving.py
+-rw-r--r--  2.0 unx      826 b- defN 23-May-16 10:27 mlrun/utils/__init__.py
+-rw-r--r--  2.0 unx    10397 b- defN 23-May-16 10:27 mlrun/utils/async_http.py
+-rw-r--r--  2.0 unx     3456 b- defN 23-May-16 10:27 mlrun/utils/azure_vault.py
+-rw-r--r--  2.0 unx     6245 b- defN 23-May-16 10:27 mlrun/utils/clones.py
+-rw-r--r--  2.0 unx     1662 b- defN 23-May-16 10:27 mlrun/utils/db.py
+-rw-r--r--  2.0 unx    42577 b- defN 23-May-16 10:27 mlrun/utils/helpers.py
+-rw-r--r--  2.0 unx     7093 b- defN 23-May-16 10:27 mlrun/utils/http.py
+-rw-r--r--  2.0 unx     5637 b- defN 23-May-16 10:27 mlrun/utils/logger.py
+-rw-r--r--  2.0 unx     9969 b- defN 23-May-16 10:27 mlrun/utils/model_monitoring.py
+-rw-r--r--  2.0 unx     3954 b- defN 23-May-16 10:27 mlrun/utils/regex.py
+-rw-r--r--  2.0 unx      883 b- defN 23-May-16 10:27 mlrun/utils/singleton.py
+-rw-r--r--  2.0 unx     1319 b- defN 23-May-16 10:27 mlrun/utils/v3io_clients.py
+-rw-r--r--  2.0 unx    10447 b- defN 23-May-16 10:27 mlrun/utils/vault.py
+-rw-r--r--  2.0 unx      990 b- defN 23-May-16 10:27 mlrun/utils/notifications/__init__.py
+-rw-r--r--  2.0 unx    12331 b- defN 23-May-16 10:27 mlrun/utils/notifications/notification_pusher.py
+-rw-r--r--  2.0 unx     1803 b- defN 23-May-16 10:27 mlrun/utils/notifications/notification/__init__.py
+-rw-r--r--  2.0 unx     2177 b- defN 23-May-16 10:27 mlrun/utils/notifications/notification/base.py
+-rw-r--r--  2.0 unx     1971 b- defN 23-May-16 10:27 mlrun/utils/notifications/notification/console.py
+-rw-r--r--  2.0 unx     4742 b- defN 23-May-16 10:27 mlrun/utils/notifications/notification/git.py
+-rw-r--r--  2.0 unx     2021 b- defN 23-May-16 10:27 mlrun/utils/notifications/notification/ipython.py
+-rw-r--r--  2.0 unx     3751 b- defN 23-May-16 10:27 mlrun/utils/notifications/notification/slack.py
+-rw-r--r--  2.0 unx      614 b- defN 23-May-16 10:27 mlrun/utils/version/__init__.py
+-rw-r--r--  2.0 unx       88 b- defN 23-May-16 10:27 mlrun/utils/version/version.json
+-rw-r--r--  2.0 unx     1970 b- defN 23-May-16 10:27 mlrun/utils/version/version.py
+-rw-r--r--  2.0 unx    11357 b- defN 23-May-16 10:27 mlrun-1.4.0rc5.dist-info/LICENSE
+-rw-r--r--  2.0 unx    16892 b- defN 23-May-16 10:27 mlrun-1.4.0rc5.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-16 10:27 mlrun-1.4.0rc5.dist-info/WHEEL
+-rw-r--r--  2.0 unx       47 b- defN 23-May-16 10:27 mlrun-1.4.0rc5.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        6 b- defN 23-May-16 10:27 mlrun-1.4.0rc5.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx    38487 b- defN 23-May-16 10:27 mlrun-1.4.0rc5.dist-info/RECORD
+410 files, 4429066 bytes uncompressed, 1128071 bytes compressed:  74.5%
```

## zipnote {}

```diff
@@ -1206,26 +1206,26 @@
 
 Filename: mlrun/utils/version/version.json
 Comment: 
 
 Filename: mlrun/utils/version/version.py
 Comment: 
 
-Filename: mlrun-1.4.0rc4.dist-info/LICENSE
+Filename: mlrun-1.4.0rc5.dist-info/LICENSE
 Comment: 
 
-Filename: mlrun-1.4.0rc4.dist-info/METADATA
+Filename: mlrun-1.4.0rc5.dist-info/METADATA
 Comment: 
 
-Filename: mlrun-1.4.0rc4.dist-info/WHEEL
+Filename: mlrun-1.4.0rc5.dist-info/WHEEL
 Comment: 
 
-Filename: mlrun-1.4.0rc4.dist-info/entry_points.txt
+Filename: mlrun-1.4.0rc5.dist-info/entry_points.txt
 Comment: 
 
-Filename: mlrun-1.4.0rc4.dist-info/top_level.txt
+Filename: mlrun-1.4.0rc5.dist-info/top_level.txt
 Comment: 
 
-Filename: mlrun-1.4.0rc4.dist-info/RECORD
+Filename: mlrun-1.4.0rc5.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## mlrun/api/launcher.py

```diff
@@ -42,15 +42,14 @@
         schedule: Optional[
             Union[str, mlrun.common.schemas.schedule.ScheduleCronTrigger]
         ] = None,
         hyperparams: Dict[str, list] = None,
         hyper_param_options: Optional[mlrun.model.HyperParamOptions] = None,
         verbose: Optional[bool] = None,
         scrape_metrics: Optional[bool] = None,
-        local: Optional[bool] = False,
         local_code_path: Optional[str] = None,
         auto_build: Optional[bool] = None,
         param_file_secrets: Optional[Dict[str, str]] = None,
         notifications: Optional[List[mlrun.model.Notification]] = None,
         returns: Optional[List[Union[str, Dict[str, str]]]] = None,
     ) -> mlrun.run.RunObject:
         self._enrich_runtime(runtime)
@@ -86,15 +85,15 @@
                 name=run.metadata.name,
                 uid=run.metadata.uid,
             )
             self._store_function(runtime, run)
 
         execution = mlrun.execution.MLClientCtx.from_dict(
             run.to_dict(),
-            self.db,
+            runtime._get_db(),
             autocommit=False,
             is_api=True,
             store_run=False,
         )
 
         # create task generator (for child runs) from spec
         task_generator = mlrun.runtimes.generators.get_generator(
@@ -176,13 +175,14 @@
             runobj.metadata.project,
         )
 
     def _store_function(
         self, runtime: mlrun.runtimes.base.BaseRuntime, run: mlrun.run.RunObject
     ):
         run.metadata.labels["kind"] = runtime.kind
-        if self.db and runtime.kind != "handler":
+        db = runtime._get_db()
+        if db and runtime.kind != "handler":
             struct = runtime.to_dict()
-            hash_key = self.db.store_function(
+            hash_key = db.store_function(
                 struct, runtime.metadata.name, runtime.metadata.project, versioned=True
             )
             run.spec.function = runtime._function_uri(hash_key=hash_key)
```

## mlrun/api/api/utils.py

```diff
@@ -117,17 +117,15 @@
     if real_path:
         allowed_paths_list.append(real_path)
     allowed_paths_list.append("v3io://")
     return allowed_paths_list
 
 
 def get_secrets(
-    auth_info: typing.Union[
-        mlrun.common.schemas.AuthInfo,
-    ]
+    auth_info: mlrun.common.schemas.AuthInfo,
 ):
     return {
         "V3IO_ACCESS_KEY": auth_info.data_session,
     }
 
 
 def get_run_db_instance(
```

## mlrun/api/api/endpoints/feature_store.py

```diff
@@ -9,15 +9,14 @@
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
 import asyncio
-import typing
 from http import HTTPStatus
 from typing import List, Optional
 
 from fastapi import APIRouter, Depends, Header, Query, Response
 from fastapi.concurrency import run_in_threadpool
 from sqlalchemy.orm import Session
 
@@ -502,17 +501,15 @@
     "/projects/{project}/entities", response_model=mlrun.common.schemas.EntitiesOutput
 )
 async def list_entities(
     project: str,
     name: str = None,
     tag: str = None,
     labels: List[str] = Query(None, alias="label"),
-    auth_info: typing.Union[
-        mlrun.common.schemas.AuthInfo, mlrun.common.schemas.AuthInfo
-    ] = Depends(deps.authenticate_request),
+    auth_info: mlrun.common.schemas.AuthInfo = Depends(deps.authenticate_request),
     db_session: Session = Depends(deps.get_db_session),
 ):
     await mlrun.api.utils.auth.verifier.AuthVerifier().query_project_permissions(
         project,
         mlrun.common.schemas.AuthorizationAction.read,
         auth_info,
     )
@@ -540,17 +537,15 @@
     "/projects/{project}/feature-vectors",
     response_model=mlrun.common.schemas.FeatureVector,
 )
 async def create_feature_vector(
     project: str,
     feature_vector: mlrun.common.schemas.FeatureVector,
     versioned: bool = True,
-    auth_info: typing.Union[
-        mlrun.common.schemas.AuthInfo, mlrun.common.schemas.AuthInfo
-    ] = Depends(deps.authenticate_request),
+    auth_info: mlrun.common.schemas.AuthInfo = Depends(deps.authenticate_request),
     db_session: Session = Depends(deps.get_db_session),
 ):
     await run_in_threadpool(
         mlrun.api.utils.singletons.project_member.get_project_member().ensure_project,
         db_session,
         project,
         auth_info=auth_info,
```

## mlrun/api/api/endpoints/functions.py

```diff
@@ -83,15 +83,15 @@
     )
     data = None
     try:
         data = await request.json()
     except ValueError:
         log_and_raise(HTTPStatus.BAD_REQUEST.value, reason="bad JSON body")
 
-    logger.debug("Storing function", project=project, name=name, tag=tag, data=data)
+    logger.debug("Storing function", project=project, name=name, tag=tag)
     hash_key = await run_in_threadpool(
         mlrun.api.crud.Functions().store_function,
         db_session,
         data,
         name,
         project,
         tag=tag,
@@ -435,15 +435,14 @@
             },
         )
 
     # read from log file
     terminal_states = ["failed", "error", "ready"]
     log_file = log_path(project, f"build_{name}__{tag or 'latest'}")
     if state in terminal_states and log_file.exists():
-
         if state == mlrun.common.schemas.FunctionState.ready:
             # when the function has been built we set the created image into the `spec.image` for reference see at the
             # end of the function where we resolve if the status is ready and then set the spec.build.image to
             # spec.image
             # TODO: spec shouldn't hold backend enriched attributes, but rather in the status block
             #   therefore need set it as a new attribute in status.image which will ease our resolution
             #   of whether it is a user defined image or MLRun enriched one.
@@ -617,15 +616,14 @@
             reason=f"runtime error: {err_to_str(err)}",
         )
     try:
         run_db = get_run_db_instance(db_session)
         fn.set_db_connection(run_db)
         fn.save(versioned=False)
         if fn.kind in RuntimeKinds.nuclio_runtimes():
-
             mlrun.api.api.utils.apply_enrichment_and_validation_on_function(
                 fn,
                 auth_info,
             )
 
             if fn.kind == RuntimeKinds.serving:
                 # Handle model monitoring
@@ -817,15 +815,14 @@
         log_and_raise(
             HTTPStatus.BAD_REQUEST.value,
             reason=f"runtime error: {err_to_str(err)}",
         )
 
 
 def _create_model_monitoring_stream(project: str, function):
-
     _init_serving_function_stream_args(fn=function)
 
     stream_path = mlrun.mlconf.get_model_monitoring_file_target_path(
         project=project, kind="events"
     )
 
     _, container, stream_path = parse_model_endpoint_store_prefix(stream_path)
@@ -904,16 +901,14 @@
             project_name,
             provider,
             internal_key_name,
             allow_secrets_from_k8s=True,
             allow_internal_secrets=True,
         )
         if not secret_value:
-            import mlrun.api.utils.singletons.project_member
-
             project_owner = mlrun.api.utils.singletons.project_member.get_project_member().get_project_owner(
                 db_session, project_name
             )
 
             secret_value = project_owner.access_key
             if not secret_value:
                 raise MLRunRuntimeError(
```

## mlrun/api/api/endpoints/runs.py

```diff
@@ -22,15 +22,14 @@
 
 import mlrun.api.crud
 import mlrun.api.utils.auth.verifier
 import mlrun.api.utils.singletons.project_member
 import mlrun.common.schemas
 from mlrun.api.api import deps
 from mlrun.api.api.utils import log_and_raise
-from mlrun.utils import logger
 from mlrun.utils.helpers import datetime_from_iso
 
 router = APIRouter()
 
 
 @router.post("/run/{project}/{uid}")
 async def store_run(
@@ -56,15 +55,14 @@
     )
     data = None
     try:
         data = await request.json()
     except ValueError:
         log_and_raise(HTTPStatus.BAD_REQUEST.value, reason="bad JSON body")
 
-    logger.info("Storing run", data=data)
     await run_in_threadpool(
         mlrun.api.crud.Runs().store_run,
         db_session,
         data,
         uid,
         iter,
         project,
```

## mlrun/api/crud/runs.py

```diff
@@ -37,15 +37,14 @@
         db_session: sqlalchemy.orm.Session,
         data: dict,
         uid: str,
         iter: int = 0,
         project: str = mlrun.mlconf.default_project,
     ):
         project = project or mlrun.mlconf.default_project
-        logger.info("Storing run", data=data)
         mlrun.api.utils.singletons.db.get_db().store_run(
             db_session,
             data,
             uid,
             project,
             iter=iter,
         )
@@ -55,15 +54,15 @@
         db_session: sqlalchemy.orm.Session,
         project: str,
         uid: str,
         iter: int,
         data: dict,
     ):
         project = project or mlrun.mlconf.default_project
-        logger.debug("Updating run", project=project, uid=uid, iter=iter, data=data)
+        logger.debug("Updating run", project=project, uid=uid, iter=iter)
         # TODO: do some desired state for run, it doesn't make sense that API user changes the status in order to
         #  trigger abortion
         if (
             data
             and data.get("status.state") == mlrun.runtimes.constants.RunStates.aborted
         ):
             current_run = mlrun.api.utils.singletons.db.get_db().read_run(
```

## mlrun/api/db/sqldb/db.py

```diff
@@ -181,15 +181,19 @@
         session,
         run_data,
         uid,
         project="",
         iter=0,
     ):
         logger.debug(
-            "Storing run to db", project=project, uid=uid, iter=iter, run=run_data
+            "Storing run to db",
+            project=project,
+            uid=uid,
+            iter=iter,
+            run_name=run_data["metadata"]["name"],
         )
         run = self._get_run(session, uid, project, iter)
         now = datetime.now(timezone.utc)
         if not run:
             run = Run(
                 name=run_data["metadata"]["name"],
                 uid=uid,
@@ -1423,40 +1427,50 @@
         )
         self._delete(session, Project, name=name)
 
     def list_projects(
         self,
         session: Session,
         owner: str = None,
-        format_: typing.Union[
-            mlrun.common.schemas.ProjectsFormat, mlrun.common.schemas.ProjectsFormat
-        ] = mlrun.common.schemas.ProjectsFormat.full,
+        format_: mlrun.common.schemas.ProjectsFormat = mlrun.common.schemas.ProjectsFormat.full,
         labels: List[str] = None,
         state: mlrun.common.schemas.ProjectState = None,
         names: typing.Optional[typing.List[str]] = None,
     ) -> mlrun.common.schemas.ProjectsOutput:
         query = self._query(session, Project, owner=owner, state=state)
+
+        # if format is name_only, we don't need to query the full project object, we can just query the name
+        # and return it as a list of strings
+        if format_ == mlrun.common.schemas.ProjectsFormat.name_only:
+            query = self._query(session, Project.name, owner=owner, state=state)
+
+        # attach filters to the query
         if labels:
             query = self._add_labels_filter(session, query, Project, labels)
         if names is not None:
             query = query.filter(Project.name.in_(names))
+
         project_records = query.all()
+
+        # format the projects according to the requested format
         projects = []
         for project_record in project_records:
             if format_ == mlrun.common.schemas.ProjectsFormat.name_only:
-                projects = [project_record.name for project_record in project_records]
-            # leader format is only for follower mode which will format the projects returned from here
+                projects.append(project_record.name)
+
             elif format_ == mlrun.common.schemas.ProjectsFormat.minimal:
                 projects.append(
                     mlrun.api.utils.helpers.minimize_project_schema(
                         self._transform_project_record_to_schema(
                             session, project_record
                         )
                     )
                 )
+
+            # leader format is only for follower mode which will format the projects returned from here
             elif format_ in [
                 mlrun.common.schemas.ProjectsFormat.full,
                 mlrun.common.schemas.ProjectsFormat.leader,
             ]:
                 projects.append(
                     self._transform_project_record_to_schema(session, project_record)
                 )
```

## mlrun/artifacts/manager.py

```diff
@@ -187,14 +187,20 @@
             viewer = "web-app"
         item.format = format or item.format
         item.src_path = src_path
 
         if db_key is None:
             # set the default artifact db key
             if producer.kind == "run":
+                # When the producer's type is "run,"
+                # we generate a different db_key than the one we obtained in the request.
+                # As a result, a new artifact for the requested key will be created,
+                # which will contain the new db_key and will represent the current run.
+                # We implement this so that the user can query an artifact,
+                # and receive back all the runs that are associated with his search result.
                 db_key = producer.name + "_" + key
             else:
                 db_key = key
         item.db_key = db_key if db_key else ""
         item.viewer = viewer or item.viewer
         item.tree = producer.tag
         item.tag = tag or item.tag
```

## mlrun/common/schemas/model_endpoints.py

```diff
@@ -9,14 +9,15 @@
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
 
+import enum
 import json
 import typing
 from typing import Any, Dict, List, Optional, Tuple, Union
 
 from pydantic import BaseModel, Field
 from pydantic.main import Extra
 
@@ -219,33 +220,35 @@
         # In addition, remove the BaseModel kind as it is not required by the DB schema
         model_endpoint_dictionary = self.dict(exclude={"kind"})
 
         # Initialize a flattened dictionary that will be filled with the model endpoint dictionary attributes
         flatten_dict = {}
         for k_object in model_endpoint_dictionary:
             for key in model_endpoint_dictionary[k_object]:
+                # Extract the value of the current field
+                current_value = model_endpoint_dictionary[k_object][key]
+
                 # If the value is not from type str or bool (e.g. dict), convert it into a JSON string
                 # for matching the database required format
-                if not isinstance(
-                    model_endpoint_dictionary[k_object][key], (str, bool)
+                if not isinstance(current_value, (str, bool, int)) or isinstance(
+                    current_value, enum.IntEnum
                 ):
-                    flatten_dict[key] = json.dumps(
-                        model_endpoint_dictionary[k_object][key]
-                    )
+                    flatten_dict[key] = json.dumps(current_value)
                 else:
-                    flatten_dict[key] = model_endpoint_dictionary[k_object][key]
+                    flatten_dict[key] = current_value
 
         if mlrun.common.model_monitoring.EventFieldType.METRICS not in flatten_dict:
             # Initialize metrics dictionary
             flatten_dict[mlrun.common.model_monitoring.EventFieldType.METRICS] = {
                 mlrun.common.model_monitoring.EventKeyMetrics.GENERIC: {
                     mlrun.common.model_monitoring.EventLiveStats.LATENCY_AVG_1H: 0,
                     mlrun.common.model_monitoring.EventLiveStats.PREDICTIONS_PER_SECOND: 0,
                 }
             }
+
         # Remove the features from the dictionary as this field will be filled only within the feature analysis process
         flatten_dict.pop(mlrun.common.model_monitoring.EventFieldType.FEATURES, None)
         return flatten_dict
 
     @classmethod
     def from_flat_dict(cls, endpoint_dict: dict):
         """Create a `ModelEndpoint` object from an endpoint flattened dictionary. Because the provided dictionary
```

## mlrun/common/schemas/tag.py

```diff
@@ -25,8 +25,8 @@
 
 
 class TagObjects(pydantic.BaseModel):
     """Tag object"""
 
     kind: str
     # TODO: Add more types to the list for new supported tagged objects
-    identifiers: typing.List[typing.Union[ArtifactIdentifier]]
+    identifiers: typing.List[ArtifactIdentifier]
```

## mlrun/datastore/sources.py

```diff
@@ -247,15 +247,14 @@
         attributes: Dict[str, str] = None,
         key_field: str = None,
         time_field: str = None,
         schedule: str = None,
         start_time: Optional[Union[datetime, str]] = None,
         end_time: Optional[Union[datetime, str]] = None,
     ):
-
         super().__init__(
             name,
             path,
             attributes,
             key_field,
             time_field,
             schedule,
@@ -734,17 +733,14 @@
             "This source type is not supported with ingestion service yet"
         )
 
 
 class HttpSource(OnlineSource):
     kind = "http"
 
-    def __init__(self, path: str = None):
-        super().__init__(path=path)
-
     def add_nuclio_trigger(self, function):
         trigger_args = self.attributes.get("trigger_args")
         if trigger_args:
             function.with_http(**trigger_args)
         return function
```

## mlrun/db/httpdb.py

```diff
@@ -5839,2338 +5839,2337 @@
 00016ce0: 2c20 2270 726f 6a65 6374 7322 2c20 6572  , "projects", er
 00016cf0: 726f 725f 6d65 7373 6167 652c 2070 6172  ror_message, par
 00016d00: 616d 733d 7061 7261 6d73 290a 2020 2020  ams=params).    
 00016d10: 2020 2020 6966 2066 6f72 6d61 745f 203d      if format_ =
 00016d20: 3d20 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73  = mlrun.common.s
 00016d30: 6368 656d 6173 2e50 726f 6a65 6374 7346  chemas.ProjectsF
 00016d40: 6f72 6d61 742e 6e61 6d65 5f6f 6e6c 793a  ormat.name_only:
-00016d50: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00016d60: 7572 6e20 7265 7370 6f6e 7365 2e6a 736f  urn response.jso
-00016d70: 6e28 295b 2270 726f 6a65 6374 7322 5d0a  n()["projects"].
-00016d80: 2020 2020 2020 2020 656c 6966 2066 6f72          elif for
-00016d90: 6d61 745f 2069 6e20 5b0a 2020 2020 2020  mat_ in [.      
-00016da0: 2020 2020 2020 6d6c 7275 6e2e 636f 6d6d        mlrun.comm
-00016db0: 6f6e 2e73 6368 656d 6173 2e50 726f 6a65  on.schemas.Proje
-00016dc0: 6374 7346 6f72 6d61 742e 6675 6c6c 2c0a  ctsFormat.full,.
-00016dd0: 2020 2020 2020 2020 2020 2020 6d6c 7275              mlru
-00016de0: 6e2e 636f 6d6d 6f6e 2e73 6368 656d 6173  n.common.schemas
-00016df0: 2e50 726f 6a65 6374 7346 6f72 6d61 742e  .ProjectsFormat.
-00016e00: 6d69 6e69 6d61 6c2c 0a20 2020 2020 2020  minimal,.       
-00016e10: 205d 3a0a 2020 2020 2020 2020 2020 2020   ]:.            
-00016e20: 7265 7475 726e 205b 0a20 2020 2020 2020  return [.       
-00016e30: 2020 2020 2020 2020 206d 6c72 756e 2e70           mlrun.p
-00016e40: 726f 6a65 6374 732e 4d6c 7275 6e50 726f  rojects.MlrunPro
-00016e50: 6a65 6374 2e66 726f 6d5f 6469 6374 2870  ject.from_dict(p
-00016e60: 726f 6a65 6374 5f64 6963 7429 0a20 2020  roject_dict).   
-00016e70: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00016e80: 2070 726f 6a65 6374 5f64 6963 7420 696e   project_dict in
-00016e90: 2072 6573 706f 6e73 652e 6a73 6f6e 2829   response.json()
-00016ea0: 5b22 7072 6f6a 6563 7473 225d 0a20 2020  ["projects"].   
-00016eb0: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
-00016ec0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00016ed0: 2020 2020 2072 6169 7365 204e 6f74 496d       raise NotIm
-00016ee0: 706c 656d 656e 7465 6445 7272 6f72 280a  plementedError(.
-00016ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016f00: 6622 5072 6f76 6964 6564 2066 6f72 6d61  f"Provided forma
-00016f10: 7420 6973 206e 6f74 2073 7570 706f 7274  t is not support
-00016f20: 6564 2e20 666f 726d 6174 3d7b 666f 726d  ed. format={form
-00016f30: 6174 5f7d 220a 2020 2020 2020 2020 2020  at_}".          
-00016f40: 2020 290a 0a20 2020 2064 6566 2067 6574    )..    def get
-00016f50: 5f70 726f 6a65 6374 2873 656c 662c 206e  _project(self, n
-00016f60: 616d 653a 2073 7472 2920 2d3e 206d 6c72  ame: str) -> mlr
-00016f70: 756e 2e70 726f 6a65 6374 732e 4d6c 7275  un.projects.Mlru
-00016f80: 6e50 726f 6a65 6374 3a0a 2020 2020 2020  nProject:.      
-00016f90: 2020 2222 2247 6574 2064 6574 6169 6c73    """Get details
-00016fa0: 2066 6f72 2061 2073 7065 6369 6669 6320   for a specific 
-00016fb0: 7072 6f6a 6563 742e 2222 220a 0a20 2020  project."""..   
-00016fc0: 2020 2020 2069 6620 6e6f 7420 6e61 6d65       if not name
-00016fd0: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-00016fe0: 6973 6520 4d4c 5275 6e49 6e76 616c 6964  ise MLRunInvalid
-00016ff0: 4172 6775 6d65 6e74 4572 726f 7228 224e  ArgumentError("N
-00017000: 616d 6520 6d75 7374 2062 6520 7072 6f76  ame must be prov
-00017010: 6964 6564 2229 0a0a 2020 2020 2020 2020  ided")..        
-00017020: 7061 7468 203d 2066 2270 726f 6a65 6374  path = f"project
-00017030: 732f 7b6e 616d 657d 220a 2020 2020 2020  s/{name}".      
-00017040: 2020 6572 726f 725f 6d65 7373 6167 6520    error_message 
-00017050: 3d20 6622 4661 696c 6564 2072 6574 7269  = f"Failed retri
-00017060: 6576 696e 6720 7072 6f6a 6563 7420 7b6e  eving project {n
-00017070: 616d 657d 220a 2020 2020 2020 2020 7265  ame}".        re
-00017080: 7370 6f6e 7365 203d 2073 656c 662e 6170  sponse = self.ap
-00017090: 695f 6361 6c6c 2822 4745 5422 2c20 7061  i_call("GET", pa
-000170a0: 7468 2c20 6572 726f 725f 6d65 7373 6167  th, error_messag
-000170b0: 6529 0a20 2020 2020 2020 2072 6574 7572  e).        retur
-000170c0: 6e20 6d6c 7275 6e2e 7072 6f6a 6563 7473  n mlrun.projects
-000170d0: 2e4d 6c72 756e 5072 6f6a 6563 742e 6672  .MlrunProject.fr
-000170e0: 6f6d 5f64 6963 7428 7265 7370 6f6e 7365  om_dict(response
-000170f0: 2e6a 736f 6e28 2929 0a0a 2020 2020 6465  .json())..    de
-00017100: 6620 6465 6c65 7465 5f70 726f 6a65 6374  f delete_project
-00017110: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00017120: 2020 2020 2020 2020 6e61 6d65 3a20 7374          name: st
-00017130: 722c 0a20 2020 2020 2020 2064 656c 6574  r,.        delet
-00017140: 696f 6e5f 7374 7261 7465 6779 3a20 556e  ion_strategy: Un
-00017150: 696f 6e5b 0a20 2020 2020 2020 2020 2020  ion[.           
-00017160: 2073 7472 2c20 6d6c 7275 6e2e 636f 6d6d   str, mlrun.comm
-00017170: 6f6e 2e73 6368 656d 6173 2e44 656c 6574  on.schemas.Delet
-00017180: 696f 6e53 7472 6174 6567 790a 2020 2020  ionStrategy.    
-00017190: 2020 2020 5d20 3d20 6d6c 7275 6e2e 636f      ] = mlrun.co
-000171a0: 6d6d 6f6e 2e73 6368 656d 6173 2e44 656c  mmon.schemas.Del
-000171b0: 6574 696f 6e53 7472 6174 6567 792e 6465  etionStrategy.de
-000171c0: 6661 756c 7428 292c 0a20 2020 2029 3a0a  fault(),.    ):.
-000171d0: 2020 2020 2020 2020 2222 2244 656c 6574          """Delet
-000171e0: 6520 6120 7072 6f6a 6563 742e 0a0a 2020  e a project...  
-000171f0: 2020 2020 2020 3a70 6172 616d 206e 616d        :param nam
-00017200: 653a 204e 616d 6520 6f66 2074 6865 2070  e: Name of the p
-00017210: 726f 6a65 6374 2074 6f20 6465 6c65 7465  roject to delete
-00017220: 2e0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-00017230: 2064 656c 6574 696f 6e5f 7374 7261 7465   deletion_strate
-00017240: 6779 3a20 486f 7720 746f 2074 7265 6174  gy: How to treat
-00017250: 2063 6869 6c64 206f 626a 6563 7473 206f   child objects o
-00017260: 6620 7468 6520 7072 6f6a 6563 742e 2050  f the project. P
-00017270: 6f73 7369 626c 6520 7661 6c75 6573 2061  ossible values a
-00017280: 7265 3a0a 0a20 2020 2020 2020 2020 2020  re:..           
-00017290: 202d 2060 6072 6573 7472 6963 7460 6020   - ``restrict`` 
-000172a0: 2864 6566 6175 6c74 2920 2d20 5072 6f6a  (default) - Proj
-000172b0: 6563 7420 6d75 7374 206e 6f74 2068 6176  ect must not hav
-000172c0: 6520 616e 7920 6368 696c 6420 6f62 6a65  e any child obje
-000172d0: 6374 7320 7768 656e 2064 656c 6574 6564  cts when deleted
-000172e0: 2e20 4966 2075 7369 6e67 2074 6869 7320  . If using this 
-000172f0: 6d6f 6465 2077 6869 6c65 0a20 2020 2020  mode while.     
-00017300: 2020 2020 2020 2020 2063 6869 6c64 206f           child o
-00017310: 626a 6563 7473 2065 7869 7374 2c20 7468  bjects exist, th
-00017320: 6520 6f70 6572 6174 696f 6e20 7769 6c6c  e operation will
-00017330: 2066 6169 6c2e 0a20 2020 2020 2020 2020   fail..         
-00017340: 2020 202d 2060 6063 6173 6361 6465 6060     - ``cascade``
-00017350: 202d 2041 7574 6f6d 6174 6963 616c 6c79   - Automatically
-00017360: 2064 656c 6574 6520 616c 6c20 6368 696c   delete all chil
-00017370: 6420 6f62 6a65 6374 7320 7768 656e 2064  d objects when d
-00017380: 656c 6574 696e 6720 7468 6520 7072 6f6a  eleting the proj
-00017390: 6563 742e 0a20 2020 2020 2020 2022 2222  ect..        """
-000173a0: 0a0a 2020 2020 2020 2020 7061 7468 203d  ..        path =
-000173b0: 2066 2270 726f 6a65 6374 732f 7b6e 616d   f"projects/{nam
-000173c0: 657d 220a 2020 2020 2020 2020 6865 6164  e}".        head
-000173d0: 6572 7320 3d20 7b0a 2020 2020 2020 2020  ers = {.        
-000173e0: 2020 2020 6d6c 7275 6e2e 636f 6d6d 6f6e      mlrun.common
-000173f0: 2e73 6368 656d 6173 2e48 6561 6465 724e  .schemas.HeaderN
-00017400: 616d 6573 2e64 656c 6574 696f 6e5f 7374  ames.deletion_st
-00017410: 7261 7465 6779 3a20 6465 6c65 7469 6f6e  rategy: deletion
-00017420: 5f73 7472 6174 6567 790a 2020 2020 2020  _strategy.      
-00017430: 2020 7d0a 2020 2020 2020 2020 6572 726f    }.        erro
-00017440: 725f 6d65 7373 6167 6520 3d20 6622 4661  r_message = f"Fa
-00017450: 696c 6564 2064 656c 6574 696e 6720 7072  iled deleting pr
-00017460: 6f6a 6563 7420 7b6e 616d 657d 220a 2020  oject {name}".  
-00017470: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
-00017480: 2073 656c 662e 6170 695f 6361 6c6c 2822   self.api_call("
-00017490: 4445 4c45 5445 222c 2070 6174 682c 2065  DELETE", path, e
-000174a0: 7272 6f72 5f6d 6573 7361 6765 2c20 6865  rror_message, he
-000174b0: 6164 6572 733d 6865 6164 6572 7329 0a20  aders=headers). 
-000174c0: 2020 2020 2020 2069 6620 7265 7370 6f6e         if respon
-000174d0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-000174e0: 3d20 6874 7470 2e48 5454 5053 7461 7475  = http.HTTPStatu
-000174f0: 732e 4143 4345 5054 4544 3a0a 2020 2020  s.ACCEPTED:.    
-00017500: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00017510: 656c 662e 5f77 6169 745f 666f 725f 7072  elf._wait_for_pr
-00017520: 6f6a 6563 745f 746f 5f62 655f 6465 6c65  oject_to_be_dele
-00017530: 7465 6428 6e61 6d65 290a 0a20 2020 2064  ted(name)..    d
-00017540: 6566 2073 746f 7265 5f70 726f 6a65 6374  ef store_project
-00017550: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00017560: 2020 2020 2020 2020 6e61 6d65 3a20 7374          name: st
-00017570: 722c 0a20 2020 2020 2020 2070 726f 6a65  r,.        proje
-00017580: 6374 3a20 556e 696f 6e5b 6469 6374 2c20  ct: Union[dict, 
-00017590: 6d6c 7275 6e2e 7072 6f6a 6563 7473 2e4d  mlrun.projects.M
-000175a0: 6c72 756e 5072 6f6a 6563 742c 206d 6c72  lrunProject, mlr
-000175b0: 756e 2e63 6f6d 6d6f 6e2e 7363 6865 6d61  un.common.schema
-000175c0: 732e 5072 6f6a 6563 745d 2c0a 2020 2020  s.Project],.    
-000175d0: 2920 2d3e 206d 6c72 756e 2e70 726f 6a65  ) -> mlrun.proje
-000175e0: 6374 732e 4d6c 7275 6e50 726f 6a65 6374  cts.MlrunProject
-000175f0: 3a0a 2020 2020 2020 2020 2222 2253 746f  :.        """Sto
-00017600: 7265 2061 2070 726f 6a65 6374 2069 6e20  re a project in 
-00017610: 7468 6520 4442 2e20 5468 6973 206f 7065  the DB. This ope
-00017620: 7261 7469 6f6e 2077 696c 6c20 6f76 6572  ration will over
-00017630: 7772 6974 6520 6578 6973 7469 6e67 2070  write existing p
-00017640: 726f 6a65 6374 206f 6620 7468 6520 7361  roject of the sa
-00017650: 6d65 206e 616d 6520 6966 2065 7869 7374  me name if exist
-00017660: 732e 2222 220a 0a20 2020 2020 2020 2070  s."""..        p
-00017670: 6174 6820 3d20 6622 7072 6f6a 6563 7473  ath = f"projects
-00017680: 2f7b 6e61 6d65 7d22 0a20 2020 2020 2020  /{name}".       
-00017690: 2065 7272 6f72 5f6d 6573 7361 6765 203d   error_message =
-000176a0: 2066 2246 6169 6c65 6420 7374 6f72 696e   f"Failed storin
-000176b0: 6720 7072 6f6a 6563 7420 7b6e 616d 657d  g project {name}
-000176c0: 220a 2020 2020 2020 2020 6966 2069 7369  ".        if isi
-000176d0: 6e73 7461 6e63 6528 7072 6f6a 6563 742c  nstance(project,
-000176e0: 206d 6c72 756e 2e63 6f6d 6d6f 6e2e 7363   mlrun.common.sc
-000176f0: 6865 6d61 732e 5072 6f6a 6563 7429 3a0a  hemas.Project):.
-00017700: 2020 2020 2020 2020 2020 2020 7072 6f6a              proj
-00017710: 6563 7420 3d20 7072 6f6a 6563 742e 6469  ect = project.di
-00017720: 6374 2829 0a20 2020 2020 2020 2065 6c69  ct().        eli
-00017730: 6620 6973 696e 7374 616e 6365 2870 726f  f isinstance(pro
-00017740: 6a65 6374 2c20 6d6c 7275 6e2e 7072 6f6a  ject, mlrun.proj
-00017750: 6563 7473 2e4d 6c72 756e 5072 6f6a 6563  ects.MlrunProjec
-00017760: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-00017770: 7072 6f6a 6563 7420 3d20 7072 6f6a 6563  project = projec
-00017780: 742e 746f 5f64 6963 7428 290a 2020 2020  t.to_dict().    
-00017790: 2020 2020 7265 7370 6f6e 7365 203d 2073      response = s
-000177a0: 656c 662e 6170 695f 6361 6c6c 280a 2020  elf.api_call(.  
-000177b0: 2020 2020 2020 2020 2020 2250 5554 222c            "PUT",
-000177c0: 0a20 2020 2020 2020 2020 2020 2070 6174  .            pat
-000177d0: 682c 0a20 2020 2020 2020 2020 2020 2065  h,.            e
-000177e0: 7272 6f72 5f6d 6573 7361 6765 2c0a 2020  rror_message,.  
-000177f0: 2020 2020 2020 2020 2020 626f 6479 3d64            body=d
-00017800: 6963 745f 746f 5f6a 736f 6e28 7072 6f6a  ict_to_json(proj
-00017810: 6563 7429 2c0a 2020 2020 2020 2020 290a  ect),.        ).
-00017820: 2020 2020 2020 2020 6966 2072 6573 706f          if respo
-00017830: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00017840: 3d3d 2068 7474 702e 4854 5450 5374 6174  == http.HTTPStat
-00017850: 7573 2e41 4343 4550 5445 443a 0a20 2020  us.ACCEPTED:.   
-00017860: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00017870: 7365 6c66 2e5f 7761 6974 5f66 6f72 5f70  self._wait_for_p
-00017880: 726f 6a65 6374 5f74 6f5f 7265 6163 685f  roject_to_reach_
-00017890: 7465 726d 696e 616c 5f73 7461 7465 286e  terminal_state(n
-000178a0: 616d 6529 0a20 2020 2020 2020 2072 6574  ame).        ret
-000178b0: 7572 6e20 6d6c 7275 6e2e 7072 6f6a 6563  urn mlrun.projec
-000178c0: 7473 2e4d 6c72 756e 5072 6f6a 6563 742e  ts.MlrunProject.
-000178d0: 6672 6f6d 5f64 6963 7428 7265 7370 6f6e  from_dict(respon
-000178e0: 7365 2e6a 736f 6e28 2929 0a0a 2020 2020  se.json())..    
-000178f0: 6465 6620 7061 7463 685f 7072 6f6a 6563  def patch_projec
-00017900: 7428 0a20 2020 2020 2020 2073 656c 662c  t(.        self,
-00017910: 0a20 2020 2020 2020 206e 616d 653a 2073  .        name: s
-00017920: 7472 2c0a 2020 2020 2020 2020 7072 6f6a  tr,.        proj
-00017930: 6563 743a 2064 6963 742c 0a20 2020 2020  ect: dict,.     
-00017940: 2020 2070 6174 6368 5f6d 6f64 653a 2055     patch_mode: U
-00017950: 6e69 6f6e 5b0a 2020 2020 2020 2020 2020  nion[.          
-00017960: 2020 7374 722c 206d 6c72 756e 2e63 6f6d    str, mlrun.com
-00017970: 6d6f 6e2e 7363 6865 6d61 732e 5061 7463  mon.schemas.Patc
-00017980: 684d 6f64 650a 2020 2020 2020 2020 5d20  hMode.        ] 
-00017990: 3d20 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73  = mlrun.common.s
-000179a0: 6368 656d 6173 2e50 6174 6368 4d6f 6465  chemas.PatchMode
-000179b0: 2e72 6570 6c61 6365 2c0a 2020 2020 2920  .replace,.    ) 
-000179c0: 2d3e 206d 6c72 756e 2e70 726f 6a65 6374  -> mlrun.project
-000179d0: 732e 4d6c 7275 6e50 726f 6a65 6374 3a0a  s.MlrunProject:.
-000179e0: 2020 2020 2020 2020 2222 2250 6174 6368          """Patch
-000179f0: 2061 6e20 6578 6973 7469 6e67 2070 726f   an existing pro
-00017a00: 6a65 6374 206f 626a 6563 742e 0a0a 2020  ject object...  
-00017a10: 2020 2020 2020 3a70 6172 616d 206e 616d        :param nam
-00017a20: 653a 204e 616d 6520 6f66 2070 726f 6a65  e: Name of proje
-00017a30: 6374 2074 6f20 7061 7463 682e 0a20 2020  ct to patch..   
-00017a40: 2020 2020 203a 7061 7261 6d20 7072 6f6a       :param proj
-00017a50: 6563 743a 2054 6865 2061 6374 7561 6c20  ect: The actual 
-00017a60: 6368 616e 6765 7320 746f 2074 6865 2070  changes to the p
-00017a70: 726f 6a65 6374 206f 626a 6563 742e 0a20  roject object.. 
-00017a80: 2020 2020 2020 203a 7061 7261 6d20 7061         :param pa
-00017a90: 7463 685f 6d6f 6465 3a20 5468 6520 7374  tch_mode: The st
-00017aa0: 7261 7465 6779 2066 6f72 206d 6572 6769  rategy for mergi
-00017ab0: 6e67 2074 6865 2063 6861 6e67 6573 2077  ng the changes w
-00017ac0: 6974 6820 7468 6520 6578 6973 7469 6e67  ith the existing
-00017ad0: 206f 626a 6563 742e 2043 616e 2062 6520   object. Can be 
-00017ae0: 6569 7468 6572 2060 6072 6570 6c61 6365  either ``replace
-00017af0: 6060 0a20 2020 2020 2020 2020 2020 206f  ``.            o
-00017b00: 7220 6060 6164 6469 7469 7665 6060 2e0a  r ``additive``..
-00017b10: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
-00017b20: 2020 2020 2070 6174 6820 3d20 6622 7072       path = f"pr
-00017b30: 6f6a 6563 7473 2f7b 6e61 6d65 7d22 0a20  ojects/{name}". 
-00017b40: 2020 2020 2020 2068 6561 6465 7273 203d         headers =
-00017b50: 207b 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73   {mlrun.common.s
-00017b60: 6368 656d 6173 2e48 6561 6465 724e 616d  chemas.HeaderNam
-00017b70: 6573 2e70 6174 6368 5f6d 6f64 653a 2070  es.patch_mode: p
-00017b80: 6174 6368 5f6d 6f64 657d 0a20 2020 2020  atch_mode}.     
-00017b90: 2020 2065 7272 6f72 5f6d 6573 7361 6765     error_message
-00017ba0: 203d 2066 2246 6169 6c65 6420 7061 7463   = f"Failed patc
-00017bb0: 6869 6e67 2070 726f 6a65 6374 207b 6e61  hing project {na
-00017bc0: 6d65 7d22 0a20 2020 2020 2020 2072 6573  me}".        res
-00017bd0: 706f 6e73 6520 3d20 7365 6c66 2e61 7069  ponse = self.api
-00017be0: 5f63 616c 6c28 0a20 2020 2020 2020 2020  _call(.         
-00017bf0: 2020 2022 5041 5443 4822 2c20 7061 7468     "PATCH", path
-00017c00: 2c20 6572 726f 725f 6d65 7373 6167 652c  , error_message,
-00017c10: 2062 6f64 793d 6469 6374 5f74 6f5f 6a73   body=dict_to_js
-00017c20: 6f6e 2870 726f 6a65 6374 292c 2068 6561  on(project), hea
-00017c30: 6465 7273 3d68 6561 6465 7273 0a20 2020  ders=headers.   
-00017c40: 2020 2020 2029 0a20 2020 2020 2020 2072       ).        r
-00017c50: 6574 7572 6e20 6d6c 7275 6e2e 7072 6f6a  eturn mlrun.proj
-00017c60: 6563 7473 2e4d 6c72 756e 5072 6f6a 6563  ects.MlrunProjec
-00017c70: 742e 6672 6f6d 5f64 6963 7428 7265 7370  t.from_dict(resp
-00017c80: 6f6e 7365 2e6a 736f 6e28 2929 0a0a 2020  onse.json())..  
-00017c90: 2020 6465 6620 6372 6561 7465 5f70 726f    def create_pro
-00017ca0: 6a65 6374 280a 2020 2020 2020 2020 7365  ject(.        se
-00017cb0: 6c66 2c0a 2020 2020 2020 2020 7072 6f6a  lf,.        proj
-00017cc0: 6563 743a 2055 6e69 6f6e 5b64 6963 742c  ect: Union[dict,
-00017cd0: 206d 6c72 756e 2e70 726f 6a65 6374 732e   mlrun.projects.
-00017ce0: 4d6c 7275 6e50 726f 6a65 6374 2c20 6d6c  MlrunProject, ml
-00017cf0: 7275 6e2e 636f 6d6d 6f6e 2e73 6368 656d  run.common.schem
-00017d00: 6173 2e50 726f 6a65 6374 5d2c 0a20 2020  as.Project],.   
-00017d10: 2029 202d 3e20 6d6c 7275 6e2e 7072 6f6a   ) -> mlrun.proj
-00017d20: 6563 7473 2e4d 6c72 756e 5072 6f6a 6563  ects.MlrunProjec
-00017d30: 743a 0a20 2020 2020 2020 2022 2222 4372  t:.        """Cr
-00017d40: 6561 7465 2061 206e 6577 2070 726f 6a65  eate a new proje
-00017d50: 6374 2e20 4120 7072 6f6a 6563 7420 7769  ct. A project wi
-00017d60: 7468 2074 6865 2073 616d 6520 6e61 6d65  th the same name
-00017d70: 206d 7573 7420 6e6f 7420 6578 6973 7420   must not exist 
-00017d80: 7072 696f 7220 746f 2063 7265 6174 696f  prior to creatio
-00017d90: 6e2e 2222 220a 0a20 2020 2020 2020 2069  n."""..        i
-00017da0: 6620 6973 696e 7374 616e 6365 2870 726f  f isinstance(pro
-00017db0: 6a65 6374 2c20 6d6c 7275 6e2e 636f 6d6d  ject, mlrun.comm
-00017dc0: 6f6e 2e73 6368 656d 6173 2e50 726f 6a65  on.schemas.Proje
-00017dd0: 6374 293a 0a20 2020 2020 2020 2020 2020  ct):.           
-00017de0: 2070 726f 6a65 6374 203d 2070 726f 6a65   project = proje
-00017df0: 6374 2e64 6963 7428 290a 2020 2020 2020  ct.dict().      
-00017e00: 2020 656c 6966 2069 7369 6e73 7461 6e63    elif isinstanc
-00017e10: 6528 7072 6f6a 6563 742c 206d 6c72 756e  e(project, mlrun
-00017e20: 2e70 726f 6a65 6374 732e 4d6c 7275 6e50  .projects.MlrunP
-00017e30: 726f 6a65 6374 293a 0a20 2020 2020 2020  roject):.       
-00017e40: 2020 2020 2070 726f 6a65 6374 203d 2070       project = p
-00017e50: 726f 6a65 6374 2e74 6f5f 6469 6374 2829  roject.to_dict()
-00017e60: 0a20 2020 2020 2020 2070 726f 6a65 6374  .        project
-00017e70: 5f6e 616d 6520 3d20 7072 6f6a 6563 745b  _name = project[
-00017e80: 226d 6574 6164 6174 6122 5d5b 226e 616d  "metadata"]["nam
-00017e90: 6522 5d0a 2020 2020 2020 2020 6572 726f  e"].        erro
-00017ea0: 725f 6d65 7373 6167 6520 3d20 6622 4661  r_message = f"Fa
-00017eb0: 696c 6564 2063 7265 6174 696e 6720 7072  iled creating pr
-00017ec0: 6f6a 6563 7420 7b70 726f 6a65 6374 5f6e  oject {project_n
-00017ed0: 616d 657d 220a 2020 2020 2020 2020 7265  ame}".        re
-00017ee0: 7370 6f6e 7365 203d 2073 656c 662e 6170  sponse = self.ap
-00017ef0: 695f 6361 6c6c 280a 2020 2020 2020 2020  i_call(.        
-00017f00: 2020 2020 2250 4f53 5422 2c0a 2020 2020      "POST",.    
-00017f10: 2020 2020 2020 2020 2270 726f 6a65 6374          "project
-00017f20: 7322 2c0a 2020 2020 2020 2020 2020 2020  s",.            
-00017f30: 6572 726f 725f 6d65 7373 6167 652c 0a20  error_message,. 
-00017f40: 2020 2020 2020 2020 2020 2062 6f64 793d             body=
-00017f50: 6469 6374 5f74 6f5f 6a73 6f6e 2870 726f  dict_to_json(pro
-00017f60: 6a65 6374 292c 0a20 2020 2020 2020 2029  ject),.        )
-00017f70: 0a20 2020 2020 2020 2069 6620 7265 7370  .        if resp
-00017f80: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00017f90: 203d 3d20 6874 7470 2e48 5454 5053 7461   == http.HTTPSta
-00017fa0: 7475 732e 4143 4345 5054 4544 3a0a 2020  tus.ACCEPTED:.  
-00017fb0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00017fc0: 2073 656c 662e 5f77 6169 745f 666f 725f   self._wait_for_
-00017fd0: 7072 6f6a 6563 745f 746f 5f72 6561 6368  project_to_reach
-00017fe0: 5f74 6572 6d69 6e61 6c5f 7374 6174 6528  _terminal_state(
-00017ff0: 7072 6f6a 6563 745f 6e61 6d65 290a 2020  project_name).  
-00018000: 2020 2020 2020 7265 7475 726e 206d 6c72        return mlr
-00018010: 756e 2e70 726f 6a65 6374 732e 4d6c 7275  un.projects.Mlru
-00018020: 6e50 726f 6a65 6374 2e66 726f 6d5f 6469  nProject.from_di
-00018030: 6374 2872 6573 706f 6e73 652e 6a73 6f6e  ct(response.json
-00018040: 2829 290a 0a20 2020 2064 6566 205f 7761  ())..    def _wa
-00018050: 6974 5f66 6f72 5f70 726f 6a65 6374 5f74  it_for_project_t
-00018060: 6f5f 7265 6163 685f 7465 726d 696e 616c  o_reach_terminal
-00018070: 5f73 7461 7465 280a 2020 2020 2020 2020  _state(.        
-00018080: 7365 6c66 2c20 7072 6f6a 6563 745f 6e61  self, project_na
-00018090: 6d65 3a20 7374 720a 2020 2020 2920 2d3e  me: str.    ) ->
-000180a0: 206d 6c72 756e 2e70 726f 6a65 6374 732e   mlrun.projects.
-000180b0: 4d6c 7275 6e50 726f 6a65 6374 3a0a 2020  MlrunProject:.  
-000180c0: 2020 2020 2020 6465 6620 5f76 6572 6966        def _verif
-000180d0: 795f 7072 6f6a 6563 745f 696e 5f74 6572  y_project_in_ter
-000180e0: 6d69 6e61 6c5f 7374 6174 6528 293a 0a20  minal_state():. 
-000180f0: 2020 2020 2020 2020 2020 2070 726f 6a65             proje
-00018100: 6374 203d 2073 656c 662e 6765 745f 7072  ct = self.get_pr
-00018110: 6f6a 6563 7428 7072 6f6a 6563 745f 6e61  oject(project_na
-00018120: 6d65 290a 2020 2020 2020 2020 2020 2020  me).            
-00018130: 6966 2028 0a20 2020 2020 2020 2020 2020  if (.           
-00018140: 2020 2020 2070 726f 6a65 6374 2e73 7461       project.sta
-00018150: 7475 732e 7374 6174 650a 2020 2020 2020  tus.state.      
-00018160: 2020 2020 2020 2020 2020 6e6f 7420 696e            not in
-00018170: 206d 6c72 756e 2e63 6f6d 6d6f 6e2e 7363   mlrun.common.sc
-00018180: 6865 6d61 732e 5072 6f6a 6563 7453 7461  hemas.ProjectSta
-00018190: 7465 2e74 6572 6d69 6e61 6c5f 7374 6174  te.terminal_stat
-000181a0: 6573 2829 0a20 2020 2020 2020 2020 2020  es().           
-000181b0: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
-000181c0: 2020 2020 7261 6973 6520 4578 6365 7074      raise Except
-000181d0: 696f 6e28 0a20 2020 2020 2020 2020 2020  ion(.           
-000181e0: 2020 2020 2020 2020 2066 2250 726f 6a65           f"Proje
-000181f0: 6374 206e 6f74 2069 6e20 7465 726d 696e  ct not in termin
-00018200: 616c 2073 7461 7465 2e20 5374 6174 653a  al state. State:
-00018210: 207b 7072 6f6a 6563 742e 7374 6174 7573   {project.status
-00018220: 2e73 7461 7465 7d22 0a20 2020 2020 2020  .state}".       
-00018230: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-00018240: 2020 2020 2020 2072 6574 7572 6e20 7072         return pr
-00018250: 6f6a 6563 740a 0a20 2020 2020 2020 2072  oject..        r
-00018260: 6574 7572 6e20 6d6c 7275 6e2e 7574 696c  eturn mlrun.util
-00018270: 732e 6865 6c70 6572 732e 7265 7472 795f  s.helpers.retry_
-00018280: 756e 7469 6c5f 7375 6363 6573 7366 756c  until_successful
-00018290: 280a 2020 2020 2020 2020 2020 2020 7365  (.            se
-000182a0: 6c66 2e5f 7761 6974 5f66 6f72 5f70 726f  lf._wait_for_pro
-000182b0: 6a65 6374 5f74 6572 6d69 6e61 6c5f 7374  ject_terminal_st
-000182c0: 6174 655f 7265 7472 795f 696e 7465 7276  ate_retry_interv
-000182d0: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
-000182e0: 3132 302c 0a20 2020 2020 2020 2020 2020  120,.           
-000182f0: 206c 6f67 6765 722c 0a20 2020 2020 2020   logger,.       
-00018300: 2020 2020 2046 616c 7365 2c0a 2020 2020       False,.    
-00018310: 2020 2020 2020 2020 5f76 6572 6966 795f          _verify_
-00018320: 7072 6f6a 6563 745f 696e 5f74 6572 6d69  project_in_termi
-00018330: 6e61 6c5f 7374 6174 652c 0a20 2020 2020  nal_state,.     
-00018340: 2020 2029 0a0a 2020 2020 6465 6620 5f77     )..    def _w
-00018350: 6169 745f 666f 725f 6261 636b 6772 6f75  ait_for_backgrou
-00018360: 6e64 5f74 6173 6b5f 746f 5f72 6561 6368  nd_task_to_reach
-00018370: 5f74 6572 6d69 6e61 6c5f 7374 6174 6528  _terminal_state(
-00018380: 0a20 2020 2020 2020 2073 656c 662c 206e  .        self, n
-00018390: 616d 653a 2073 7472 0a20 2020 2029 202d  ame: str.    ) -
-000183a0: 3e20 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73  > mlrun.common.s
-000183b0: 6368 656d 6173 2e42 6163 6b67 726f 756e  chemas.Backgroun
-000183c0: 6454 6173 6b3a 0a20 2020 2020 2020 2064  dTask:.        d
-000183d0: 6566 205f 7665 7269 6679 5f62 6163 6b67  ef _verify_backg
-000183e0: 726f 756e 645f 7461 736b 5f69 6e5f 7465  round_task_in_te
-000183f0: 726d 696e 616c 5f73 7461 7465 2829 3a0a  rminal_state():.
-00018400: 2020 2020 2020 2020 2020 2020 6261 636b              back
-00018410: 6772 6f75 6e64 5f74 6173 6b20 3d20 7365  ground_task = se
-00018420: 6c66 2e67 6574 5f62 6163 6b67 726f 756e  lf.get_backgroun
-00018430: 645f 7461 736b 286e 616d 6529 0a20 2020  d_task(name).   
-00018440: 2020 2020 2020 2020 2073 7461 7465 203d           state =
-00018450: 2062 6163 6b67 726f 756e 645f 7461 736b   background_task
-00018460: 2e73 7461 7475 732e 7374 6174 650a 2020  .status.state.  
-00018470: 2020 2020 2020 2020 2020 6966 2073 7461            if sta
-00018480: 7465 206e 6f74 2069 6e20 6d6c 7275 6e2e  te not in mlrun.
-00018490: 636f 6d6d 6f6e 2e73 6368 656d 6173 2e42  common.schemas.B
-000184a0: 6163 6b67 726f 756e 6454 6173 6b53 7461  ackgroundTaskSta
-000184b0: 7465 2e74 6572 6d69 6e61 6c5f 7374 6174  te.terminal_stat
-000184c0: 6573 2829 3a0a 2020 2020 2020 2020 2020  es():.          
-000184d0: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
-000184e0: 7074 696f 6e28 0a20 2020 2020 2020 2020  ption(.         
-000184f0: 2020 2020 2020 2020 2020 2066 2242 6163             f"Bac
-00018500: 6b67 726f 756e 6420 7461 736b 206e 6f74  kground task not
-00018510: 2069 6e20 7465 726d 696e 616c 2073 7461   in terminal sta
-00018520: 7465 2e20 6e61 6d65 3d7b 6e61 6d65 7d2c  te. name={name},
-00018530: 2073 7461 7465 3d7b 7374 6174 657d 220a   state={state}".
-00018540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018550: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00018560: 7475 726e 2062 6163 6b67 726f 756e 645f  turn background_
-00018570: 7461 736b 0a0a 2020 2020 2020 2020 7265  task..        re
-00018580: 7475 726e 206d 6c72 756e 2e75 7469 6c73  turn mlrun.utils
-00018590: 2e68 656c 7065 7273 2e72 6574 7279 5f75  .helpers.retry_u
-000185a0: 6e74 696c 5f73 7563 6365 7373 6675 6c28  ntil_successful(
-000185b0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-000185c0: 662e 5f77 6169 745f 666f 725f 6261 636b  f._wait_for_back
-000185d0: 6772 6f75 6e64 5f74 6173 6b5f 7465 726d  ground_task_term
-000185e0: 696e 616c 5f73 7461 7465 5f72 6574 7279  inal_state_retry
-000185f0: 5f69 6e74 6572 7661 6c2c 0a20 2020 2020  _interval,.     
-00018600: 2020 2020 2020 2036 3020 2a20 3630 2c0a         60 * 60,.
-00018610: 2020 2020 2020 2020 2020 2020 6c6f 6767              logg
-00018620: 6572 2c0a 2020 2020 2020 2020 2020 2020  er,.            
-00018630: 4661 6c73 652c 0a20 2020 2020 2020 2020  False,.         
-00018640: 2020 205f 7665 7269 6679 5f62 6163 6b67     _verify_backg
-00018650: 726f 756e 645f 7461 736b 5f69 6e5f 7465  round_task_in_te
-00018660: 726d 696e 616c 5f73 7461 7465 2c0a 2020  rminal_state,.  
-00018670: 2020 2020 2020 290a 0a20 2020 2064 6566        )..    def
-00018680: 205f 7761 6974 5f66 6f72 5f70 726f 6a65   _wait_for_proje
-00018690: 6374 5f74 6f5f 6265 5f64 656c 6574 6564  ct_to_be_deleted
-000186a0: 2873 656c 662c 2070 726f 6a65 6374 5f6e  (self, project_n
-000186b0: 616d 653a 2073 7472 293a 0a20 2020 2020  ame: str):.     
-000186c0: 2020 2064 6566 205f 7665 7269 6679 5f70     def _verify_p
-000186d0: 726f 6a65 6374 5f64 656c 6574 6564 2829  roject_deleted()
-000186e0: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
-000186f0: 6f6a 6563 7473 203d 2073 656c 662e 6c69  ojects = self.li
-00018700: 7374 5f70 726f 6a65 6374 7328 0a20 2020  st_projects(.   
-00018710: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00018720: 6d61 745f 3d6d 6c72 756e 2e63 6f6d 6d6f  mat_=mlrun.commo
-00018730: 6e2e 7363 6865 6d61 732e 5072 6f6a 6563  n.schemas.Projec
-00018740: 7473 466f 726d 6174 2e6e 616d 655f 6f6e  tsFormat.name_on
-00018750: 6c79 0a20 2020 2020 2020 2020 2020 2029  ly.            )
-00018760: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00018770: 7072 6f6a 6563 745f 6e61 6d65 2069 6e20  project_name in 
-00018780: 7072 6f6a 6563 7473 3a0a 2020 2020 2020  projects:.      
-00018790: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-000187a0: 4578 6365 7074 696f 6e28 2250 726f 6a65  Exception("Proje
-000187b0: 6374 2073 7469 6c6c 2065 7869 7374 7322  ct still exists"
-000187c0: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
-000187d0: 6e20 6d6c 7275 6e2e 7574 696c 732e 6865  n mlrun.utils.he
-000187e0: 6c70 6572 732e 7265 7472 795f 756e 7469  lpers.retry_unti
-000187f0: 6c5f 7375 6363 6573 7366 756c 280a 2020  l_successful(.  
-00018800: 2020 2020 2020 2020 2020 7365 6c66 2e5f            self._
-00018810: 7761 6974 5f66 6f72 5f70 726f 6a65 6374  wait_for_project
-00018820: 5f64 656c 6574 696f 6e5f 696e 7465 7276  _deletion_interv
-00018830: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
-00018840: 3132 302c 0a20 2020 2020 2020 2020 2020  120,.           
-00018850: 206c 6f67 6765 722c 0a20 2020 2020 2020   logger,.       
-00018860: 2020 2020 2046 616c 7365 2c0a 2020 2020       False,.    
-00018870: 2020 2020 2020 2020 5f76 6572 6966 795f          _verify_
-00018880: 7072 6f6a 6563 745f 6465 6c65 7465 642c  project_deleted,
-00018890: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
-000188a0: 6465 6620 6372 6561 7465 5f70 726f 6a65  def create_proje
-000188b0: 6374 5f73 6563 7265 7473 280a 2020 2020  ct_secrets(.    
-000188c0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-000188d0: 2020 7072 6f6a 6563 743a 2073 7472 2c0a    project: str,.
-000188e0: 2020 2020 2020 2020 7072 6f76 6964 6572          provider
-000188f0: 3a20 556e 696f 6e5b 0a20 2020 2020 2020  : Union[.       
-00018900: 2020 2020 2073 7472 2c20 6d6c 7275 6e2e       str, mlrun.
-00018910: 636f 6d6d 6f6e 2e73 6368 656d 6173 2e53  common.schemas.S
-00018920: 6563 7265 7450 726f 7669 6465 724e 616d  ecretProviderNam
-00018930: 650a 2020 2020 2020 2020 5d20 3d20 6d6c  e.        ] = ml
-00018940: 7275 6e2e 636f 6d6d 6f6e 2e73 6368 656d  run.common.schem
-00018950: 6173 2e53 6563 7265 7450 726f 7669 6465  as.SecretProvide
-00018960: 724e 616d 652e 6b75 6265 726e 6574 6573  rName.kubernetes
-00018970: 2c0a 2020 2020 2020 2020 7365 6372 6574  ,.        secret
-00018980: 733a 2064 6963 7420 3d20 4e6f 6e65 2c0a  s: dict = None,.
-00018990: 2020 2020 293a 0a20 2020 2020 2020 2022      ):.        "
-000189a0: 2222 4372 6561 7465 2070 726f 6a65 6374  ""Create project
-000189b0: 2d63 6f6e 7465 7874 2073 6563 7265 7473  -context secrets
-000189c0: 2075 7369 6e67 2065 6974 6865 7220 6060   using either ``
-000189d0: 7661 756c 7460 6020 6f72 2060 606b 7562  vault`` or ``kub
-000189e0: 6572 6e65 7465 7360 6020 7072 6f76 6964  ernetes`` provid
-000189f0: 6572 2e0a 2020 2020 2020 2020 5768 656e  er..        When
-00018a00: 2075 7369 6e67 2077 6974 6820 5661 756c   using with Vaul
-00018a10: 742c 2074 6869 7320 7769 6c6c 2063 7265  t, this will cre
-00018a20: 6174 6520 6e65 6564 6564 2056 6175 6c74  ate needed Vault
-00018a30: 2073 7472 7563 7475 7265 7320 666f 7220   structures for 
-00018a40: 7374 6f72 696e 6720 7365 6372 6574 7320  storing secrets 
-00018a50: 696e 2070 726f 6a65 6374 2d63 6f6e 7465  in project-conte
-00018a60: 7874 2c20 616e 640a 2020 2020 2020 2020  xt, and.        
-00018a70: 7374 6f72 6520 6120 7365 7420 6f66 2073  store a set of s
-00018a80: 6563 7265 7420 7661 6c75 6573 2e20 5468  ecret values. Th
-00018a90: 6520 6d65 7468 6f64 2067 656e 6572 6174  e method generat
-00018aa0: 6573 204b 7562 6572 6e65 7465 7320 7365  es Kubernetes se
-00018ab0: 7276 6963 652d 6163 636f 756e 7420 616e  rvice-account an
-00018ac0: 6420 7468 6520 5661 756c 7420 6175 7468  d the Vault auth
-00018ad0: 656e 7469 6361 7469 6f6e 0a20 2020 2020  entication.     
-00018ae0: 2020 2073 7472 7563 7475 7265 7320 7468     structures th
-00018af0: 6174 2061 7265 2072 6571 7569 7265 6420  at are required 
-00018b00: 666f 7220 6675 6e63 7469 6f6e 2050 6f64  for function Pod
-00018b10: 7320 746f 2061 7574 6865 6e74 6963 6174  s to authenticat
-00018b20: 6520 7769 7468 2056 6175 6c74 2061 6e64  e with Vault and
-00018b30: 2062 6520 6162 6c65 2074 6f20 6578 7472   be able to extr
-00018b40: 6163 7420 7365 6372 6574 2076 616c 7565  act secret value
-00018b50: 730a 2020 2020 2020 2020 7061 7373 6564  s.        passed
-00018b60: 2061 7320 7061 7274 206f 6620 7468 6569   as part of thei
-00018b70: 7220 636f 6e74 6578 742e 0a0a 2020 2020  r context...    
-00018b80: 2020 2020 4e6f 7465 3a0a 2020 2020 2020      Note:.      
-00018b90: 2020 2020 2020 2020 2020 5468 6973 206d            This m
-00018ba0: 6574 686f 6420 7573 6564 2077 6974 6820  ethod used with 
-00018bb0: 5661 756c 7420 6973 2063 7572 7265 6e74  Vault is current
-00018bc0: 6c79 2069 6e20 7465 6368 6e69 6361 6c20  ly in technical 
-00018bd0: 7072 6576 6965 772c 2061 6e64 2072 6571  preview, and req
-00018be0: 7569 7265 7320 6120 4861 7368 6943 6f72  uires a HashiCor
-00018bf0: 7020 5661 756c 740a 2020 2020 2020 2020  p Vault.        
-00018c00: 2020 2020 2020 2020 696e 6672 6173 7472          infrastr
-00018c10: 7563 7475 7265 2070 726f 7065 726c 7920  ucture properly 
-00018c20: 7365 7420 7570 2061 6e64 2063 6f6e 6e65  set up and conne
-00018c30: 6374 6564 2074 6f20 7468 6520 4d4c 5275  cted to the MLRu
-00018c40: 6e20 4150 4920 7365 7276 6572 2e0a 0a20  n API server... 
-00018c50: 2020 2020 2020 2057 6865 6e20 7573 6564         When used
-00018c60: 2077 6974 6820 4b75 6265 726e 6574 6573   with Kubernetes
-00018c70: 2c20 7468 6973 2077 696c 6c20 6d61 6b65  , this will make
-00018c80: 2073 7572 6520 7468 6174 2074 6865 2070   sure that the p
-00018c90: 726f 6a65 6374 2d73 7065 6369 6669 6320  roject-specific 
-00018ca0: 6b38 7320 7365 6372 6574 2069 7320 6372  k8s secret is cr
-00018cb0: 6561 7465 642c 2061 6e64 2077 696c 6c0a  eated, and will.
-00018cc0: 2020 2020 2020 2020 706f 7075 6c61 7465          populate
-00018cd0: 2069 7420 7769 7468 2074 6865 2073 6563   it with the sec
-00018ce0: 7265 7473 2070 726f 7669 6465 642c 2072  rets provided, r
-00018cf0: 6570 6c61 6369 6e67 2074 6865 6972 2076  eplacing their v
-00018d00: 616c 7565 7320 6966 2074 6865 7920 6578  alues if they ex
-00018d10: 6973 742e 0a0a 2020 2020 2020 2020 3a70  ist...        :p
-00018d20: 6172 616d 2070 726f 6a65 6374 3a20 5468  aram project: Th
-00018d30: 6520 7072 6f6a 6563 7420 636f 6e74 6578  e project contex
-00018d40: 7420 666f 7220 7768 6963 6820 746f 2067  t for which to g
-00018d50: 656e 6572 6174 6520 7468 6520 696e 6672  enerate the infr
-00018d60: 6120 616e 6420 7374 6f72 6520 7365 6372  a and store secr
-00018d70: 6574 732e 0a20 2020 2020 2020 203a 7061  ets..        :pa
-00018d80: 7261 6d20 7072 6f76 6964 6572 3a20 5468  ram provider: Th
-00018d90: 6520 6e61 6d65 206f 6620 7468 6520 7365  e name of the se
-00018da0: 6372 6574 732d 7072 6f76 6964 6572 2074  crets-provider t
-00018db0: 6f20 776f 726b 2077 6974 682e 2041 6363  o work with. Acc
-00018dc0: 6570 7473 2061 0a20 2020 2020 2020 2020  epts a.         
-00018dd0: 2020 203a 7079 3a63 6c61 7373 3a60 7e6d     :py:class:`~m
-00018de0: 6c72 756e 2e63 6f6d 6d6f 6e2e 7363 6865  lrun.common.sche
-00018df0: 6d61 732e 7365 6372 6574 2e53 6563 7265  mas.secret.Secre
-00018e00: 7450 726f 7669 6465 724e 616d 6560 2065  tProviderName` e
-00018e10: 6e75 6d2e 0a20 2020 2020 2020 203a 7061  num..        :pa
-00018e20: 7261 6d20 7365 6372 6574 733a 2041 2073  ram secrets: A s
-00018e30: 6574 206f 6620 7365 6372 6574 2076 616c  et of secret val
-00018e40: 7565 7320 746f 2073 746f 7265 2e0a 2020  ues to store..  
-00018e50: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
-00018e60: 653a 3a0a 0a20 2020 2020 2020 2020 2020  e::..           
-00018e70: 2020 2020 2073 6563 7265 7473 203d 207b       secrets = {
-00018e80: 2770 6173 7377 6f72 6427 3a20 276d 7950  'password': 'myP
-00018e90: 6173 7377 3072 6427 2c20 2761 7773 5f6b  assw0rd', 'aws_k
-00018ea0: 6579 273a 2027 3131 3132 3232 3333 3327  ey': '111222333'
-00018eb0: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
-00018ec0: 2020 6462 2e63 7265 6174 655f 7072 6f6a    db.create_proj
-00018ed0: 6563 745f 7365 6372 6574 7328 0a20 2020  ect_secrets(.   
-00018ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018ef0: 2022 7072 6f6a 6563 7431 222c 0a20 2020   "project1",.   
-00018f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018f10: 2070 726f 7669 6465 723d 6d6c 7275 6e2e   provider=mlrun.
-00018f20: 636f 6d6d 6f6e 2e73 6368 656d 6173 2e53  common.schemas.S
-00018f30: 6563 7265 7450 726f 7669 6465 724e 616d  ecretProviderNam
-00018f40: 652e 6b75 6265 726e 6574 6573 2c0a 2020  e.kubernetes,.  
-00018f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018f60: 2020 7365 6372 6574 733d 7365 6372 6574    secrets=secret
-00018f70: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-00018f80: 2020 290a 2020 2020 2020 2020 2222 220a    ).        """.
-00018f90: 2020 2020 2020 2020 7061 7468 203d 2066          path = f
-00018fa0: 2270 726f 6a65 6374 732f 7b70 726f 6a65  "projects/{proje
-00018fb0: 6374 7d2f 7365 6372 6574 7322 0a20 2020  ct}/secrets".   
-00018fc0: 2020 2020 2073 6563 7265 7473 5f69 6e70       secrets_inp
-00018fd0: 7574 203d 206d 6c72 756e 2e63 6f6d 6d6f  ut = mlrun.commo
-00018fe0: 6e2e 7363 6865 6d61 732e 5365 6372 6574  n.schemas.Secret
-00018ff0: 7344 6174 6128 0a20 2020 2020 2020 2020  sData(.         
-00019000: 2020 2073 6563 7265 7473 3d73 6563 7265     secrets=secre
-00019010: 7473 2c20 7072 6f76 6964 6572 3d70 726f  ts, provider=pro
-00019020: 7669 6465 720a 2020 2020 2020 2020 290a  vider.        ).
-00019030: 2020 2020 2020 2020 626f 6479 203d 2073          body = s
-00019040: 6563 7265 7473 5f69 6e70 7574 2e64 6963  ecrets_input.dic
-00019050: 7428 290a 2020 2020 2020 2020 6572 726f  t().        erro
-00019060: 725f 6d65 7373 6167 6520 3d20 6622 4661  r_message = f"Fa
-00019070: 696c 6564 2063 7265 6174 696e 6720 7365  iled creating se
-00019080: 6372 6574 2070 726f 7669 6465 7220 7b70  cret provider {p
-00019090: 726f 6a65 6374 7d2f 7b70 726f 7669 6465  roject}/{provide
-000190a0: 727d 220a 2020 2020 2020 2020 7365 6c66  r}".        self
-000190b0: 2e61 7069 5f63 616c 6c28 0a20 2020 2020  .api_call(.     
-000190c0: 2020 2020 2020 2022 504f 5354 222c 0a20         "POST",. 
-000190d0: 2020 2020 2020 2020 2020 2070 6174 682c             path,
-000190e0: 0a20 2020 2020 2020 2020 2020 2065 7272  .            err
-000190f0: 6f72 5f6d 6573 7361 6765 2c0a 2020 2020  or_message,.    
-00019100: 2020 2020 2020 2020 626f 6479 3d64 6963          body=dic
-00019110: 745f 746f 5f6a 736f 6e28 626f 6479 292c  t_to_json(body),
-00019120: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
-00019130: 6465 6620 6c69 7374 5f70 726f 6a65 6374  def list_project
-00019140: 5f73 6563 7265 7473 280a 2020 2020 2020  _secrets(.      
-00019150: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-00019160: 7072 6f6a 6563 743a 2073 7472 2c0a 2020  project: str,.  
-00019170: 2020 2020 2020 746f 6b65 6e3a 2073 7472        token: str
-00019180: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00019190: 2070 726f 7669 6465 723a 2055 6e69 6f6e   provider: Union
-000191a0: 5b0a 2020 2020 2020 2020 2020 2020 7374  [.            st
-000191b0: 722c 206d 6c72 756e 2e63 6f6d 6d6f 6e2e  r, mlrun.common.
-000191c0: 7363 6865 6d61 732e 5365 6372 6574 5072  schemas.SecretPr
-000191d0: 6f76 6964 6572 4e61 6d65 0a20 2020 2020  oviderName.     
-000191e0: 2020 205d 203d 206d 6c72 756e 2e63 6f6d     ] = mlrun.com
-000191f0: 6d6f 6e2e 7363 6865 6d61 732e 5365 6372  mon.schemas.Secr
-00019200: 6574 5072 6f76 6964 6572 4e61 6d65 2e6b  etProviderName.k
-00019210: 7562 6572 6e65 7465 732c 0a20 2020 2020  ubernetes,.     
-00019220: 2020 2073 6563 7265 7473 3a20 4c69 7374     secrets: List
-00019230: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
-00019240: 2020 2920 2d3e 206d 6c72 756e 2e63 6f6d    ) -> mlrun.com
-00019250: 6d6f 6e2e 7363 6865 6d61 732e 5365 6372  mon.schemas.Secr
-00019260: 6574 7344 6174 613a 0a20 2020 2020 2020  etsData:.       
-00019270: 2022 2222 5265 7472 6965 7665 2070 726f   """Retrieve pro
-00019280: 6a65 6374 2d63 6f6e 7465 7874 2073 6563  ject-context sec
-00019290: 7265 7473 2066 726f 6d20 5661 756c 742e  rets from Vault.
-000192a0: 0a0a 2020 2020 2020 2020 4e6f 7465 3a0a  ..        Note:.
-000192b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000192c0: 5468 6973 206d 6574 686f 6420 666f 7220  This method for 
-000192d0: 5661 756c 7420 6675 6e63 7469 6f6e 616c  Vault functional
-000192e0: 6974 7920 6973 2063 7572 7265 6e74 6c79  ity is currently
-000192f0: 2069 6e20 7465 6368 6e69 6361 6c20 7072   in technical pr
-00019300: 6576 6965 772c 2061 6e64 2072 6571 7569  eview, and requi
-00019310: 7265 7320 6120 4861 7368 6943 6f72 7020  res a HashiCorp 
-00019320: 5661 756c 740a 2020 2020 2020 2020 2020  Vault.          
-00019330: 2020 2020 2020 696e 6672 6173 7472 7563        infrastruc
-00019340: 7475 7265 2070 726f 7065 726c 7920 7365  ture properly se
-00019350: 7420 7570 2061 6e64 2063 6f6e 6e65 6374  t up and connect
-00019360: 6564 2074 6f20 7468 6520 4d4c 5275 6e20  ed to the MLRun 
-00019370: 4150 4920 7365 7276 6572 2e0a 0a20 2020  API server...   
-00019380: 2020 2020 203a 7061 7261 6d20 7072 6f6a       :param proj
-00019390: 6563 743a 2054 6865 2070 726f 6a65 6374  ect: The project
-000193a0: 206e 616d 652e 0a20 2020 2020 2020 203a   name..        :
-000193b0: 7061 7261 6d20 746f 6b65 6e3a 2056 6175  param token: Vau
-000193c0: 6c74 2074 6f6b 656e 2074 6f20 7573 6520  lt token to use 
-000193d0: 666f 7220 7265 7472 6965 7669 6e67 2073  for retrieving s
-000193e0: 6563 7265 7473 2e0a 2020 2020 2020 2020  ecrets..        
-000193f0: 2020 2020 4d75 7374 2062 6520 6120 7661      Must be a va
-00019400: 6c69 6420 5661 756c 7420 746f 6b65 6e2c  lid Vault token,
-00019410: 2077 6974 6820 7065 726d 6973 7369 6f6e   with permission
-00019420: 7320 746f 2072 6574 7269 6576 6520 7365  s to retrieve se
-00019430: 6372 6574 7320 6f66 2074 6865 2070 726f  crets of the pro
-00019440: 6a65 6374 2069 6e20 7175 6573 7469 6f6e  ject in question
-00019450: 2e0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-00019460: 2070 726f 7669 6465 723a 2054 6865 206e   provider: The n
-00019470: 616d 6520 6f66 2074 6865 2073 6563 7265  ame of the secre
-00019480: 7473 2d70 726f 7669 6465 7220 746f 2077  ts-provider to w
-00019490: 6f72 6b20 7769 7468 2e20 4375 7272 656e  ork with. Curren
-000194a0: 746c 7920 6f6e 6c79 2060 6076 6175 6c74  tly only ``vault
-000194b0: 6060 2069 7320 6163 6365 7074 6564 2e0a  `` is accepted..
-000194c0: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-000194d0: 6563 7265 7473 3a20 4120 6c69 7374 206f  ecrets: A list o
-000194e0: 6620 7365 6372 6574 206e 616d 6573 2074  f secret names t
-000194f0: 6f20 7265 7472 6965 7665 2e20 416e 2065  o retrieve. An e
-00019500: 6d70 7479 206c 6973 7420 6060 5b5d 6060  mpty list ``[]``
-00019510: 2077 696c 6c20 7265 7472 6965 7665 2061   will retrieve a
-00019520: 6c6c 2073 6563 7265 7473 2061 7373 6967  ll secrets assig
-00019530: 6e65 640a 2020 2020 2020 2020 2020 2020  ned.            
-00019540: 746f 2074 6869 7320 7370 6563 6966 6963  to this specific
-00019550: 2070 726f 6a65 6374 2e20 6060 6b75 6265   project. ``kube
-00019560: 726e 6574 6573 6060 2070 726f 7669 6465  rnetes`` provide
-00019570: 7220 6f6e 6c79 2073 7570 706f 7274 7320  r only supports 
-00019580: 616e 2065 6d70 7479 206c 6973 742e 0a20  an empty list.. 
-00019590: 2020 2020 2020 2022 2222 0a0a 2020 2020         """..    
-000195a0: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
-000195b0: 2020 2020 2070 726f 7669 6465 7220 3d3d       provider ==
-000195c0: 206d 6c72 756e 2e63 6f6d 6d6f 6e2e 7363   mlrun.common.sc
-000195d0: 6865 6d61 732e 5365 6372 6574 5072 6f76  hemas.SecretProv
-000195e0: 6964 6572 4e61 6d65 2e76 6175 6c74 2e76  iderName.vault.v
-000195f0: 616c 7565 0a20 2020 2020 2020 2020 2020  alue.           
-00019600: 2061 6e64 206e 6f74 2074 6f6b 656e 0a20   and not token. 
-00019610: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
-00019620: 2020 2020 2020 7261 6973 6520 4d4c 5275        raise MLRu
-00019630: 6e49 6e76 616c 6964 4172 6775 6d65 6e74  nInvalidArgument
-00019640: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-00019650: 2020 2020 2020 2022 4120 7661 756c 7420         "A vault 
-00019660: 746f 6b65 6e20 6d75 7374 2062 6520 7072  token must be pr
-00019670: 6f76 6964 6564 2077 6865 6e20 6163 6365  ovided when acce
-00019680: 7373 696e 6720 7661 756c 7420 7365 6372  ssing vault secr
-00019690: 6574 7322 0a20 2020 2020 2020 2020 2020  ets".           
-000196a0: 2029 0a0a 2020 2020 2020 2020 7061 7468   )..        path
-000196b0: 203d 2066 2270 726f 6a65 6374 732f 7b70   = f"projects/{p
-000196c0: 726f 6a65 6374 7d2f 7365 6372 6574 7322  roject}/secrets"
-000196d0: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-000196e0: 3d20 7b22 7072 6f76 6964 6572 223a 2070  = {"provider": p
-000196f0: 726f 7669 6465 722c 2022 7365 6372 6574  rovider, "secret
-00019700: 223a 2073 6563 7265 7473 7d0a 2020 2020  ": secrets}.    
-00019710: 2020 2020 6865 6164 6572 7320 3d20 7b6d      headers = {m
-00019720: 6c72 756e 2e63 6f6d 6d6f 6e2e 7363 6865  lrun.common.sche
-00019730: 6d61 732e 4865 6164 6572 4e61 6d65 732e  mas.HeaderNames.
-00019740: 7365 6372 6574 5f73 746f 7265 5f74 6f6b  secret_store_tok
-00019750: 656e 3a20 746f 6b65 6e7d 0a20 2020 2020  en: token}.     
-00019760: 2020 2065 7272 6f72 5f6d 6573 7361 6765     error_message
-00019770: 203d 2066 2246 6169 6c65 6420 7265 7472   = f"Failed retr
-00019780: 6965 7669 6e67 2073 6563 7265 7473 207b  ieving secrets {
-00019790: 7072 6f6a 6563 747d 2f7b 7072 6f76 6964  project}/{provid
-000197a0: 6572 7d22 0a20 2020 2020 2020 2072 6573  er}".        res
-000197b0: 756c 7420 3d20 7365 6c66 2e61 7069 5f63  ult = self.api_c
-000197c0: 616c 6c28 0a20 2020 2020 2020 2020 2020  all(.           
-000197d0: 2022 4745 5422 2c0a 2020 2020 2020 2020   "GET",.        
-000197e0: 2020 2020 7061 7468 2c0a 2020 2020 2020      path,.      
-000197f0: 2020 2020 2020 6572 726f 725f 6d65 7373        error_mess
-00019800: 6167 652c 0a20 2020 2020 2020 2020 2020  age,.           
-00019810: 2070 6172 616d 733d 7061 7261 6d73 2c0a   params=params,.
-00019820: 2020 2020 2020 2020 2020 2020 6865 6164              head
-00019830: 6572 733d 6865 6164 6572 732c 0a20 2020  ers=headers,.   
-00019840: 2020 2020 2029 0a20 2020 2020 2020 2072       ).        r
-00019850: 6574 7572 6e20 6d6c 7275 6e2e 636f 6d6d  eturn mlrun.comm
-00019860: 6f6e 2e73 6368 656d 6173 2e53 6563 7265  on.schemas.Secre
-00019870: 7473 4461 7461 282a 2a72 6573 756c 742e  tsData(**result.
-00019880: 6a73 6f6e 2829 290a 0a20 2020 2064 6566  json())..    def
-00019890: 206c 6973 745f 7072 6f6a 6563 745f 7365   list_project_se
-000198a0: 6372 6574 5f6b 6579 7328 0a20 2020 2020  cret_keys(.     
-000198b0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-000198c0: 2070 726f 6a65 6374 3a20 7374 722c 0a20   project: str,. 
-000198d0: 2020 2020 2020 2070 726f 7669 6465 723a         provider:
-000198e0: 2055 6e69 6f6e 5b0a 2020 2020 2020 2020   Union[.        
-000198f0: 2020 2020 7374 722c 206d 6c72 756e 2e63      str, mlrun.c
-00019900: 6f6d 6d6f 6e2e 7363 6865 6d61 732e 5365  ommon.schemas.Se
-00019910: 6372 6574 5072 6f76 6964 6572 4e61 6d65  cretProviderName
-00019920: 0a20 2020 2020 2020 205d 203d 206d 6c72  .        ] = mlr
-00019930: 756e 2e63 6f6d 6d6f 6e2e 7363 6865 6d61  un.common.schema
-00019940: 732e 5365 6372 6574 5072 6f76 6964 6572  s.SecretProvider
-00019950: 4e61 6d65 2e6b 7562 6572 6e65 7465 732c  Name.kubernetes,
-00019960: 0a20 2020 2020 2020 2074 6f6b 656e 3a20  .        token: 
-00019970: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00019980: 2920 2d3e 206d 6c72 756e 2e63 6f6d 6d6f  ) -> mlrun.commo
-00019990: 6e2e 7363 6865 6d61 732e 5365 6372 6574  n.schemas.Secret
-000199a0: 4b65 7973 4461 7461 3a0a 2020 2020 2020  KeysData:.      
-000199b0: 2020 2222 2252 6574 7269 6576 6520 7072    """Retrieve pr
-000199c0: 6f6a 6563 742d 636f 6e74 6578 7420 7365  oject-context se
-000199d0: 6372 6574 206b 6579 7320 6672 6f6d 2056  cret keys from V
-000199e0: 6175 6c74 206f 7220 4b75 6265 726e 6574  ault or Kubernet
-000199f0: 6573 2e0a 0a20 2020 2020 2020 204e 6f74  es...        Not
-00019a00: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00019a10: 2020 2054 6869 7320 6d65 7468 6f64 2066     This method f
-00019a20: 6f72 2056 6175 6c74 2066 756e 6374 696f  or Vault functio
-00019a30: 6e61 6c69 7479 2069 7320 6375 7272 656e  nality is curren
-00019a40: 746c 7920 696e 2074 6563 686e 6963 616c  tly in technical
-00019a50: 2070 7265 7669 6577 2c20 616e 6420 7265   preview, and re
-00019a60: 7175 6972 6573 2061 2048 6173 6869 436f  quires a HashiCo
-00019a70: 7270 2056 6175 6c74 0a20 2020 2020 2020  rp Vault.       
-00019a80: 2020 2020 2020 2020 2069 6e66 7261 7374           infrast
-00019a90: 7275 6374 7572 6520 7072 6f70 6572 6c79  ructure properly
-00019aa0: 2073 6574 2075 7020 616e 6420 636f 6e6e   set up and conn
-00019ab0: 6563 7465 6420 746f 2074 6865 204d 4c52  ected to the MLR
-00019ac0: 756e 2041 5049 2073 6572 7665 722e 0a0a  un API server...
-00019ad0: 2020 2020 2020 2020 3a70 6172 616d 2070          :param p
-00019ae0: 726f 6a65 6374 3a20 5468 6520 7072 6f6a  roject: The proj
-00019af0: 6563 7420 6e61 6d65 2e0a 2020 2020 2020  ect name..      
-00019b00: 2020 3a70 6172 616d 2070 726f 7669 6465    :param provide
-00019b10: 723a 2054 6865 206e 616d 6520 6f66 2074  r: The name of t
-00019b20: 6865 2073 6563 7265 7473 2d70 726f 7669  he secrets-provi
-00019b30: 6465 7220 746f 2077 6f72 6b20 7769 7468  der to work with
-00019b40: 2e20 4163 6365 7074 7320 610a 2020 2020  . Accepts a.    
-00019b50: 2020 2020 2020 2020 3a70 793a 636c 6173          :py:clas
-00019b60: 733a 607e 6d6c 7275 6e2e 636f 6d6d 6f6e  s:`~mlrun.common
-00019b70: 2e73 6368 656d 6173 2e73 6563 7265 742e  .schemas.secret.
-00019b80: 5365 6372 6574 5072 6f76 6964 6572 4e61  SecretProviderNa
-00019b90: 6d65 6020 656e 756d 2e0a 2020 2020 2020  me` enum..      
-00019ba0: 2020 3a70 6172 616d 2074 6f6b 656e 3a20    :param token: 
-00019bb0: 5661 756c 7420 746f 6b65 6e20 746f 2075  Vault token to u
-00019bc0: 7365 2066 6f72 2072 6574 7269 6576 696e  se for retrievin
-00019bd0: 6720 7365 6372 6574 732e 204f 6e6c 7920  g secrets. Only 
-00019be0: 696e 2075 7365 2069 6620 6060 7072 6f76  in use if ``prov
-00019bf0: 6964 6572 6060 2069 7320 6060 7661 756c  ider`` is ``vaul
-00019c00: 7460 602e 0a20 2020 2020 2020 2020 2020  t``..           
-00019c10: 204d 7573 7420 6265 2061 2076 616c 6964   Must be a valid
-00019c20: 2056 6175 6c74 2074 6f6b 656e 2c20 7769   Vault token, wi
-00019c30: 7468 2070 6572 6d69 7373 696f 6e73 2074  th permissions t
-00019c40: 6f20 7265 7472 6965 7665 2073 6563 7265  o retrieve secre
-00019c50: 7473 206f 6620 7468 6520 7072 6f6a 6563  ts of the projec
-00019c60: 7420 696e 2071 7565 7374 696f 6e2e 0a20  t in question.. 
-00019c70: 2020 2020 2020 2022 2222 0a0a 2020 2020         """..    
-00019c80: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
-00019c90: 2020 2020 2070 726f 7669 6465 7220 3d3d       provider ==
-00019ca0: 206d 6c72 756e 2e63 6f6d 6d6f 6e2e 7363   mlrun.common.sc
-00019cb0: 6865 6d61 732e 5365 6372 6574 5072 6f76  hemas.SecretProv
-00019cc0: 6964 6572 4e61 6d65 2e76 6175 6c74 2e76  iderName.vault.v
-00019cd0: 616c 7565 0a20 2020 2020 2020 2020 2020  alue.           
-00019ce0: 2061 6e64 206e 6f74 2074 6f6b 656e 0a20   and not token. 
-00019cf0: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
-00019d00: 2020 2020 2020 7261 6973 6520 4d4c 5275        raise MLRu
-00019d10: 6e49 6e76 616c 6964 4172 6775 6d65 6e74  nInvalidArgument
-00019d20: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-00019d30: 2020 2020 2020 2022 4120 7661 756c 7420         "A vault 
-00019d40: 746f 6b65 6e20 6d75 7374 2062 6520 7072  token must be pr
-00019d50: 6f76 6964 6564 2077 6865 6e20 6163 6365  ovided when acce
-00019d60: 7373 696e 6720 7661 756c 7420 7365 6372  ssing vault secr
-00019d70: 6574 7322 0a20 2020 2020 2020 2020 2020  ets".           
-00019d80: 2029 0a0a 2020 2020 2020 2020 7061 7468   )..        path
-00019d90: 203d 2066 2270 726f 6a65 6374 732f 7b70   = f"projects/{p
-00019da0: 726f 6a65 6374 7d2f 7365 6372 6574 2d6b  roject}/secret-k
-00019db0: 6579 7322 0a20 2020 2020 2020 2070 6172  eys".        par
-00019dc0: 616d 7320 3d20 7b22 7072 6f76 6964 6572  ams = {"provider
-00019dd0: 223a 2070 726f 7669 6465 727d 0a20 2020  ": provider}.   
-00019de0: 2020 2020 2068 6561 6465 7273 203d 2028       headers = (
-00019df0: 0a20 2020 2020 2020 2020 2020 207b 6d6c  .            {ml
-00019e00: 7275 6e2e 636f 6d6d 6f6e 2e73 6368 656d  run.common.schem
-00019e10: 6173 2e48 6561 6465 724e 616d 6573 2e73  as.HeaderNames.s
-00019e20: 6563 7265 745f 7374 6f72 655f 746f 6b65  ecret_store_toke
-00019e30: 6e3a 2074 6f6b 656e 7d0a 2020 2020 2020  n: token}.      
-00019e40: 2020 2020 2020 6966 2070 726f 7669 6465        if provide
-00019e50: 7220 3d3d 206d 6c72 756e 2e63 6f6d 6d6f  r == mlrun.commo
-00019e60: 6e2e 7363 6865 6d61 732e 5365 6372 6574  n.schemas.Secret
-00019e70: 5072 6f76 6964 6572 4e61 6d65 2e76 6175  ProviderName.vau
-00019e80: 6c74 2e76 616c 7565 0a20 2020 2020 2020  lt.value.       
-00019e90: 2020 2020 2065 6c73 6520 4e6f 6e65 0a20       else None. 
-00019ea0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00019eb0: 2065 7272 6f72 5f6d 6573 7361 6765 203d   error_message =
-00019ec0: 2066 2246 6169 6c65 6420 7265 7472 6965   f"Failed retrie
-00019ed0: 7669 6e67 2073 6563 7265 7420 6b65 7973  ving secret keys
-00019ee0: 207b 7072 6f6a 6563 747d 2f7b 7072 6f76   {project}/{prov
-00019ef0: 6964 6572 7d22 0a20 2020 2020 2020 2072  ider}".        r
-00019f00: 6573 756c 7420 3d20 7365 6c66 2e61 7069  esult = self.api
-00019f10: 5f63 616c 6c28 0a20 2020 2020 2020 2020  _call(.         
-00019f20: 2020 2022 4745 5422 2c0a 2020 2020 2020     "GET",.      
-00019f30: 2020 2020 2020 7061 7468 2c0a 2020 2020        path,.    
-00019f40: 2020 2020 2020 2020 6572 726f 725f 6d65          error_me
-00019f50: 7373 6167 652c 0a20 2020 2020 2020 2020  ssage,.         
-00019f60: 2020 2070 6172 616d 733d 7061 7261 6d73     params=params
-00019f70: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-00019f80: 6164 6572 733d 6865 6164 6572 732c 0a20  aders=headers,. 
-00019f90: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00019fa0: 2072 6574 7572 6e20 6d6c 7275 6e2e 636f   return mlrun.co
-00019fb0: 6d6d 6f6e 2e73 6368 656d 6173 2e53 6563  mmon.schemas.Sec
-00019fc0: 7265 744b 6579 7344 6174 6128 2a2a 7265  retKeysData(**re
-00019fd0: 7375 6c74 2e6a 736f 6e28 2929 0a0a 2020  sult.json())..  
-00019fe0: 2020 6465 6620 6465 6c65 7465 5f70 726f    def delete_pro
-00019ff0: 6a65 6374 5f73 6563 7265 7473 280a 2020  ject_secrets(.  
-0001a000: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-0001a010: 2020 2020 7072 6f6a 6563 743a 2073 7472      project: str
-0001a020: 2c0a 2020 2020 2020 2020 7072 6f76 6964  ,.        provid
-0001a030: 6572 3a20 556e 696f 6e5b 0a20 2020 2020  er: Union[.     
-0001a040: 2020 2020 2020 2073 7472 2c20 6d6c 7275         str, mlru
-0001a050: 6e2e 636f 6d6d 6f6e 2e73 6368 656d 6173  n.common.schemas
-0001a060: 2e53 6563 7265 7450 726f 7669 6465 724e  .SecretProviderN
-0001a070: 616d 650a 2020 2020 2020 2020 5d20 3d20  ame.        ] = 
-0001a080: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
-0001a090: 656d 6173 2e53 6563 7265 7450 726f 7669  emas.SecretProvi
-0001a0a0: 6465 724e 616d 652e 6b75 6265 726e 6574  derName.kubernet
-0001a0b0: 6573 2c0a 2020 2020 2020 2020 7365 6372  es,.        secr
-0001a0c0: 6574 733a 204c 6973 745b 7374 725d 203d  ets: List[str] =
-0001a0d0: 204e 6f6e 652c 0a20 2020 2029 3a0a 2020   None,.    ):.  
-0001a0e0: 2020 2020 2020 2222 2244 656c 6574 6520        """Delete 
-0001a0f0: 7072 6f6a 6563 742d 636f 6e74 6578 7420  project-context 
-0001a100: 7365 6372 6574 7320 6672 6f6d 204b 7562  secrets from Kub
-0001a110: 6572 6e65 7465 732e 0a0a 2020 2020 2020  ernetes...      
-0001a120: 2020 3a70 6172 616d 2070 726f 6a65 6374    :param project
-0001a130: 3a20 5468 6520 7072 6f6a 6563 7420 6e61  : The project na
-0001a140: 6d65 2e0a 2020 2020 2020 2020 3a70 6172  me..        :par
-0001a150: 616d 2070 726f 7669 6465 723a 2054 6865  am provider: The
-0001a160: 206e 616d 6520 6f66 2074 6865 2073 6563   name of the sec
-0001a170: 7265 7473 2d70 726f 7669 6465 7220 746f  rets-provider to
-0001a180: 2077 6f72 6b20 7769 7468 2e20 4375 7272   work with. Curr
-0001a190: 656e 746c 7920 6f6e 6c79 2060 606b 7562  ently only ``kub
-0001a1a0: 6572 6e65 7465 7360 6020 6973 2073 7570  ernetes`` is sup
-0001a1b0: 706f 7274 6564 2e0a 2020 2020 2020 2020  ported..        
-0001a1c0: 3a70 6172 616d 2073 6563 7265 7473 3a20  :param secrets: 
-0001a1d0: 4120 6c69 7374 206f 6620 7365 6372 6574  A list of secret
-0001a1e0: 206e 616d 6573 2074 6f20 6465 6c65 7465   names to delete
-0001a1f0: 2e20 416e 2065 6d70 7479 206c 6973 7420  . An empty list 
-0001a200: 7769 6c6c 2064 656c 6574 6520 616c 6c20  will delete all 
-0001a210: 7365 6372 6574 7320 6173 7369 676e 6564  secrets assigned
-0001a220: 0a20 2020 2020 2020 2020 2020 2074 6f20  .            to 
-0001a230: 7468 6973 2073 7065 6369 6669 6320 7072  this specific pr
-0001a240: 6f6a 6563 742e 0a20 2020 2020 2020 2022  oject..        "
-0001a250: 2222 0a0a 2020 2020 2020 2020 7061 7468  ""..        path
-0001a260: 203d 2066 2270 726f 6a65 6374 732f 7b70   = f"projects/{p
-0001a270: 726f 6a65 6374 7d2f 7365 6372 6574 7322  roject}/secrets"
-0001a280: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-0001a290: 3d20 7b22 7072 6f76 6964 6572 223a 2070  = {"provider": p
-0001a2a0: 726f 7669 6465 722c 2022 7365 6372 6574  rovider, "secret
-0001a2b0: 223a 2073 6563 7265 7473 7d0a 2020 2020  ": secrets}.    
-0001a2c0: 2020 2020 6572 726f 725f 6d65 7373 6167      error_messag
-0001a2d0: 6520 3d20 6622 4661 696c 6564 2064 656c  e = f"Failed del
-0001a2e0: 6574 696e 6720 7365 6372 6574 7320 7b70  eting secrets {p
-0001a2f0: 726f 6a65 6374 7d2f 7b70 726f 7669 6465  roject}/{provide
-0001a300: 727d 220a 2020 2020 2020 2020 7365 6c66  r}".        self
-0001a310: 2e61 7069 5f63 616c 6c28 0a20 2020 2020  .api_call(.     
-0001a320: 2020 2020 2020 2022 4445 4c45 5445 222c         "DELETE",
-0001a330: 0a20 2020 2020 2020 2020 2020 2070 6174  .            pat
-0001a340: 682c 0a20 2020 2020 2020 2020 2020 2065  h,.            e
-0001a350: 7272 6f72 5f6d 6573 7361 6765 2c0a 2020  rror_message,.  
-0001a360: 2020 2020 2020 2020 2020 7061 7261 6d73            params
-0001a370: 3d70 6172 616d 732c 0a20 2020 2020 2020  =params,.       
-0001a380: 2029 0a0a 2020 2020 6465 6620 6372 6561   )..    def crea
-0001a390: 7465 5f75 7365 725f 7365 6372 6574 7328  te_user_secrets(
-0001a3a0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-0001a3b0: 2020 2020 2020 2075 7365 723a 2073 7472         user: str
-0001a3c0: 2c0a 2020 2020 2020 2020 7072 6f76 6964  ,.        provid
-0001a3d0: 6572 3a20 556e 696f 6e5b 0a20 2020 2020  er: Union[.     
-0001a3e0: 2020 2020 2020 2073 7472 2c20 6d6c 7275         str, mlru
-0001a3f0: 6e2e 636f 6d6d 6f6e 2e73 6368 656d 6173  n.common.schemas
-0001a400: 2e53 6563 7265 7450 726f 7669 6465 724e  .SecretProviderN
-0001a410: 616d 650a 2020 2020 2020 2020 5d20 3d20  ame.        ] = 
-0001a420: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
-0001a430: 656d 6173 2e53 6563 7265 7450 726f 7669  emas.SecretProvi
-0001a440: 6465 724e 616d 652e 7661 756c 742c 0a20  derName.vault,. 
-0001a450: 2020 2020 2020 2073 6563 7265 7473 3a20         secrets: 
-0001a460: 6469 6374 203d 204e 6f6e 652c 0a20 2020  dict = None,.   
-0001a470: 2029 3a0a 2020 2020 2020 2020 2222 2243   ):.        """C
-0001a480: 7265 6174 6520 7573 6572 2d63 6f6e 7465  reate user-conte
-0001a490: 7874 2073 6563 7265 7420 696e 2056 6175  xt secret in Vau
-0001a4a0: 6c74 2e20 506c 6561 7365 2072 6566 6572  lt. Please refer
-0001a4b0: 2074 6f20 3a70 793a 6675 6e63 3a60 6372   to :py:func:`cr
-0001a4c0: 6561 7465 5f70 726f 6a65 6374 5f73 6563  eate_project_sec
-0001a4d0: 7265 7473 6020 666f 7220 6d6f 7265 2064  rets` for more d
-0001a4e0: 6574 6169 6c73 0a20 2020 2020 2020 2061  etails.        a
-0001a4f0: 6e64 2073 7461 7475 7320 6f66 2074 6869  nd status of thi
-0001a500: 7320 6675 6e63 7469 6f6e 616c 6974 792e  s functionality.
-0001a510: 0a0a 2020 2020 2020 2020 4e6f 7465 3a0a  ..        Note:.
-0001a520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a530: 5468 6973 206d 6574 686f 6420 6973 2063  This method is c
-0001a540: 7572 7265 6e74 6c79 2069 6e20 7465 6368  urrently in tech
-0001a550: 6e69 6361 6c20 7072 6576 6965 772c 2061  nical preview, a
-0001a560: 6e64 2072 6571 7569 7265 7320 6120 4861  nd requires a Ha
-0001a570: 7368 6943 6f72 7020 5661 756c 7420 696e  shiCorp Vault in
-0001a580: 6672 6173 7472 7563 7475 7265 0a20 2020  frastructure.   
-0001a590: 2020 2020 2020 2020 2020 2020 2070 726f               pro
-0001a5a0: 7065 726c 7920 7365 7420 7570 2061 6e64  perly set up and
-0001a5b0: 2063 6f6e 6e65 6374 6564 2074 6f20 7468   connected to th
-0001a5c0: 6520 4d4c 5275 6e20 4150 4920 7365 7276  e MLRun API serv
-0001a5d0: 6572 2e0a 0a20 2020 2020 2020 203a 7061  er...        :pa
-0001a5e0: 7261 6d20 7573 6572 3a20 5468 6520 7573  ram user: The us
-0001a5f0: 6572 2063 6f6e 7465 7874 2066 6f72 2077  er context for w
-0001a600: 6869 6368 2074 6f20 6765 6e65 7261 7465  hich to generate
-0001a610: 2074 6865 2069 6e66 7261 2061 6e64 2073   the infra and s
-0001a620: 746f 7265 2073 6563 7265 7473 2e0a 2020  tore secrets..  
-0001a630: 2020 2020 2020 3a70 6172 616d 2070 726f        :param pro
-0001a640: 7669 6465 723a 2054 6865 206e 616d 6520  vider: The name 
-0001a650: 6f66 2074 6865 2073 6563 7265 7473 2d70  of the secrets-p
-0001a660: 726f 7669 6465 7220 746f 2077 6f72 6b20  rovider to work 
-0001a670: 7769 7468 2e20 4375 7272 656e 746c 7920  with. Currently 
-0001a680: 6f6e 6c79 2060 6076 6175 6c74 6060 2069  only ``vault`` i
-0001a690: 7320 7375 7070 6f72 7465 642e 0a20 2020  s supported..   
-0001a6a0: 2020 2020 203a 7061 7261 6d20 7365 6372       :param secr
-0001a6b0: 6574 733a 2041 2073 6574 206f 6620 7365  ets: A set of se
-0001a6c0: 6372 6574 2076 616c 7565 7320 746f 2073  cret values to s
-0001a6d0: 746f 7265 2077 6974 6869 6e20 7468 6520  tore within the 
-0001a6e0: 5661 756c 742e 0a20 2020 2020 2020 2022  Vault..        "
-0001a6f0: 2222 0a20 2020 2020 2020 2070 6174 6820  "".        path 
-0001a700: 3d20 2275 7365 722d 7365 6372 6574 7322  = "user-secrets"
-0001a710: 0a20 2020 2020 2020 2073 6563 7265 7473  .        secrets
-0001a720: 5f63 7265 6174 696f 6e5f 7265 7175 6573  _creation_reques
-0001a730: 7420 3d20 6d6c 7275 6e2e 636f 6d6d 6f6e  t = mlrun.common
-0001a740: 2e73 6368 656d 6173 2e55 7365 7253 6563  .schemas.UserSec
-0001a750: 7265 7443 7265 6174 696f 6e52 6571 7565  retCreationReque
-0001a760: 7374 280a 2020 2020 2020 2020 2020 2020  st(.            
-0001a770: 7573 6572 3d75 7365 722c 0a20 2020 2020  user=user,.     
-0001a780: 2020 2020 2020 2070 726f 7669 6465 723d         provider=
-0001a790: 7072 6f76 6964 6572 2c0a 2020 2020 2020  provider,.      
-0001a7a0: 2020 2020 2020 7365 6372 6574 733d 7365        secrets=se
-0001a7b0: 6372 6574 732c 0a20 2020 2020 2020 2029  crets,.        )
-0001a7c0: 0a20 2020 2020 2020 2062 6f64 7920 3d20  .        body = 
-0001a7d0: 7365 6372 6574 735f 6372 6561 7469 6f6e  secrets_creation
-0001a7e0: 5f72 6571 7565 7374 2e64 6963 7428 290a  _request.dict().
-0001a7f0: 2020 2020 2020 2020 6572 726f 725f 6d65          error_me
-0001a800: 7373 6167 6520 3d20 6622 4661 696c 6564  ssage = f"Failed
-0001a810: 2063 7265 6174 696e 6720 7573 6572 2073   creating user s
-0001a820: 6563 7265 7473 202d 207b 7573 6572 7d22  ecrets - {user}"
-0001a830: 0a20 2020 2020 2020 2073 656c 662e 6170  .        self.ap
-0001a840: 695f 6361 6c6c 280a 2020 2020 2020 2020  i_call(.        
-0001a850: 2020 2020 2250 4f53 5422 2c0a 2020 2020      "POST",.    
-0001a860: 2020 2020 2020 2020 7061 7468 2c0a 2020          path,.  
-0001a870: 2020 2020 2020 2020 2020 6572 726f 725f            error_
-0001a880: 6d65 7373 6167 652c 0a20 2020 2020 2020  message,.       
-0001a890: 2020 2020 2062 6f64 793d 6469 6374 5f74       body=dict_t
-0001a8a0: 6f5f 6a73 6f6e 2862 6f64 7929 2c0a 2020  o_json(body),.  
-0001a8b0: 2020 2020 2020 290a 0a20 2020 2040 7374        )..    @st
-0001a8c0: 6174 6963 6d65 7468 6f64 0a20 2020 2064  aticmethod.    d
-0001a8d0: 6566 205f 7661 6c69 6461 7465 5f76 6572  ef _validate_ver
-0001a8e0: 7369 6f6e 5f63 6f6d 7061 7469 6269 6c69  sion_compatibili
-0001a8f0: 7479 2873 6572 7665 725f 7665 7273 696f  ty(server_versio
-0001a900: 6e2c 2063 6c69 656e 745f 7665 7273 696f  n, client_versio
-0001a910: 6e29 202d 3e20 626f 6f6c 3a0a 2020 2020  n) -> bool:.    
-0001a920: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0001a930: 2020 2020 2070 6172 7365 645f 7365 7276       parsed_serv
-0001a940: 6572 5f76 6572 7369 6f6e 203d 2073 656d  er_version = sem
-0001a950: 7665 722e 5665 7273 696f 6e49 6e66 6f2e  ver.VersionInfo.
-0001a960: 7061 7273 6528 7365 7276 6572 5f76 6572  parse(server_ver
-0001a970: 7369 6f6e 290a 2020 2020 2020 2020 2020  sion).          
-0001a980: 2020 7061 7273 6564 5f63 6c69 656e 745f    parsed_client_
-0001a990: 7665 7273 696f 6e20 3d20 7365 6d76 6572  version = semver
-0001a9a0: 2e56 6572 7369 6f6e 496e 666f 2e70 6172  .VersionInfo.par
-0001a9b0: 7365 2863 6c69 656e 745f 7665 7273 696f  se(client_versio
-0001a9c0: 6e29 0a20 2020 2020 2020 2065 7863 6570  n).        excep
-0001a9d0: 7420 5661 6c75 6545 7272 6f72 3a0a 2020  t ValueError:.  
-0001a9e0: 2020 2020 2020 2020 2020 2320 5468 6973            # This
-0001a9f0: 2077 696c 6c20 6d6f 7374 6c79 2068 6170   will mostly hap
-0001aa00: 7065 6e20 696e 2064 6576 2073 6365 6e61  pen in dev scena
-0001aa10: 7269 6f73 2077 6865 6e20 7468 6520 7665  rios when the ve
-0001aa20: 7273 696f 6e20 6973 2075 6e73 7461 626c  rsion is unstabl
-0001aa30: 6520 616e 6420 7375 6368 202d 2074 6865  e and such - the
-0001aa40: 7265 666f 7265 2077 6527 7265 2069 676e  refore we're ign
-0001aa50: 6f72 696e 670a 2020 2020 2020 2020 2020  oring.          
-0001aa60: 2020 6c6f 6767 6572 2e77 6172 6e69 6e67    logger.warning
-0001aa70: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0001aa80: 2020 2255 6e61 626c 6520 746f 2070 6172    "Unable to par
-0001aa90: 7365 2073 6572 7665 7220 6f72 2063 6c69  se server or cli
-0001aaa0: 656e 7420 7665 7273 696f 6e2e 2041 7373  ent version. Ass
-0001aab0: 756d 696e 6720 636f 6d70 6174 6962 6c65  uming compatible
-0001aac0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0001aad0: 2020 2073 6572 7665 725f 7665 7273 696f     server_versio
-0001aae0: 6e3d 7365 7276 6572 5f76 6572 7369 6f6e  n=server_version
-0001aaf0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001ab00: 2020 636c 6965 6e74 5f76 6572 7369 6f6e    client_version
-0001ab10: 3d63 6c69 656e 745f 7665 7273 696f 6e2c  =client_version,
-0001ab20: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-0001ab30: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0001ab40: 6e20 5472 7565 0a20 2020 2020 2020 2069  n True.        i
-0001ab50: 6620 2870 6172 7365 645f 7365 7276 6572  f (parsed_server
-0001ab60: 5f76 6572 7369 6f6e 2e6d 616a 6f72 203d  _version.major =
-0001ab70: 3d20 3020 616e 6420 7061 7273 6564 5f73  = 0 and parsed_s
-0001ab80: 6572 7665 725f 7665 7273 696f 6e2e 6d69  erver_version.mi
-0001ab90: 6e6f 7220 3d3d 2030 2920 6f72 2028 0a20  nor == 0) or (. 
-0001aba0: 2020 2020 2020 2020 2020 2070 6172 7365             parse
-0001abb0: 645f 636c 6965 6e74 5f76 6572 7369 6f6e  d_client_version
-0001abc0: 2e6d 616a 6f72 203d 3d20 3020 616e 6420  .major == 0 and 
-0001abd0: 7061 7273 6564 5f63 6c69 656e 745f 7665  parsed_client_ve
-0001abe0: 7273 696f 6e2e 6d69 6e6f 7220 3d3d 2030  rsion.minor == 0
-0001abf0: 0a20 2020 2020 2020 2029 3a0a 2020 2020  .        ):.    
-0001ac00: 2020 2020 2020 2020 6c6f 6767 6572 2e77          logger.w
-0001ac10: 6172 6e69 6e67 280a 2020 2020 2020 2020  arning(.        
-0001ac20: 2020 2020 2020 2020 2253 6572 7665 7220          "Server 
-0001ac30: 6f72 2063 6c69 656e 7420 7665 7273 696f  or client versio
-0001ac40: 6e20 6973 2075 6e73 7461 626c 652e 2041  n is unstable. A
-0001ac50: 7373 756d 696e 6720 636f 6d70 6174 6962  ssuming compatib
-0001ac60: 6c65 222c 0a20 2020 2020 2020 2020 2020  le",.           
-0001ac70: 2020 2020 2073 6572 7665 725f 7665 7273       server_vers
-0001ac80: 696f 6e3d 7365 7276 6572 5f76 6572 7369  ion=server_versi
-0001ac90: 6f6e 2c0a 2020 2020 2020 2020 2020 2020  on,.            
-0001aca0: 2020 2020 636c 6965 6e74 5f76 6572 7369      client_versi
-0001acb0: 6f6e 3d63 6c69 656e 745f 7665 7273 696f  on=client_versio
-0001acc0: 6e2c 0a20 2020 2020 2020 2020 2020 2029  n,.            )
-0001acd0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-0001ace0: 7572 6e20 5472 7565 0a20 2020 2020 2020  urn True.       
-0001acf0: 2069 6620 7061 7273 6564 5f73 6572 7665   if parsed_serve
-0001ad00: 725f 7665 7273 696f 6e2e 6d61 6a6f 7220  r_version.major 
-0001ad10: 213d 2070 6172 7365 645f 636c 6965 6e74  != parsed_client
-0001ad20: 5f76 6572 7369 6f6e 2e6d 616a 6f72 3a0a  _version.major:.
-0001ad30: 2020 2020 2020 2020 2020 2020 6c6f 6767              logg
-0001ad40: 6572 2e77 6172 6e69 6e67 280a 2020 2020  er.warning(.    
-0001ad50: 2020 2020 2020 2020 2020 2020 2253 6572              "Ser
-0001ad60: 7665 7220 616e 6420 636c 6965 6e74 2076  ver and client v
-0001ad70: 6572 7369 6f6e 7320 6172 6520 696e 636f  ersions are inco
-0001ad80: 6d70 6174 6962 6c65 222c 0a20 2020 2020  mpatible",.     
-0001ad90: 2020 2020 2020 2020 2020 2070 6172 7365             parse
-0001ada0: 645f 7365 7276 6572 5f76 6572 7369 6f6e  d_server_version
-0001adb0: 3d70 6172 7365 645f 7365 7276 6572 5f76  =parsed_server_v
-0001adc0: 6572 7369 6f6e 2c0a 2020 2020 2020 2020  ersion,.        
-0001add0: 2020 2020 2020 2020 7061 7273 6564 5f63          parsed_c
-0001ade0: 6c69 656e 745f 7665 7273 696f 6e3d 7061  lient_version=pa
-0001adf0: 7273 6564 5f63 6c69 656e 745f 7665 7273  rsed_client_vers
-0001ae00: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
-0001ae10: 2029 0a20 2020 2020 2020 2020 2020 2072   ).            r
-0001ae20: 6574 7572 6e20 4661 6c73 650a 2020 2020  eturn False.    
-0001ae30: 2020 2020 6966 2070 6172 7365 645f 7365      if parsed_se
-0001ae40: 7276 6572 5f76 6572 7369 6f6e 2e6d 696e  rver_version.min
-0001ae50: 6f72 203e 2070 6172 7365 645f 636c 6965  or > parsed_clie
-0001ae60: 6e74 5f76 6572 7369 6f6e 2e6d 696e 6f72  nt_version.minor
-0001ae70: 202b 2032 3a0a 2020 2020 2020 2020 2020   + 2:.          
-0001ae80: 2020 6c6f 6767 6572 2e69 6e66 6f28 0a20    logger.info(. 
-0001ae90: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0001aea0: 4261 636b 7761 7264 7320 636f 6d70 6174  Backwards compat
-0001aeb0: 6962 696c 6974 7920 6d69 6768 7420 6e6f  ibility might no
-0001aec0: 7420 6170 706c 7920 6265 7477 6565 6e20  t apply between 
-0001aed0: 7468 6520 7365 7276 6572 2061 6e64 2063  the server and c
-0001aee0: 6c69 656e 7420 7665 7273 696f 6e22 2c0a  lient version",.
-0001aef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001af00: 7061 7273 6564 5f73 6572 7665 725f 7665  parsed_server_ve
-0001af10: 7273 696f 6e3d 7061 7273 6564 5f73 6572  rsion=parsed_ser
-0001af20: 7665 725f 7665 7273 696f 6e2c 0a20 2020  ver_version,.   
-0001af30: 2020 2020 2020 2020 2020 2020 2070 6172               par
-0001af40: 7365 645f 636c 6965 6e74 5f76 6572 7369  sed_client_versi
-0001af50: 6f6e 3d70 6172 7365 645f 636c 6965 6e74  on=parsed_client
-0001af60: 5f76 6572 7369 6f6e 2c0a 2020 2020 2020  _version,.      
-0001af70: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0001af80: 2020 2020 7265 7475 726e 2046 616c 7365      return False
-0001af90: 0a20 2020 2020 2020 2069 6620 7061 7273  .        if pars
-0001afa0: 6564 5f63 6c69 656e 745f 7665 7273 696f  ed_client_versio
-0001afb0: 6e2e 6d69 6e6f 7220 3e20 7061 7273 6564  n.minor > parsed
-0001afc0: 5f73 6572 7665 725f 7665 7273 696f 6e2e  _server_version.
-0001afd0: 6d69 6e6f 723a 0a20 2020 2020 2020 2020  minor:.         
-0001afe0: 2020 206c 6f67 6765 722e 7761 726e 696e     logger.warnin
-0001aff0: 6728 0a20 2020 2020 2020 2020 2020 2020  g(.             
-0001b000: 2020 2022 436c 6965 6e74 2076 6572 7369     "Client versi
-0001b010: 6f6e 2077 6974 6820 6869 6768 6572 2076  on with higher v
-0001b020: 6572 7369 6f6e 2074 6861 6e20 7365 7276  ersion than serv
-0001b030: 6572 2076 6572 7369 6f6e 2069 736e 2774  er version isn't
-0001b040: 2073 7570 706f 7274 6564 2c22 0a20 2020   supported,".   
-0001b050: 2020 2020 2020 2020 2020 2020 2022 2061               " a
-0001b060: 6c69 676e 2079 6f75 7220 636c 6965 6e74  lign your client
-0001b070: 2074 6f20 7468 6520 7365 7276 6572 2076   to the server v
-0001b080: 6572 7369 6f6e 222c 0a20 2020 2020 2020  ersion",.       
-0001b090: 2020 2020 2020 2020 2070 6172 7365 645f           parsed_
-0001b0a0: 7365 7276 6572 5f76 6572 7369 6f6e 3d70  server_version=p
-0001b0b0: 6172 7365 645f 7365 7276 6572 5f76 6572  arsed_server_ver
-0001b0c0: 7369 6f6e 2c0a 2020 2020 2020 2020 2020  sion,.          
-0001b0d0: 2020 2020 2020 7061 7273 6564 5f63 6c69        parsed_cli
-0001b0e0: 656e 745f 7665 7273 696f 6e3d 7061 7273  ent_version=pars
-0001b0f0: 6564 5f63 6c69 656e 745f 7665 7273 696f  ed_client_versio
-0001b100: 6e2c 0a20 2020 2020 2020 2020 2020 2029  n,.            )
-0001b110: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-0001b120: 7572 6e20 4661 6c73 650a 2020 2020 2020  urn False.      
-0001b130: 2020 6966 2070 6172 7365 645f 7365 7276    if parsed_serv
-0001b140: 6572 5f76 6572 7369 6f6e 2e6d 696e 6f72  er_version.minor
-0001b150: 2021 3d20 7061 7273 6564 5f63 6c69 656e   != parsed_clien
-0001b160: 745f 7665 7273 696f 6e2e 6d69 6e6f 723a  t_version.minor:
-0001b170: 0a20 2020 2020 2020 2020 2020 206c 6f67  .            log
-0001b180: 6765 722e 696e 666f 280a 2020 2020 2020  ger.info(.      
-0001b190: 2020 2020 2020 2020 2020 2253 6572 7665            "Serve
-0001b1a0: 7220 616e 6420 636c 6965 6e74 2076 6572  r and client ver
-0001b1b0: 7369 6f6e 7320 6172 6520 6e6f 7420 7468  sions are not th
-0001b1c0: 6520 7361 6d65 2062 7574 2063 6f6d 7061  e same but compa
-0001b1d0: 7469 626c 6522 2c0a 2020 2020 2020 2020  tible",.        
-0001b1e0: 2020 2020 2020 2020 7061 7273 6564 5f73          parsed_s
-0001b1f0: 6572 7665 725f 7665 7273 696f 6e3d 7061  erver_version=pa
-0001b200: 7273 6564 5f73 6572 7665 725f 7665 7273  rsed_server_vers
-0001b210: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
-0001b220: 2020 2020 2070 6172 7365 645f 636c 6965       parsed_clie
-0001b230: 6e74 5f76 6572 7369 6f6e 3d70 6172 7365  nt_version=parse
-0001b240: 645f 636c 6965 6e74 5f76 6572 7369 6f6e  d_client_version
-0001b250: 2c0a 2020 2020 2020 2020 2020 2020 290a  ,.            ).
-0001b260: 2020 2020 2020 2020 7265 7475 726e 2054          return T
-0001b270: 7275 650a 0a20 2020 2064 6566 2063 7265  rue..    def cre
-0001b280: 6174 655f 6d6f 6465 6c5f 656e 6470 6f69  ate_model_endpoi
-0001b290: 6e74 280a 2020 2020 2020 2020 7365 6c66  nt(.        self
-0001b2a0: 2c0a 2020 2020 2020 2020 7072 6f6a 6563  ,.        projec
-0001b2b0: 743a 2073 7472 2c0a 2020 2020 2020 2020  t: str,.        
-0001b2c0: 656e 6470 6f69 6e74 5f69 643a 2073 7472  endpoint_id: str
-0001b2d0: 2c0a 2020 2020 2020 2020 6d6f 6465 6c5f  ,.        model_
-0001b2e0: 656e 6470 6f69 6e74 3a20 556e 696f 6e5b  endpoint: Union[
-0001b2f0: 0a20 2020 2020 2020 2020 2020 206d 6c72  .            mlr
-0001b300: 756e 2e6d 6f64 656c 5f6d 6f6e 6974 6f72  un.model_monitor
-0001b310: 696e 672e 6d6f 6465 6c5f 656e 6470 6f69  ing.model_endpoi
-0001b320: 6e74 2e4d 6f64 656c 456e 6470 6f69 6e74  nt.ModelEndpoint
-0001b330: 2c20 6469 6374 0a20 2020 2020 2020 205d  , dict.        ]
-0001b340: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
-0001b350: 2022 2222 0a20 2020 2020 2020 2043 7265   """.        Cre
-0001b360: 6174 6573 2061 2044 4220 7265 636f 7264  ates a DB record
-0001b370: 2077 6974 6820 7468 6520 6769 7665 6e20   with the given 
-0001b380: 6d6f 6465 6c5f 656e 6470 6f69 6e74 2072  model_endpoint r
-0001b390: 6563 6f72 642e 0a0a 2020 2020 2020 2020  ecord...        
-0001b3a0: 3a70 6172 616d 2070 726f 6a65 6374 3a20  :param project: 
-0001b3b0: 5468 6520 6e61 6d65 206f 6620 7468 6520  The name of the 
-0001b3c0: 7072 6f6a 6563 742e 0a20 2020 2020 2020  project..       
-0001b3d0: 203a 7061 7261 6d20 656e 6470 6f69 6e74   :param endpoint
-0001b3e0: 5f69 643a 2054 6865 2069 6420 6f66 2074  _id: The id of t
-0001b3f0: 6865 2065 6e64 706f 696e 742e 0a20 2020  he endpoint..   
-0001b400: 2020 2020 203a 7061 7261 6d20 6d6f 6465       :param mode
-0001b410: 6c5f 656e 6470 6f69 6e74 3a20 416e 206f  l_endpoint: An o
-0001b420: 626a 6563 7420 7265 7072 6573 656e 7469  bject representi
-0001b430: 6e67 2074 6865 206d 6f64 656c 2065 6e64  ng the model end
-0001b440: 706f 696e 742e 0a20 2020 2020 2020 2022  point..        "
-0001b450: 2222 0a0a 2020 2020 2020 2020 6966 2069  ""..        if i
-0001b460: 7369 6e73 7461 6e63 6528 0a20 2020 2020  sinstance(.     
-0001b470: 2020 2020 2020 206d 6f64 656c 5f65 6e64         model_end
-0001b480: 706f 696e 742c 206d 6c72 756e 2e6d 6f64  point, mlrun.mod
-0001b490: 656c 5f6d 6f6e 6974 6f72 696e 672e 6d6f  el_monitoring.mo
-0001b4a0: 6465 6c5f 656e 6470 6f69 6e74 2e4d 6f64  del_endpoint.Mod
-0001b4b0: 656c 456e 6470 6f69 6e74 0a20 2020 2020  elEndpoint.     
-0001b4c0: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
-0001b4d0: 2020 6d6f 6465 6c5f 656e 6470 6f69 6e74    model_endpoint
-0001b4e0: 203d 206d 6f64 656c 5f65 6e64 706f 696e   = model_endpoin
-0001b4f0: 742e 746f 5f64 6963 7428 290a 0a20 2020  t.to_dict()..   
-0001b500: 2020 2020 2070 6174 6820 3d20 6622 7072       path = f"pr
-0001b510: 6f6a 6563 7473 2f7b 7072 6f6a 6563 747d  ojects/{project}
-0001b520: 2f6d 6f64 656c 2d65 6e64 706f 696e 7473  /model-endpoints
-0001b530: 2f7b 656e 6470 6f69 6e74 5f69 647d 220a  /{endpoint_id}".
-0001b540: 2020 2020 2020 2020 7365 6c66 2e61 7069          self.api
-0001b550: 5f63 616c 6c28 0a20 2020 2020 2020 2020  _call(.         
-0001b560: 2020 206d 6574 686f 643d 2250 4f53 5422     method="POST"
-0001b570: 2c0a 2020 2020 2020 2020 2020 2020 7061  ,.            pa
-0001b580: 7468 3d70 6174 682c 0a20 2020 2020 2020  th=path,.       
-0001b590: 2020 2020 2062 6f64 793d 6469 6374 5f74       body=dict_t
-0001b5a0: 6f5f 6a73 6f6e 286d 6f64 656c 5f65 6e64  o_json(model_end
-0001b5b0: 706f 696e 7429 2c0a 2020 2020 2020 2020  point),.        
-0001b5c0: 290a 0a20 2020 2064 6566 2064 656c 6574  )..    def delet
-0001b5d0: 655f 6d6f 6465 6c5f 656e 6470 6f69 6e74  e_model_endpoint
-0001b5e0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-0001b5f0: 2020 2020 2020 2020 7072 6f6a 6563 743a          project:
-0001b600: 2073 7472 2c0a 2020 2020 2020 2020 656e   str,.        en
-0001b610: 6470 6f69 6e74 5f69 643a 2073 7472 2c0a  dpoint_id: str,.
-0001b620: 2020 2020 293a 0a20 2020 2020 2020 2022      ):.        "
-0001b630: 2222 0a20 2020 2020 2020 2044 656c 6574  "".        Delet
-0001b640: 6573 2074 6865 2044 4220 7265 636f 7264  es the DB record
-0001b650: 206f 6620 6120 6769 7665 6e20 6d6f 6465   of a given mode
-0001b660: 6c20 656e 6470 6f69 6e74 2c20 7072 6f6a  l endpoint, proj
-0001b670: 6563 7420 616e 6420 656e 6470 6f69 6e74  ect and endpoint
-0001b680: 5f69 6420 6172 6520 7573 6564 2066 6f72  _id are used for
-0001b690: 206c 6f6f 6b75 700a 0a20 2020 2020 2020   lookup..       
-0001b6a0: 203a 7061 7261 6d20 7072 6f6a 6563 743a   :param project:
-0001b6b0: 2054 6865 206e 616d 6520 6f66 2074 6865   The name of the
-0001b6c0: 2070 726f 6a65 6374 0a20 2020 2020 2020   project.       
-0001b6d0: 203a 7061 7261 6d20 656e 6470 6f69 6e74   :param endpoint
-0001b6e0: 5f69 643a 2054 6865 2069 6420 6f66 2074  _id: The id of t
-0001b6f0: 6865 2065 6e64 706f 696e 740a 2020 2020  he endpoint.    
-0001b700: 2020 2020 2222 220a 0a20 2020 2020 2020      """..       
-0001b710: 2070 6174 6820 3d20 6622 7072 6f6a 6563   path = f"projec
-0001b720: 7473 2f7b 7072 6f6a 6563 747d 2f6d 6f64  ts/{project}/mod
-0001b730: 656c 2d65 6e64 706f 696e 7473 2f7b 656e  el-endpoints/{en
-0001b740: 6470 6f69 6e74 5f69 647d 220a 2020 2020  dpoint_id}".    
-0001b750: 2020 2020 7365 6c66 2e61 7069 5f63 616c      self.api_cal
-0001b760: 6c28 0a20 2020 2020 2020 2020 2020 206d  l(.            m
-0001b770: 6574 686f 643d 2244 454c 4554 4522 2c0a  ethod="DELETE",.
-0001b780: 2020 2020 2020 2020 2020 2020 7061 7468              path
-0001b790: 3d70 6174 682c 0a20 2020 2020 2020 2029  =path,.        )
-0001b7a0: 0a0a 2020 2020 6465 6620 6c69 7374 5f6d  ..    def list_m
-0001b7b0: 6f64 656c 5f65 6e64 706f 696e 7473 280a  odel_endpoints(.
-0001b7c0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-0001b7d0: 2020 2020 2020 7072 6f6a 6563 743a 2073        project: s
-0001b7e0: 7472 2c0a 2020 2020 2020 2020 6d6f 6465  tr,.        mode
-0001b7f0: 6c3a 204f 7074 696f 6e61 6c5b 7374 725d  l: Optional[str]
-0001b800: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0001b810: 2066 756e 6374 696f 6e3a 204f 7074 696f   function: Optio
-0001b820: 6e61 6c5b 7374 725d 203d 204e 6f6e 652c  nal[str] = None,
-0001b830: 0a20 2020 2020 2020 206c 6162 656c 733a  .        labels:
-0001b840: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
-0001b850: 652c 0a20 2020 2020 2020 2073 7461 7274  e,.        start
-0001b860: 3a20 7374 7220 3d20 226e 6f77 2d31 6822  : str = "now-1h"
-0001b870: 2c0a 2020 2020 2020 2020 656e 643a 2073  ,.        end: s
-0001b880: 7472 203d 2022 6e6f 7722 2c0a 2020 2020  tr = "now",.    
-0001b890: 2020 2020 6d65 7472 6963 733a 204f 7074      metrics: Opt
-0001b8a0: 696f 6e61 6c5b 4c69 7374 5b73 7472 5d5d  ional[List[str]]
-0001b8b0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0001b8c0: 2074 6f70 5f6c 6576 656c 3a20 626f 6f6c   top_level: bool
-0001b8d0: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-0001b8e0: 2020 7569 6473 3a20 4f70 7469 6f6e 616c    uids: Optional
-0001b8f0: 5b4c 6973 745b 7374 725d 5d20 3d20 4e6f  [List[str]] = No
-0001b900: 6e65 2c0a 2020 2020 2920 2d3e 204c 6973  ne,.    ) -> Lis
-0001b910: 745b 6d6c 7275 6e2e 6d6f 6465 6c5f 6d6f  t[mlrun.model_mo
-0001b920: 6e69 746f 7269 6e67 2e6d 6f64 656c 5f65  nitoring.model_e
-0001b930: 6e64 706f 696e 742e 4d6f 6465 6c45 6e64  ndpoint.ModelEnd
-0001b940: 706f 696e 745d 3a0a 2020 2020 2020 2020  point]:.        
-0001b950: 2222 220a 2020 2020 2020 2020 5265 7475  """.        Retu
-0001b960: 726e 7320 6120 6c69 7374 206f 6620 604d  rns a list of `M
-0001b970: 6f64 656c 456e 6470 6f69 6e74 6020 6f62  odelEndpoint` ob
-0001b980: 6a65 6374 732e 2045 6163 6820 604d 6f64  jects. Each `Mod
-0001b990: 656c 456e 6470 6f69 6e74 6020 6f62 6a65  elEndpoint` obje
-0001b9a0: 6374 2072 6570 7265 7365 6e74 7320 7468  ct represents th
-0001b9b0: 6520 6375 7272 656e 7420 7374 6174 6520  e current state 
-0001b9c0: 6f66 2061 0a20 2020 2020 2020 206d 6f64  of a.        mod
-0001b9d0: 656c 2065 6e64 706f 696e 742e 2054 6869  el endpoint. Thi
-0001b9e0: 7320 6675 6e63 7469 6f6e 7320 7375 7070  s functions supp
-0001b9f0: 6f72 7473 2066 696c 7465 7269 6e67 2062  orts filtering b
-0001ba00: 7920 7468 6520 666f 6c6c 6f77 696e 6720  y the following 
-0001ba10: 7061 7261 6d65 7465 7273 3a0a 2020 2020  parameters:.    
-0001ba20: 2020 2020 3129 206d 6f64 656c 0a20 2020      1) model.   
-0001ba30: 2020 2020 2032 2920 6675 6e63 7469 6f6e       2) function
-0001ba40: 0a20 2020 2020 2020 2033 2920 6c61 6265  .        3) labe
-0001ba50: 6c73 0a20 2020 2020 2020 2034 2920 746f  ls.        4) to
-0001ba60: 7020 6c65 7665 6c0a 2020 2020 2020 2020  p level.        
-0001ba70: 3529 2075 6964 730a 2020 2020 2020 2020  5) uids.        
-0001ba80: 4279 2064 6566 6175 6c74 2c20 7768 656e  By default, when
-0001ba90: 206e 6f20 6669 6c74 6572 7320 6172 6520   no filters are 
-0001baa0: 6170 706c 6965 642c 2061 6c6c 2061 7661  applied, all ava
-0001bab0: 696c 6162 6c65 2065 6e64 706f 696e 7473  ilable endpoints
-0001bac0: 2066 6f72 2074 6865 2067 6976 656e 2070   for the given p
-0001bad0: 726f 6a65 6374 2077 696c 6c20 6265 206c  roject will be l
-0001bae0: 6973 7465 642e 0a0a 2020 2020 2020 2020  isted...        
-0001baf0: 496e 2061 6464 6974 696f 6e2c 2074 6869  In addition, thi
-0001bb00: 7320 6675 6e63 7469 6f6e 7320 7072 6f76  s functions prov
-0001bb10: 6964 6573 2061 2066 6163 6164 6520 666f  ides a facade fo
-0001bb20: 7220 6c69 7374 696e 6720 656e 6470 6f69  r listing endpoi
-0001bb30: 6e74 2072 656c 6174 6564 206d 6574 7269  nt related metri
-0001bb40: 6373 2e20 5468 6973 2066 6163 6164 6520  cs. This facade 
-0001bb50: 6973 2074 696d 652d 6261 7365 640a 2020  is time-based.  
-0001bb60: 2020 2020 2020 616e 6420 6465 7065 6e64        and depend
-0001bb70: 7320 6f6e 2074 6865 2027 7374 6172 7427  s on the 'start'
-0001bb80: 2061 6e64 2027 656e 6427 2070 6172 616d   and 'end' param
-0001bb90: 6574 6572 732e 2042 7920 6465 6661 756c  eters. By defaul
-0001bba0: 742c 2077 6865 6e20 7468 6520 6d65 7472  t, when the metr
-0001bbb0: 6963 7320 7061 7261 6d65 7465 7220 6973  ics parameter is
-0001bbc0: 204e 6f6e 652c 206e 6f20 6d65 7472 6963   None, no metric
-0001bbd0: 7320 6172 650a 2020 2020 2020 2020 6164  s are.        ad
-0001bbe0: 6465 6420 746f 2074 6865 206f 7574 7075  ded to the outpu
-0001bbf0: 7420 6f66 2074 6869 7320 6675 6e63 7469  t of this functi
-0001bc00: 6f6e 2e0a 0a20 2020 2020 2020 203a 7061  on...        :pa
-0001bc10: 7261 6d20 7072 6f6a 6563 743a 2054 6865  ram project: The
-0001bc20: 206e 616d 6520 6f66 2074 6865 2070 726f   name of the pro
-0001bc30: 6a65 6374 0a20 2020 2020 2020 203a 7061  ject.        :pa
-0001bc40: 7261 6d20 6d6f 6465 6c3a 2054 6865 206e  ram model: The n
-0001bc50: 616d 6520 6f66 2074 6865 206d 6f64 656c  ame of the model
-0001bc60: 2074 6f20 6669 6c74 6572 2062 790a 2020   to filter by.  
-0001bc70: 2020 2020 2020 3a70 6172 616d 2066 756e        :param fun
-0001bc80: 6374 696f 6e3a 2054 6865 206e 616d 6520  ction: The name 
-0001bc90: 6f66 2074 6865 2066 756e 6374 696f 6e20  of the function 
-0001bca0: 746f 2066 696c 7465 7220 6279 0a20 2020  to filter by.   
-0001bcb0: 2020 2020 203a 7061 7261 6d20 6c61 6265       :param labe
-0001bcc0: 6c73 3a20 4120 6c69 7374 206f 6620 6c61  ls: A list of la
-0001bcd0: 6265 6c73 2074 6f20 6669 6c74 6572 2062  bels to filter b
-0001bce0: 792e 204c 6162 656c 2066 696c 7465 7273  y. Label filters
-0001bcf0: 2077 6f72 6b20 6279 2065 6974 6865 7220   work by either 
-0001bd00: 6669 6c74 6572 696e 6720 6120 7370 6563  filtering a spec
-0001bd10: 6966 6963 2076 616c 7565 206f 6620 610a  ific value of a.
-0001bd20: 2020 2020 2020 2020 206c 6162 656c 2028           label (
-0001bd30: 692e 652e 206c 6973 7428 226b 6579 3d76  i.e. list("key=v
-0001bd40: 616c 7565 2229 2920 6f72 2062 7920 6c6f  alue")) or by lo
-0001bd50: 6f6b 696e 6720 666f 7220 7468 6520 6578  oking for the ex
-0001bd60: 6973 7465 6e63 6520 6f66 2061 2067 6976  istence of a giv
-0001bd70: 656e 206b 6579 2028 692e 652e 2022 6b65  en key (i.e. "ke
-0001bd80: 7922 290a 2020 2020 2020 2020 3a70 6172  y").        :par
-0001bd90: 616d 206d 6574 7269 6373 3a20 4120 6c69  am metrics: A li
-0001bda0: 7374 206f 6620 6d65 7472 6963 7320 746f  st of metrics to
-0001bdb0: 2072 6574 7572 6e20 666f 7220 6561 6368   return for each
-0001bdc0: 2065 6e64 706f 696e 742c 2072 6561 6420   endpoint, read 
-0001bdd0: 6d6f 7265 2069 6e20 2754 696d 654d 6574  more in 'TimeMet
-0001bde0: 7269 6327 0a20 2020 2020 2020 203a 7061  ric'.        :pa
-0001bdf0: 7261 6d20 7374 6172 743a 2054 6865 2073  ram start: The s
-0001be00: 7461 7274 2074 696d 6520 6f66 2074 6865  tart time of the
-0001be10: 206d 6574 7269 6373 2e20 4361 6e20 6265   metrics. Can be
-0001be20: 2072 6570 7265 7365 6e74 6564 2062 7920   represented by 
-0001be30: 6120 7374 7269 6e67 2063 6f6e 7461 696e  a string contain
-0001be40: 696e 6720 616e 2052 4643 2033 3333 390a  ing an RFC 3339.
+00016d50: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+00016d60: 7072 6f6a 6563 7473 2069 7320 6a75 7374  projects is just
+00016d70: 2061 206c 6973 7420 6f66 2073 7472 696e   a list of strin
+00016d80: 6773 0a20 2020 2020 2020 2020 2020 2072  gs.            r
+00016d90: 6574 7572 6e20 7265 7370 6f6e 7365 2e6a  eturn response.j
+00016da0: 736f 6e28 295b 2270 726f 6a65 6374 7322  son()["projects"
+00016db0: 5d0a 0a20 2020 2020 2020 2023 2066 6f72  ]..        # for
+00016dc0: 7761 7264 7320 636f 6d70 6174 6962 696c  wards compatibil
+00016dd0: 6974 7920 2d20 7765 2077 616e 7420 746f  ity - we want to
+00016de0: 2062 6520 6162 6c65 2074 6f20 6861 6e64   be able to hand
+00016df0: 6c65 206e 6577 2066 6f72 6d61 7473 2074  le new formats t
+00016e00: 6861 7420 6d69 6768 7420 6265 2061 6464  hat might be add
+00016e10: 6564 2069 6e20 7468 6520 6675 7475 7265  ed in the future
+00016e20: 0a20 2020 2020 2020 2023 2069 6620 666f  .        # if fo
+00016e30: 726d 6174 2069 7320 6e6f 7420 6b6e 6f77  rmat is not know
+00016e40: 6e20 746f 2074 6865 2061 7069 2c20 6974  n to the api, it
+00016e50: 2069 7320 7570 2074 6f20 7468 6520 7365   is up to the se
+00016e60: 7276 6572 2074 6f20 7265 7475 726e 2065  rver to return e
+00016e70: 6974 6865 7220 616e 2065 7272 6f72 206f  ither an error o
+00016e80: 7220 6120 6465 6661 756c 7420 666f 726d  r a default form
+00016e90: 6174 0a20 2020 2020 2020 2072 6574 7572  at.        retur
+00016ea0: 6e20 5b0a 2020 2020 2020 2020 2020 2020  n [.            
+00016eb0: 6d6c 7275 6e2e 7072 6f6a 6563 7473 2e4d  mlrun.projects.M
+00016ec0: 6c72 756e 5072 6f6a 6563 742e 6672 6f6d  lrunProject.from
+00016ed0: 5f64 6963 7428 7072 6f6a 6563 745f 6469  _dict(project_di
+00016ee0: 6374 290a 2020 2020 2020 2020 2020 2020  ct).            
+00016ef0: 666f 7220 7072 6f6a 6563 745f 6469 6374  for project_dict
+00016f00: 2069 6e20 7265 7370 6f6e 7365 2e6a 736f   in response.jso
+00016f10: 6e28 295b 2270 726f 6a65 6374 7322 5d0a  n()["projects"].
+00016f20: 2020 2020 2020 2020 5d0a 0a20 2020 2064          ]..    d
+00016f30: 6566 2067 6574 5f70 726f 6a65 6374 2873  ef get_project(s
+00016f40: 656c 662c 206e 616d 653a 2073 7472 2920  elf, name: str) 
+00016f50: 2d3e 206d 6c72 756e 2e70 726f 6a65 6374  -> mlrun.project
+00016f60: 732e 4d6c 7275 6e50 726f 6a65 6374 3a0a  s.MlrunProject:.
+00016f70: 2020 2020 2020 2020 2222 2247 6574 2064          """Get d
+00016f80: 6574 6169 6c73 2066 6f72 2061 2073 7065  etails for a spe
+00016f90: 6369 6669 6320 7072 6f6a 6563 742e 2222  cific project.""
+00016fa0: 220a 0a20 2020 2020 2020 2069 6620 6e6f  "..        if no
+00016fb0: 7420 6e61 6d65 3a0a 2020 2020 2020 2020  t name:.        
+00016fc0: 2020 2020 7261 6973 6520 4d4c 5275 6e49      raise MLRunI
+00016fd0: 6e76 616c 6964 4172 6775 6d65 6e74 4572  nvalidArgumentEr
+00016fe0: 726f 7228 224e 616d 6520 6d75 7374 2062  ror("Name must b
+00016ff0: 6520 7072 6f76 6964 6564 2229 0a0a 2020  e provided")..  
+00017000: 2020 2020 2020 7061 7468 203d 2066 2270        path = f"p
+00017010: 726f 6a65 6374 732f 7b6e 616d 657d 220a  rojects/{name}".
+00017020: 2020 2020 2020 2020 6572 726f 725f 6d65          error_me
+00017030: 7373 6167 6520 3d20 6622 4661 696c 6564  ssage = f"Failed
+00017040: 2072 6574 7269 6576 696e 6720 7072 6f6a   retrieving proj
+00017050: 6563 7420 7b6e 616d 657d 220a 2020 2020  ect {name}".    
+00017060: 2020 2020 7265 7370 6f6e 7365 203d 2073      response = s
+00017070: 656c 662e 6170 695f 6361 6c6c 2822 4745  elf.api_call("GE
+00017080: 5422 2c20 7061 7468 2c20 6572 726f 725f  T", path, error_
+00017090: 6d65 7373 6167 6529 0a20 2020 2020 2020  message).       
+000170a0: 2072 6574 7572 6e20 6d6c 7275 6e2e 7072   return mlrun.pr
+000170b0: 6f6a 6563 7473 2e4d 6c72 756e 5072 6f6a  ojects.MlrunProj
+000170c0: 6563 742e 6672 6f6d 5f64 6963 7428 7265  ect.from_dict(re
+000170d0: 7370 6f6e 7365 2e6a 736f 6e28 2929 0a0a  sponse.json())..
+000170e0: 2020 2020 6465 6620 6465 6c65 7465 5f70      def delete_p
+000170f0: 726f 6a65 6374 280a 2020 2020 2020 2020  roject(.        
+00017100: 7365 6c66 2c0a 2020 2020 2020 2020 6e61  self,.        na
+00017110: 6d65 3a20 7374 722c 0a20 2020 2020 2020  me: str,.       
+00017120: 2064 656c 6574 696f 6e5f 7374 7261 7465   deletion_strate
+00017130: 6779 3a20 556e 696f 6e5b 0a20 2020 2020  gy: Union[.     
+00017140: 2020 2020 2020 2073 7472 2c20 6d6c 7275         str, mlru
+00017150: 6e2e 636f 6d6d 6f6e 2e73 6368 656d 6173  n.common.schemas
+00017160: 2e44 656c 6574 696f 6e53 7472 6174 6567  .DeletionStrateg
+00017170: 790a 2020 2020 2020 2020 5d20 3d20 6d6c  y.        ] = ml
+00017180: 7275 6e2e 636f 6d6d 6f6e 2e73 6368 656d  run.common.schem
+00017190: 6173 2e44 656c 6574 696f 6e53 7472 6174  as.DeletionStrat
+000171a0: 6567 792e 6465 6661 756c 7428 292c 0a20  egy.default(),. 
+000171b0: 2020 2029 3a0a 2020 2020 2020 2020 2222     ):.        ""
+000171c0: 2244 656c 6574 6520 6120 7072 6f6a 6563  "Delete a projec
+000171d0: 742e 0a0a 2020 2020 2020 2020 3a70 6172  t...        :par
+000171e0: 616d 206e 616d 653a 204e 616d 6520 6f66  am name: Name of
+000171f0: 2074 6865 2070 726f 6a65 6374 2074 6f20   the project to 
+00017200: 6465 6c65 7465 2e0a 2020 2020 2020 2020  delete..        
+00017210: 3a70 6172 616d 2064 656c 6574 696f 6e5f  :param deletion_
+00017220: 7374 7261 7465 6779 3a20 486f 7720 746f  strategy: How to
+00017230: 2074 7265 6174 2063 6869 6c64 206f 626a   treat child obj
+00017240: 6563 7473 206f 6620 7468 6520 7072 6f6a  ects of the proj
+00017250: 6563 742e 2050 6f73 7369 626c 6520 7661  ect. Possible va
+00017260: 6c75 6573 2061 7265 3a0a 0a20 2020 2020  lues are:..     
+00017270: 2020 2020 2020 202d 2060 6072 6573 7472         - ``restr
+00017280: 6963 7460 6020 2864 6566 6175 6c74 2920  ict`` (default) 
+00017290: 2d20 5072 6f6a 6563 7420 6d75 7374 206e  - Project must n
+000172a0: 6f74 2068 6176 6520 616e 7920 6368 696c  ot have any chil
+000172b0: 6420 6f62 6a65 6374 7320 7768 656e 2064  d objects when d
+000172c0: 656c 6574 6564 2e20 4966 2075 7369 6e67  eleted. If using
+000172d0: 2074 6869 7320 6d6f 6465 2077 6869 6c65   this mode while
+000172e0: 0a20 2020 2020 2020 2020 2020 2020 2063  .              c
+000172f0: 6869 6c64 206f 626a 6563 7473 2065 7869  hild objects exi
+00017300: 7374 2c20 7468 6520 6f70 6572 6174 696f  st, the operatio
+00017310: 6e20 7769 6c6c 2066 6169 6c2e 0a20 2020  n will fail..   
+00017320: 2020 2020 2020 2020 202d 2060 6063 6173           - ``cas
+00017330: 6361 6465 6060 202d 2041 7574 6f6d 6174  cade`` - Automat
+00017340: 6963 616c 6c79 2064 656c 6574 6520 616c  ically delete al
+00017350: 6c20 6368 696c 6420 6f62 6a65 6374 7320  l child objects 
+00017360: 7768 656e 2064 656c 6574 696e 6720 7468  when deleting th
+00017370: 6520 7072 6f6a 6563 742e 0a20 2020 2020  e project..     
+00017380: 2020 2022 2222 0a0a 2020 2020 2020 2020     """..        
+00017390: 7061 7468 203d 2066 2270 726f 6a65 6374  path = f"project
+000173a0: 732f 7b6e 616d 657d 220a 2020 2020 2020  s/{name}".      
+000173b0: 2020 6865 6164 6572 7320 3d20 7b0a 2020    headers = {.  
+000173c0: 2020 2020 2020 2020 2020 6d6c 7275 6e2e            mlrun.
+000173d0: 636f 6d6d 6f6e 2e73 6368 656d 6173 2e48  common.schemas.H
+000173e0: 6561 6465 724e 616d 6573 2e64 656c 6574  eaderNames.delet
+000173f0: 696f 6e5f 7374 7261 7465 6779 3a20 6465  ion_strategy: de
+00017400: 6c65 7469 6f6e 5f73 7472 6174 6567 790a  letion_strategy.
+00017410: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+00017420: 2020 6572 726f 725f 6d65 7373 6167 6520    error_message 
+00017430: 3d20 6622 4661 696c 6564 2064 656c 6574  = f"Failed delet
+00017440: 696e 6720 7072 6f6a 6563 7420 7b6e 616d  ing project {nam
+00017450: 657d 220a 2020 2020 2020 2020 7265 7370  e}".        resp
+00017460: 6f6e 7365 203d 2073 656c 662e 6170 695f  onse = self.api_
+00017470: 6361 6c6c 2822 4445 4c45 5445 222c 2070  call("DELETE", p
+00017480: 6174 682c 2065 7272 6f72 5f6d 6573 7361  ath, error_messa
+00017490: 6765 2c20 6865 6164 6572 733d 6865 6164  ge, headers=head
+000174a0: 6572 7329 0a20 2020 2020 2020 2069 6620  ers).        if 
+000174b0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+000174c0: 636f 6465 203d 3d20 6874 7470 2e48 5454  code == http.HTT
+000174d0: 5053 7461 7475 732e 4143 4345 5054 4544  PStatus.ACCEPTED
+000174e0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000174f0: 7475 726e 2073 656c 662e 5f77 6169 745f  turn self._wait_
+00017500: 666f 725f 7072 6f6a 6563 745f 746f 5f62  for_project_to_b
+00017510: 655f 6465 6c65 7465 6428 6e61 6d65 290a  e_deleted(name).
+00017520: 0a20 2020 2064 6566 2073 746f 7265 5f70  .    def store_p
+00017530: 726f 6a65 6374 280a 2020 2020 2020 2020  roject(.        
+00017540: 7365 6c66 2c0a 2020 2020 2020 2020 6e61  self,.        na
+00017550: 6d65 3a20 7374 722c 0a20 2020 2020 2020  me: str,.       
+00017560: 2070 726f 6a65 6374 3a20 556e 696f 6e5b   project: Union[
+00017570: 6469 6374 2c20 6d6c 7275 6e2e 7072 6f6a  dict, mlrun.proj
+00017580: 6563 7473 2e4d 6c72 756e 5072 6f6a 6563  ects.MlrunProjec
+00017590: 742c 206d 6c72 756e 2e63 6f6d 6d6f 6e2e  t, mlrun.common.
+000175a0: 7363 6865 6d61 732e 5072 6f6a 6563 745d  schemas.Project]
+000175b0: 2c0a 2020 2020 2920 2d3e 206d 6c72 756e  ,.    ) -> mlrun
+000175c0: 2e70 726f 6a65 6374 732e 4d6c 7275 6e50  .projects.MlrunP
+000175d0: 726f 6a65 6374 3a0a 2020 2020 2020 2020  roject:.        
+000175e0: 2222 2253 746f 7265 2061 2070 726f 6a65  """Store a proje
+000175f0: 6374 2069 6e20 7468 6520 4442 2e20 5468  ct in the DB. Th
+00017600: 6973 206f 7065 7261 7469 6f6e 2077 696c  is operation wil
+00017610: 6c20 6f76 6572 7772 6974 6520 6578 6973  l overwrite exis
+00017620: 7469 6e67 2070 726f 6a65 6374 206f 6620  ting project of 
+00017630: 7468 6520 7361 6d65 206e 616d 6520 6966  the same name if
+00017640: 2065 7869 7374 732e 2222 220a 0a20 2020   exists."""..   
+00017650: 2020 2020 2070 6174 6820 3d20 6622 7072       path = f"pr
+00017660: 6f6a 6563 7473 2f7b 6e61 6d65 7d22 0a20  ojects/{name}". 
+00017670: 2020 2020 2020 2065 7272 6f72 5f6d 6573         error_mes
+00017680: 7361 6765 203d 2066 2246 6169 6c65 6420  sage = f"Failed 
+00017690: 7374 6f72 696e 6720 7072 6f6a 6563 7420  storing project 
+000176a0: 7b6e 616d 657d 220a 2020 2020 2020 2020  {name}".        
+000176b0: 6966 2069 7369 6e73 7461 6e63 6528 7072  if isinstance(pr
+000176c0: 6f6a 6563 742c 206d 6c72 756e 2e63 6f6d  oject, mlrun.com
+000176d0: 6d6f 6e2e 7363 6865 6d61 732e 5072 6f6a  mon.schemas.Proj
+000176e0: 6563 7429 3a0a 2020 2020 2020 2020 2020  ect):.          
+000176f0: 2020 7072 6f6a 6563 7420 3d20 7072 6f6a    project = proj
+00017700: 6563 742e 6469 6374 2829 0a20 2020 2020  ect.dict().     
+00017710: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
+00017720: 6365 2870 726f 6a65 6374 2c20 6d6c 7275  ce(project, mlru
+00017730: 6e2e 7072 6f6a 6563 7473 2e4d 6c72 756e  n.projects.Mlrun
+00017740: 5072 6f6a 6563 7429 3a0a 2020 2020 2020  Project):.      
+00017750: 2020 2020 2020 7072 6f6a 6563 7420 3d20        project = 
+00017760: 7072 6f6a 6563 742e 746f 5f64 6963 7428  project.to_dict(
+00017770: 290a 2020 2020 2020 2020 7265 7370 6f6e  ).        respon
+00017780: 7365 203d 2073 656c 662e 6170 695f 6361  se = self.api_ca
+00017790: 6c6c 280a 2020 2020 2020 2020 2020 2020  ll(.            
+000177a0: 2250 5554 222c 0a20 2020 2020 2020 2020  "PUT",.         
+000177b0: 2020 2070 6174 682c 0a20 2020 2020 2020     path,.       
+000177c0: 2020 2020 2065 7272 6f72 5f6d 6573 7361       error_messa
+000177d0: 6765 2c0a 2020 2020 2020 2020 2020 2020  ge,.            
+000177e0: 626f 6479 3d64 6963 745f 746f 5f6a 736f  body=dict_to_jso
+000177f0: 6e28 7072 6f6a 6563 7429 2c0a 2020 2020  n(project),.    
+00017800: 2020 2020 290a 2020 2020 2020 2020 6966      ).        if
+00017810: 2072 6573 706f 6e73 652e 7374 6174 7573   response.status
+00017820: 5f63 6f64 6520 3d3d 2068 7474 702e 4854  _code == http.HT
+00017830: 5450 5374 6174 7573 2e41 4343 4550 5445  TPStatus.ACCEPTE
+00017840: 443a 0a20 2020 2020 2020 2020 2020 2072  D:.            r
+00017850: 6574 7572 6e20 7365 6c66 2e5f 7761 6974  eturn self._wait
+00017860: 5f66 6f72 5f70 726f 6a65 6374 5f74 6f5f  _for_project_to_
+00017870: 7265 6163 685f 7465 726d 696e 616c 5f73  reach_terminal_s
+00017880: 7461 7465 286e 616d 6529 0a20 2020 2020  tate(name).     
+00017890: 2020 2072 6574 7572 6e20 6d6c 7275 6e2e     return mlrun.
+000178a0: 7072 6f6a 6563 7473 2e4d 6c72 756e 5072  projects.MlrunPr
+000178b0: 6f6a 6563 742e 6672 6f6d 5f64 6963 7428  oject.from_dict(
+000178c0: 7265 7370 6f6e 7365 2e6a 736f 6e28 2929  response.json())
+000178d0: 0a0a 2020 2020 6465 6620 7061 7463 685f  ..    def patch_
+000178e0: 7072 6f6a 6563 7428 0a20 2020 2020 2020  project(.       
+000178f0: 2073 656c 662c 0a20 2020 2020 2020 206e   self,.        n
+00017900: 616d 653a 2073 7472 2c0a 2020 2020 2020  ame: str,.      
+00017910: 2020 7072 6f6a 6563 743a 2064 6963 742c    project: dict,
+00017920: 0a20 2020 2020 2020 2070 6174 6368 5f6d  .        patch_m
+00017930: 6f64 653a 2055 6e69 6f6e 5b0a 2020 2020  ode: Union[.    
+00017940: 2020 2020 2020 2020 7374 722c 206d 6c72          str, mlr
+00017950: 756e 2e63 6f6d 6d6f 6e2e 7363 6865 6d61  un.common.schema
+00017960: 732e 5061 7463 684d 6f64 650a 2020 2020  s.PatchMode.    
+00017970: 2020 2020 5d20 3d20 6d6c 7275 6e2e 636f      ] = mlrun.co
+00017980: 6d6d 6f6e 2e73 6368 656d 6173 2e50 6174  mmon.schemas.Pat
+00017990: 6368 4d6f 6465 2e72 6570 6c61 6365 2c0a  chMode.replace,.
+000179a0: 2020 2020 2920 2d3e 206d 6c72 756e 2e70      ) -> mlrun.p
+000179b0: 726f 6a65 6374 732e 4d6c 7275 6e50 726f  rojects.MlrunPro
+000179c0: 6a65 6374 3a0a 2020 2020 2020 2020 2222  ject:.        ""
+000179d0: 2250 6174 6368 2061 6e20 6578 6973 7469  "Patch an existi
+000179e0: 6e67 2070 726f 6a65 6374 206f 626a 6563  ng project objec
+000179f0: 742e 0a0a 2020 2020 2020 2020 3a70 6172  t...        :par
+00017a00: 616d 206e 616d 653a 204e 616d 6520 6f66  am name: Name of
+00017a10: 2070 726f 6a65 6374 2074 6f20 7061 7463   project to patc
+00017a20: 682e 0a20 2020 2020 2020 203a 7061 7261  h..        :para
+00017a30: 6d20 7072 6f6a 6563 743a 2054 6865 2061  m project: The a
+00017a40: 6374 7561 6c20 6368 616e 6765 7320 746f  ctual changes to
+00017a50: 2074 6865 2070 726f 6a65 6374 206f 626a   the project obj
+00017a60: 6563 742e 0a20 2020 2020 2020 203a 7061  ect..        :pa
+00017a70: 7261 6d20 7061 7463 685f 6d6f 6465 3a20  ram patch_mode: 
+00017a80: 5468 6520 7374 7261 7465 6779 2066 6f72  The strategy for
+00017a90: 206d 6572 6769 6e67 2074 6865 2063 6861   merging the cha
+00017aa0: 6e67 6573 2077 6974 6820 7468 6520 6578  nges with the ex
+00017ab0: 6973 7469 6e67 206f 626a 6563 742e 2043  isting object. C
+00017ac0: 616e 2062 6520 6569 7468 6572 2060 6072  an be either ``r
+00017ad0: 6570 6c61 6365 6060 0a20 2020 2020 2020  eplace``.       
+00017ae0: 2020 2020 206f 7220 6060 6164 6469 7469       or ``additi
+00017af0: 7665 6060 2e0a 2020 2020 2020 2020 2222  ve``..        ""
+00017b00: 220a 0a20 2020 2020 2020 2070 6174 6820  "..        path 
+00017b10: 3d20 6622 7072 6f6a 6563 7473 2f7b 6e61  = f"projects/{na
+00017b20: 6d65 7d22 0a20 2020 2020 2020 2068 6561  me}".        hea
+00017b30: 6465 7273 203d 207b 6d6c 7275 6e2e 636f  ders = {mlrun.co
+00017b40: 6d6d 6f6e 2e73 6368 656d 6173 2e48 6561  mmon.schemas.Hea
+00017b50: 6465 724e 616d 6573 2e70 6174 6368 5f6d  derNames.patch_m
+00017b60: 6f64 653a 2070 6174 6368 5f6d 6f64 657d  ode: patch_mode}
+00017b70: 0a20 2020 2020 2020 2065 7272 6f72 5f6d  .        error_m
+00017b80: 6573 7361 6765 203d 2066 2246 6169 6c65  essage = f"Faile
+00017b90: 6420 7061 7463 6869 6e67 2070 726f 6a65  d patching proje
+00017ba0: 6374 207b 6e61 6d65 7d22 0a20 2020 2020  ct {name}".     
+00017bb0: 2020 2072 6573 706f 6e73 6520 3d20 7365     response = se
+00017bc0: 6c66 2e61 7069 5f63 616c 6c28 0a20 2020  lf.api_call(.   
+00017bd0: 2020 2020 2020 2020 2022 5041 5443 4822           "PATCH"
+00017be0: 2c20 7061 7468 2c20 6572 726f 725f 6d65  , path, error_me
+00017bf0: 7373 6167 652c 2062 6f64 793d 6469 6374  ssage, body=dict
+00017c00: 5f74 6f5f 6a73 6f6e 2870 726f 6a65 6374  _to_json(project
+00017c10: 292c 2068 6561 6465 7273 3d68 6561 6465  ), headers=heade
+00017c20: 7273 0a20 2020 2020 2020 2029 0a20 2020  rs.        ).   
+00017c30: 2020 2020 2072 6574 7572 6e20 6d6c 7275       return mlru
+00017c40: 6e2e 7072 6f6a 6563 7473 2e4d 6c72 756e  n.projects.Mlrun
+00017c50: 5072 6f6a 6563 742e 6672 6f6d 5f64 6963  Project.from_dic
+00017c60: 7428 7265 7370 6f6e 7365 2e6a 736f 6e28  t(response.json(
+00017c70: 2929 0a0a 2020 2020 6465 6620 6372 6561  ))..    def crea
+00017c80: 7465 5f70 726f 6a65 6374 280a 2020 2020  te_project(.    
+00017c90: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00017ca0: 2020 7072 6f6a 6563 743a 2055 6e69 6f6e    project: Union
+00017cb0: 5b64 6963 742c 206d 6c72 756e 2e70 726f  [dict, mlrun.pro
+00017cc0: 6a65 6374 732e 4d6c 7275 6e50 726f 6a65  jects.MlrunProje
+00017cd0: 6374 2c20 6d6c 7275 6e2e 636f 6d6d 6f6e  ct, mlrun.common
+00017ce0: 2e73 6368 656d 6173 2e50 726f 6a65 6374  .schemas.Project
+00017cf0: 5d2c 0a20 2020 2029 202d 3e20 6d6c 7275  ],.    ) -> mlru
+00017d00: 6e2e 7072 6f6a 6563 7473 2e4d 6c72 756e  n.projects.Mlrun
+00017d10: 5072 6f6a 6563 743a 0a20 2020 2020 2020  Project:.       
+00017d20: 2022 2222 4372 6561 7465 2061 206e 6577   """Create a new
+00017d30: 2070 726f 6a65 6374 2e20 4120 7072 6f6a   project. A proj
+00017d40: 6563 7420 7769 7468 2074 6865 2073 616d  ect with the sam
+00017d50: 6520 6e61 6d65 206d 7573 7420 6e6f 7420  e name must not 
+00017d60: 6578 6973 7420 7072 696f 7220 746f 2063  exist prior to c
+00017d70: 7265 6174 696f 6e2e 2222 220a 0a20 2020  reation."""..   
+00017d80: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+00017d90: 6365 2870 726f 6a65 6374 2c20 6d6c 7275  ce(project, mlru
+00017da0: 6e2e 636f 6d6d 6f6e 2e73 6368 656d 6173  n.common.schemas
+00017db0: 2e50 726f 6a65 6374 293a 0a20 2020 2020  .Project):.     
+00017dc0: 2020 2020 2020 2070 726f 6a65 6374 203d         project =
+00017dd0: 2070 726f 6a65 6374 2e64 6963 7428 290a   project.dict().
+00017de0: 2020 2020 2020 2020 656c 6966 2069 7369          elif isi
+00017df0: 6e73 7461 6e63 6528 7072 6f6a 6563 742c  nstance(project,
+00017e00: 206d 6c72 756e 2e70 726f 6a65 6374 732e   mlrun.projects.
+00017e10: 4d6c 7275 6e50 726f 6a65 6374 293a 0a20  MlrunProject):. 
+00017e20: 2020 2020 2020 2020 2020 2070 726f 6a65             proje
+00017e30: 6374 203d 2070 726f 6a65 6374 2e74 6f5f  ct = project.to_
+00017e40: 6469 6374 2829 0a20 2020 2020 2020 2070  dict().        p
+00017e50: 726f 6a65 6374 5f6e 616d 6520 3d20 7072  roject_name = pr
+00017e60: 6f6a 6563 745b 226d 6574 6164 6174 6122  oject["metadata"
+00017e70: 5d5b 226e 616d 6522 5d0a 2020 2020 2020  ]["name"].      
+00017e80: 2020 6572 726f 725f 6d65 7373 6167 6520    error_message 
+00017e90: 3d20 6622 4661 696c 6564 2063 7265 6174  = f"Failed creat
+00017ea0: 696e 6720 7072 6f6a 6563 7420 7b70 726f  ing project {pro
+00017eb0: 6a65 6374 5f6e 616d 657d 220a 2020 2020  ject_name}".    
+00017ec0: 2020 2020 7265 7370 6f6e 7365 203d 2073      response = s
+00017ed0: 656c 662e 6170 695f 6361 6c6c 280a 2020  elf.api_call(.  
+00017ee0: 2020 2020 2020 2020 2020 2250 4f53 5422            "POST"
+00017ef0: 2c0a 2020 2020 2020 2020 2020 2020 2270  ,.            "p
+00017f00: 726f 6a65 6374 7322 2c0a 2020 2020 2020  rojects",.      
+00017f10: 2020 2020 2020 6572 726f 725f 6d65 7373        error_mess
+00017f20: 6167 652c 0a20 2020 2020 2020 2020 2020  age,.           
+00017f30: 2062 6f64 793d 6469 6374 5f74 6f5f 6a73   body=dict_to_js
+00017f40: 6f6e 2870 726f 6a65 6374 292c 0a20 2020  on(project),.   
+00017f50: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
+00017f60: 6620 7265 7370 6f6e 7365 2e73 7461 7475  f response.statu
+00017f70: 735f 636f 6465 203d 3d20 6874 7470 2e48  s_code == http.H
+00017f80: 5454 5053 7461 7475 732e 4143 4345 5054  TTPStatus.ACCEPT
+00017f90: 4544 3a0a 2020 2020 2020 2020 2020 2020  ED:.            
+00017fa0: 7265 7475 726e 2073 656c 662e 5f77 6169  return self._wai
+00017fb0: 745f 666f 725f 7072 6f6a 6563 745f 746f  t_for_project_to
+00017fc0: 5f72 6561 6368 5f74 6572 6d69 6e61 6c5f  _reach_terminal_
+00017fd0: 7374 6174 6528 7072 6f6a 6563 745f 6e61  state(project_na
+00017fe0: 6d65 290a 2020 2020 2020 2020 7265 7475  me).        retu
+00017ff0: 726e 206d 6c72 756e 2e70 726f 6a65 6374  rn mlrun.project
+00018000: 732e 4d6c 7275 6e50 726f 6a65 6374 2e66  s.MlrunProject.f
+00018010: 726f 6d5f 6469 6374 2872 6573 706f 6e73  rom_dict(respons
+00018020: 652e 6a73 6f6e 2829 290a 0a20 2020 2064  e.json())..    d
+00018030: 6566 205f 7761 6974 5f66 6f72 5f70 726f  ef _wait_for_pro
+00018040: 6a65 6374 5f74 6f5f 7265 6163 685f 7465  ject_to_reach_te
+00018050: 726d 696e 616c 5f73 7461 7465 280a 2020  rminal_state(.  
+00018060: 2020 2020 2020 7365 6c66 2c20 7072 6f6a        self, proj
+00018070: 6563 745f 6e61 6d65 3a20 7374 720a 2020  ect_name: str.  
+00018080: 2020 2920 2d3e 206d 6c72 756e 2e70 726f    ) -> mlrun.pro
+00018090: 6a65 6374 732e 4d6c 7275 6e50 726f 6a65  jects.MlrunProje
+000180a0: 6374 3a0a 2020 2020 2020 2020 6465 6620  ct:.        def 
+000180b0: 5f76 6572 6966 795f 7072 6f6a 6563 745f  _verify_project_
+000180c0: 696e 5f74 6572 6d69 6e61 6c5f 7374 6174  in_terminal_stat
+000180d0: 6528 293a 0a20 2020 2020 2020 2020 2020  e():.           
+000180e0: 2070 726f 6a65 6374 203d 2073 656c 662e   project = self.
+000180f0: 6765 745f 7072 6f6a 6563 7428 7072 6f6a  get_project(proj
+00018100: 6563 745f 6e61 6d65 290a 2020 2020 2020  ect_name).      
+00018110: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
+00018120: 2020 2020 2020 2020 2020 2070 726f 6a65             proje
+00018130: 6374 2e73 7461 7475 732e 7374 6174 650a  ct.status.state.
+00018140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018150: 6e6f 7420 696e 206d 6c72 756e 2e63 6f6d  not in mlrun.com
+00018160: 6d6f 6e2e 7363 6865 6d61 732e 5072 6f6a  mon.schemas.Proj
+00018170: 6563 7453 7461 7465 2e74 6572 6d69 6e61  ectState.termina
+00018180: 6c5f 7374 6174 6573 2829 0a20 2020 2020  l_states().     
+00018190: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
+000181a0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+000181b0: 4578 6365 7074 696f 6e28 0a20 2020 2020  Exception(.     
+000181c0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+000181d0: 2250 726f 6a65 6374 206e 6f74 2069 6e20  "Project not in 
+000181e0: 7465 726d 696e 616c 2073 7461 7465 2e20  terminal state. 
+000181f0: 5374 6174 653a 207b 7072 6f6a 6563 742e  State: {project.
+00018200: 7374 6174 7573 2e73 7461 7465 7d22 0a20  status.state}". 
+00018210: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00018220: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00018230: 7572 6e20 7072 6f6a 6563 740a 0a20 2020  urn project..   
+00018240: 2020 2020 2072 6574 7572 6e20 6d6c 7275       return mlru
+00018250: 6e2e 7574 696c 732e 6865 6c70 6572 732e  n.utils.helpers.
+00018260: 7265 7472 795f 756e 7469 6c5f 7375 6363  retry_until_succ
+00018270: 6573 7366 756c 280a 2020 2020 2020 2020  essful(.        
+00018280: 2020 2020 7365 6c66 2e5f 7761 6974 5f66      self._wait_f
+00018290: 6f72 5f70 726f 6a65 6374 5f74 6572 6d69  or_project_termi
+000182a0: 6e61 6c5f 7374 6174 655f 7265 7472 795f  nal_state_retry_
+000182b0: 696e 7465 7276 616c 2c0a 2020 2020 2020  interval,.      
+000182c0: 2020 2020 2020 3132 302c 0a20 2020 2020        120,.     
+000182d0: 2020 2020 2020 206c 6f67 6765 722c 0a20         logger,. 
+000182e0: 2020 2020 2020 2020 2020 2046 616c 7365             False
+000182f0: 2c0a 2020 2020 2020 2020 2020 2020 5f76  ,.            _v
+00018300: 6572 6966 795f 7072 6f6a 6563 745f 696e  erify_project_in
+00018310: 5f74 6572 6d69 6e61 6c5f 7374 6174 652c  _terminal_state,
+00018320: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
+00018330: 6465 6620 5f77 6169 745f 666f 725f 6261  def _wait_for_ba
+00018340: 636b 6772 6f75 6e64 5f74 6173 6b5f 746f  ckground_task_to
+00018350: 5f72 6561 6368 5f74 6572 6d69 6e61 6c5f  _reach_terminal_
+00018360: 7374 6174 6528 0a20 2020 2020 2020 2073  state(.        s
+00018370: 656c 662c 206e 616d 653a 2073 7472 0a20  elf, name: str. 
+00018380: 2020 2029 202d 3e20 6d6c 7275 6e2e 636f     ) -> mlrun.co
+00018390: 6d6d 6f6e 2e73 6368 656d 6173 2e42 6163  mmon.schemas.Bac
+000183a0: 6b67 726f 756e 6454 6173 6b3a 0a20 2020  kgroundTask:.   
+000183b0: 2020 2020 2064 6566 205f 7665 7269 6679       def _verify
+000183c0: 5f62 6163 6b67 726f 756e 645f 7461 736b  _background_task
+000183d0: 5f69 6e5f 7465 726d 696e 616c 5f73 7461  _in_terminal_sta
+000183e0: 7465 2829 3a0a 2020 2020 2020 2020 2020  te():.          
+000183f0: 2020 6261 636b 6772 6f75 6e64 5f74 6173    background_tas
+00018400: 6b20 3d20 7365 6c66 2e67 6574 5f62 6163  k = self.get_bac
+00018410: 6b67 726f 756e 645f 7461 736b 286e 616d  kground_task(nam
+00018420: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
+00018430: 7461 7465 203d 2062 6163 6b67 726f 756e  tate = backgroun
+00018440: 645f 7461 736b 2e73 7461 7475 732e 7374  d_task.status.st
+00018450: 6174 650a 2020 2020 2020 2020 2020 2020  ate.            
+00018460: 6966 2073 7461 7465 206e 6f74 2069 6e20  if state not in 
+00018470: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
+00018480: 656d 6173 2e42 6163 6b67 726f 756e 6454  emas.BackgroundT
+00018490: 6173 6b53 7461 7465 2e74 6572 6d69 6e61  askState.termina
+000184a0: 6c5f 7374 6174 6573 2829 3a0a 2020 2020  l_states():.    
+000184b0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000184c0: 6520 4578 6365 7074 696f 6e28 0a20 2020  e Exception(.   
+000184d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000184e0: 2066 2242 6163 6b67 726f 756e 6420 7461   f"Background ta
+000184f0: 736b 206e 6f74 2069 6e20 7465 726d 696e  sk not in termin
+00018500: 616c 2073 7461 7465 2e20 6e61 6d65 3d7b  al state. name={
+00018510: 6e61 6d65 7d2c 2073 7461 7465 3d7b 7374  name}, state={st
+00018520: 6174 657d 220a 2020 2020 2020 2020 2020  ate}".          
+00018530: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00018540: 2020 2020 7265 7475 726e 2062 6163 6b67      return backg
+00018550: 726f 756e 645f 7461 736b 0a0a 2020 2020  round_task..    
+00018560: 2020 2020 7265 7475 726e 206d 6c72 756e      return mlrun
+00018570: 2e75 7469 6c73 2e68 656c 7065 7273 2e72  .utils.helpers.r
+00018580: 6574 7279 5f75 6e74 696c 5f73 7563 6365  etry_until_succe
+00018590: 7373 6675 6c28 0a20 2020 2020 2020 2020  ssful(.         
+000185a0: 2020 2073 656c 662e 5f77 6169 745f 666f     self._wait_fo
+000185b0: 725f 6261 636b 6772 6f75 6e64 5f74 6173  r_background_tas
+000185c0: 6b5f 7465 726d 696e 616c 5f73 7461 7465  k_terminal_state
+000185d0: 5f72 6574 7279 5f69 6e74 6572 7661 6c2c  _retry_interval,
+000185e0: 0a20 2020 2020 2020 2020 2020 2036 3020  .            60 
+000185f0: 2a20 3630 2c0a 2020 2020 2020 2020 2020  * 60,.          
+00018600: 2020 6c6f 6767 6572 2c0a 2020 2020 2020    logger,.      
+00018610: 2020 2020 2020 4661 6c73 652c 0a20 2020        False,.   
+00018620: 2020 2020 2020 2020 205f 7665 7269 6679           _verify
+00018630: 5f62 6163 6b67 726f 756e 645f 7461 736b  _background_task
+00018640: 5f69 6e5f 7465 726d 696e 616c 5f73 7461  _in_terminal_sta
+00018650: 7465 2c0a 2020 2020 2020 2020 290a 0a20  te,.        ).. 
+00018660: 2020 2064 6566 205f 7761 6974 5f66 6f72     def _wait_for
+00018670: 5f70 726f 6a65 6374 5f74 6f5f 6265 5f64  _project_to_be_d
+00018680: 656c 6574 6564 2873 656c 662c 2070 726f  eleted(self, pro
+00018690: 6a65 6374 5f6e 616d 653a 2073 7472 293a  ject_name: str):
+000186a0: 0a20 2020 2020 2020 2064 6566 205f 7665  .        def _ve
+000186b0: 7269 6679 5f70 726f 6a65 6374 5f64 656c  rify_project_del
+000186c0: 6574 6564 2829 3a0a 2020 2020 2020 2020  eted():.        
+000186d0: 2020 2020 7072 6f6a 6563 7473 203d 2073      projects = s
+000186e0: 656c 662e 6c69 7374 5f70 726f 6a65 6374  elf.list_project
+000186f0: 7328 0a20 2020 2020 2020 2020 2020 2020  s(.             
+00018700: 2020 2066 6f72 6d61 745f 3d6d 6c72 756e     format_=mlrun
+00018710: 2e63 6f6d 6d6f 6e2e 7363 6865 6d61 732e  .common.schemas.
+00018720: 5072 6f6a 6563 7473 466f 726d 6174 2e6e  ProjectsFormat.n
+00018730: 616d 655f 6f6e 6c79 0a20 2020 2020 2020  ame_only.       
+00018740: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+00018750: 2020 2069 6620 7072 6f6a 6563 745f 6e61     if project_na
+00018760: 6d65 2069 6e20 7072 6f6a 6563 7473 3a0a  me in projects:.
+00018770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018780: 7261 6973 6520 4578 6365 7074 696f 6e28  raise Exception(
+00018790: 6622 5072 6f6a 6563 7420 7b70 726f 6a65  f"Project {proje
+000187a0: 6374 5f6e 616d 657d 2073 7469 6c6c 2065  ct_name} still e
+000187b0: 7869 7374 7322 290a 0a20 2020 2020 2020  xists")..       
+000187c0: 2072 6574 7572 6e20 6d6c 7275 6e2e 7574   return mlrun.ut
+000187d0: 696c 732e 6865 6c70 6572 732e 7265 7472  ils.helpers.retr
+000187e0: 795f 756e 7469 6c5f 7375 6363 6573 7366  y_until_successf
+000187f0: 756c 280a 2020 2020 2020 2020 2020 2020  ul(.            
+00018800: 7365 6c66 2e5f 7761 6974 5f66 6f72 5f70  self._wait_for_p
+00018810: 726f 6a65 6374 5f64 656c 6574 696f 6e5f  roject_deletion_
+00018820: 696e 7465 7276 616c 2c0a 2020 2020 2020  interval,.      
+00018830: 2020 2020 2020 3132 302c 0a20 2020 2020        120,.     
+00018840: 2020 2020 2020 206c 6f67 6765 722c 0a20         logger,. 
+00018850: 2020 2020 2020 2020 2020 2046 616c 7365             False
+00018860: 2c0a 2020 2020 2020 2020 2020 2020 5f76  ,.            _v
+00018870: 6572 6966 795f 7072 6f6a 6563 745f 6465  erify_project_de
+00018880: 6c65 7465 642c 0a20 2020 2020 2020 2029  leted,.        )
+00018890: 0a0a 2020 2020 6465 6620 6372 6561 7465  ..    def create
+000188a0: 5f70 726f 6a65 6374 5f73 6563 7265 7473  _project_secrets
+000188b0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+000188c0: 2020 2020 2020 2020 7072 6f6a 6563 743a          project:
+000188d0: 2073 7472 2c0a 2020 2020 2020 2020 7072   str,.        pr
+000188e0: 6f76 6964 6572 3a20 556e 696f 6e5b 0a20  ovider: Union[. 
+000188f0: 2020 2020 2020 2020 2020 2073 7472 2c20             str, 
+00018900: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
+00018910: 656d 6173 2e53 6563 7265 7450 726f 7669  emas.SecretProvi
+00018920: 6465 724e 616d 650a 2020 2020 2020 2020  derName.        
+00018930: 5d20 3d20 6d6c 7275 6e2e 636f 6d6d 6f6e  ] = mlrun.common
+00018940: 2e73 6368 656d 6173 2e53 6563 7265 7450  .schemas.SecretP
+00018950: 726f 7669 6465 724e 616d 652e 6b75 6265  roviderName.kube
+00018960: 726e 6574 6573 2c0a 2020 2020 2020 2020  rnetes,.        
+00018970: 7365 6372 6574 733a 2064 6963 7420 3d20  secrets: dict = 
+00018980: 4e6f 6e65 2c0a 2020 2020 293a 0a20 2020  None,.    ):.   
+00018990: 2020 2020 2022 2222 4372 6561 7465 2070       """Create p
+000189a0: 726f 6a65 6374 2d63 6f6e 7465 7874 2073  roject-context s
+000189b0: 6563 7265 7473 2075 7369 6e67 2065 6974  ecrets using eit
+000189c0: 6865 7220 6060 7661 756c 7460 6020 6f72  her ``vault`` or
+000189d0: 2060 606b 7562 6572 6e65 7465 7360 6020   ``kubernetes`` 
+000189e0: 7072 6f76 6964 6572 2e0a 2020 2020 2020  provider..      
+000189f0: 2020 5768 656e 2075 7369 6e67 2077 6974    When using wit
+00018a00: 6820 5661 756c 742c 2074 6869 7320 7769  h Vault, this wi
+00018a10: 6c6c 2063 7265 6174 6520 6e65 6564 6564  ll create needed
+00018a20: 2056 6175 6c74 2073 7472 7563 7475 7265   Vault structure
+00018a30: 7320 666f 7220 7374 6f72 696e 6720 7365  s for storing se
+00018a40: 6372 6574 7320 696e 2070 726f 6a65 6374  crets in project
+00018a50: 2d63 6f6e 7465 7874 2c20 616e 640a 2020  -context, and.  
+00018a60: 2020 2020 2020 7374 6f72 6520 6120 7365        store a se
+00018a70: 7420 6f66 2073 6563 7265 7420 7661 6c75  t of secret valu
+00018a80: 6573 2e20 5468 6520 6d65 7468 6f64 2067  es. The method g
+00018a90: 656e 6572 6174 6573 204b 7562 6572 6e65  enerates Kuberne
+00018aa0: 7465 7320 7365 7276 6963 652d 6163 636f  tes service-acco
+00018ab0: 756e 7420 616e 6420 7468 6520 5661 756c  unt and the Vaul
+00018ac0: 7420 6175 7468 656e 7469 6361 7469 6f6e  t authentication
+00018ad0: 0a20 2020 2020 2020 2073 7472 7563 7475  .        structu
+00018ae0: 7265 7320 7468 6174 2061 7265 2072 6571  res that are req
+00018af0: 7569 7265 6420 666f 7220 6675 6e63 7469  uired for functi
+00018b00: 6f6e 2050 6f64 7320 746f 2061 7574 6865  on Pods to authe
+00018b10: 6e74 6963 6174 6520 7769 7468 2056 6175  nticate with Vau
+00018b20: 6c74 2061 6e64 2062 6520 6162 6c65 2074  lt and be able t
+00018b30: 6f20 6578 7472 6163 7420 7365 6372 6574  o extract secret
+00018b40: 2076 616c 7565 730a 2020 2020 2020 2020   values.        
+00018b50: 7061 7373 6564 2061 7320 7061 7274 206f  passed as part o
+00018b60: 6620 7468 6569 7220 636f 6e74 6578 742e  f their context.
+00018b70: 0a0a 2020 2020 2020 2020 4e6f 7465 3a0a  ..        Note:.
+00018b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018b90: 5468 6973 206d 6574 686f 6420 7573 6564  This method used
+00018ba0: 2077 6974 6820 5661 756c 7420 6973 2063   with Vault is c
+00018bb0: 7572 7265 6e74 6c79 2069 6e20 7465 6368  urrently in tech
+00018bc0: 6e69 6361 6c20 7072 6576 6965 772c 2061  nical preview, a
+00018bd0: 6e64 2072 6571 7569 7265 7320 6120 4861  nd requires a Ha
+00018be0: 7368 6943 6f72 7020 5661 756c 740a 2020  shiCorp Vault.  
+00018bf0: 2020 2020 2020 2020 2020 2020 2020 696e                in
+00018c00: 6672 6173 7472 7563 7475 7265 2070 726f  frastructure pro
+00018c10: 7065 726c 7920 7365 7420 7570 2061 6e64  perly set up and
+00018c20: 2063 6f6e 6e65 6374 6564 2074 6f20 7468   connected to th
+00018c30: 6520 4d4c 5275 6e20 4150 4920 7365 7276  e MLRun API serv
+00018c40: 6572 2e0a 0a20 2020 2020 2020 2057 6865  er...        Whe
+00018c50: 6e20 7573 6564 2077 6974 6820 4b75 6265  n used with Kube
+00018c60: 726e 6574 6573 2c20 7468 6973 2077 696c  rnetes, this wil
+00018c70: 6c20 6d61 6b65 2073 7572 6520 7468 6174  l make sure that
+00018c80: 2074 6865 2070 726f 6a65 6374 2d73 7065   the project-spe
+00018c90: 6369 6669 6320 6b38 7320 7365 6372 6574  cific k8s secret
+00018ca0: 2069 7320 6372 6561 7465 642c 2061 6e64   is created, and
+00018cb0: 2077 696c 6c0a 2020 2020 2020 2020 706f   will.        po
+00018cc0: 7075 6c61 7465 2069 7420 7769 7468 2074  pulate it with t
+00018cd0: 6865 2073 6563 7265 7473 2070 726f 7669  he secrets provi
+00018ce0: 6465 642c 2072 6570 6c61 6369 6e67 2074  ded, replacing t
+00018cf0: 6865 6972 2076 616c 7565 7320 6966 2074  heir values if t
+00018d00: 6865 7920 6578 6973 742e 0a0a 2020 2020  hey exist...    
+00018d10: 2020 2020 3a70 6172 616d 2070 726f 6a65      :param proje
+00018d20: 6374 3a20 5468 6520 7072 6f6a 6563 7420  ct: The project 
+00018d30: 636f 6e74 6578 7420 666f 7220 7768 6963  context for whic
+00018d40: 6820 746f 2067 656e 6572 6174 6520 7468  h to generate th
+00018d50: 6520 696e 6672 6120 616e 6420 7374 6f72  e infra and stor
+00018d60: 6520 7365 6372 6574 732e 0a20 2020 2020  e secrets..     
+00018d70: 2020 203a 7061 7261 6d20 7072 6f76 6964     :param provid
+00018d80: 6572 3a20 5468 6520 6e61 6d65 206f 6620  er: The name of 
+00018d90: 7468 6520 7365 6372 6574 732d 7072 6f76  the secrets-prov
+00018da0: 6964 6572 2074 6f20 776f 726b 2077 6974  ider to work wit
+00018db0: 682e 2041 6363 6570 7473 2061 0a20 2020  h. Accepts a.   
+00018dc0: 2020 2020 2020 2020 203a 7079 3a63 6c61           :py:cla
+00018dd0: 7373 3a60 7e6d 6c72 756e 2e63 6f6d 6d6f  ss:`~mlrun.commo
+00018de0: 6e2e 7363 6865 6d61 732e 7365 6372 6574  n.schemas.secret
+00018df0: 2e53 6563 7265 7450 726f 7669 6465 724e  .SecretProviderN
+00018e00: 616d 6560 2065 6e75 6d2e 0a20 2020 2020  ame` enum..     
+00018e10: 2020 203a 7061 7261 6d20 7365 6372 6574     :param secret
+00018e20: 733a 2041 2073 6574 206f 6620 7365 6372  s: A set of secr
+00018e30: 6574 2076 616c 7565 7320 746f 2073 746f  et values to sto
+00018e40: 7265 2e0a 2020 2020 2020 2020 2020 2020  re..            
+00018e50: 4578 616d 706c 653a 3a0a 0a20 2020 2020  Example::..     
+00018e60: 2020 2020 2020 2020 2020 2073 6563 7265             secre
+00018e70: 7473 203d 207b 2770 6173 7377 6f72 6427  ts = {'password'
+00018e80: 3a20 276d 7950 6173 7377 3072 6427 2c20  : 'myPassw0rd', 
+00018e90: 2761 7773 5f6b 6579 273a 2027 3131 3132  'aws_key': '1112
+00018ea0: 3232 3333 3327 7d0a 2020 2020 2020 2020  22333'}.        
+00018eb0: 2020 2020 2020 2020 6462 2e63 7265 6174          db.creat
+00018ec0: 655f 7072 6f6a 6563 745f 7365 6372 6574  e_project_secret
+00018ed0: 7328 0a20 2020 2020 2020 2020 2020 2020  s(.             
+00018ee0: 2020 2020 2020 2022 7072 6f6a 6563 7431         "project1
+00018ef0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00018f00: 2020 2020 2020 2070 726f 7669 6465 723d         provider=
+00018f10: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
+00018f20: 656d 6173 2e53 6563 7265 7450 726f 7669  emas.SecretProvi
+00018f30: 6465 724e 616d 652e 6b75 6265 726e 6574  derName.kubernet
+00018f40: 6573 2c0a 2020 2020 2020 2020 2020 2020  es,.            
+00018f50: 2020 2020 2020 2020 7365 6372 6574 733d          secrets=
+00018f60: 7365 6372 6574 730a 2020 2020 2020 2020  secrets.        
+00018f70: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00018f80: 2020 2222 220a 2020 2020 2020 2020 7061    """.        pa
+00018f90: 7468 203d 2066 2270 726f 6a65 6374 732f  th = f"projects/
+00018fa0: 7b70 726f 6a65 6374 7d2f 7365 6372 6574  {project}/secret
+00018fb0: 7322 0a20 2020 2020 2020 2073 6563 7265  s".        secre
+00018fc0: 7473 5f69 6e70 7574 203d 206d 6c72 756e  ts_input = mlrun
+00018fd0: 2e63 6f6d 6d6f 6e2e 7363 6865 6d61 732e  .common.schemas.
+00018fe0: 5365 6372 6574 7344 6174 6128 0a20 2020  SecretsData(.   
+00018ff0: 2020 2020 2020 2020 2073 6563 7265 7473           secrets
+00019000: 3d73 6563 7265 7473 2c20 7072 6f76 6964  =secrets, provid
+00019010: 6572 3d70 726f 7669 6465 720a 2020 2020  er=provider.    
+00019020: 2020 2020 290a 2020 2020 2020 2020 626f      ).        bo
+00019030: 6479 203d 2073 6563 7265 7473 5f69 6e70  dy = secrets_inp
+00019040: 7574 2e64 6963 7428 290a 2020 2020 2020  ut.dict().      
+00019050: 2020 6572 726f 725f 6d65 7373 6167 6520    error_message 
+00019060: 3d20 6622 4661 696c 6564 2063 7265 6174  = f"Failed creat
+00019070: 696e 6720 7365 6372 6574 2070 726f 7669  ing secret provi
+00019080: 6465 7220 7b70 726f 6a65 6374 7d2f 7b70  der {project}/{p
+00019090: 726f 7669 6465 727d 220a 2020 2020 2020  rovider}".      
+000190a0: 2020 7365 6c66 2e61 7069 5f63 616c 6c28    self.api_call(
+000190b0: 0a20 2020 2020 2020 2020 2020 2022 504f  .            "PO
+000190c0: 5354 222c 0a20 2020 2020 2020 2020 2020  ST",.           
+000190d0: 2070 6174 682c 0a20 2020 2020 2020 2020   path,.         
+000190e0: 2020 2065 7272 6f72 5f6d 6573 7361 6765     error_message
+000190f0: 2c0a 2020 2020 2020 2020 2020 2020 626f  ,.            bo
+00019100: 6479 3d64 6963 745f 746f 5f6a 736f 6e28  dy=dict_to_json(
+00019110: 626f 6479 292c 0a20 2020 2020 2020 2029  body),.        )
+00019120: 0a0a 2020 2020 6465 6620 6c69 7374 5f70  ..    def list_p
+00019130: 726f 6a65 6374 5f73 6563 7265 7473 280a  roject_secrets(.
+00019140: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00019150: 2020 2020 2020 7072 6f6a 6563 743a 2073        project: s
+00019160: 7472 2c0a 2020 2020 2020 2020 746f 6b65  tr,.        toke
+00019170: 6e3a 2073 7472 203d 204e 6f6e 652c 0a20  n: str = None,. 
+00019180: 2020 2020 2020 2070 726f 7669 6465 723a         provider:
+00019190: 2055 6e69 6f6e 5b0a 2020 2020 2020 2020   Union[.        
+000191a0: 2020 2020 7374 722c 206d 6c72 756e 2e63      str, mlrun.c
+000191b0: 6f6d 6d6f 6e2e 7363 6865 6d61 732e 5365  ommon.schemas.Se
+000191c0: 6372 6574 5072 6f76 6964 6572 4e61 6d65  cretProviderName
+000191d0: 0a20 2020 2020 2020 205d 203d 206d 6c72  .        ] = mlr
+000191e0: 756e 2e63 6f6d 6d6f 6e2e 7363 6865 6d61  un.common.schema
+000191f0: 732e 5365 6372 6574 5072 6f76 6964 6572  s.SecretProvider
+00019200: 4e61 6d65 2e6b 7562 6572 6e65 7465 732c  Name.kubernetes,
+00019210: 0a20 2020 2020 2020 2073 6563 7265 7473  .        secrets
+00019220: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
+00019230: 6e65 2c0a 2020 2020 2920 2d3e 206d 6c72  ne,.    ) -> mlr
+00019240: 756e 2e63 6f6d 6d6f 6e2e 7363 6865 6d61  un.common.schema
+00019250: 732e 5365 6372 6574 7344 6174 613a 0a20  s.SecretsData:. 
+00019260: 2020 2020 2020 2022 2222 5265 7472 6965         """Retrie
+00019270: 7665 2070 726f 6a65 6374 2d63 6f6e 7465  ve project-conte
+00019280: 7874 2073 6563 7265 7473 2066 726f 6d20  xt secrets from 
+00019290: 5661 756c 742e 0a0a 2020 2020 2020 2020  Vault...        
+000192a0: 4e6f 7465 3a0a 2020 2020 2020 2020 2020  Note:.          
+000192b0: 2020 2020 2020 5468 6973 206d 6574 686f        This metho
+000192c0: 6420 666f 7220 5661 756c 7420 6675 6e63  d for Vault func
+000192d0: 7469 6f6e 616c 6974 7920 6973 2063 7572  tionality is cur
+000192e0: 7265 6e74 6c79 2069 6e20 7465 6368 6e69  rently in techni
+000192f0: 6361 6c20 7072 6576 6965 772c 2061 6e64  cal preview, and
+00019300: 2072 6571 7569 7265 7320 6120 4861 7368   requires a Hash
+00019310: 6943 6f72 7020 5661 756c 740a 2020 2020  iCorp Vault.    
+00019320: 2020 2020 2020 2020 2020 2020 696e 6672              infr
+00019330: 6173 7472 7563 7475 7265 2070 726f 7065  astructure prope
+00019340: 726c 7920 7365 7420 7570 2061 6e64 2063  rly set up and c
+00019350: 6f6e 6e65 6374 6564 2074 6f20 7468 6520  onnected to the 
+00019360: 4d4c 5275 6e20 4150 4920 7365 7276 6572  MLRun API server
+00019370: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
+00019380: 6d20 7072 6f6a 6563 743a 2054 6865 2070  m project: The p
+00019390: 726f 6a65 6374 206e 616d 652e 0a20 2020  roject name..   
+000193a0: 2020 2020 203a 7061 7261 6d20 746f 6b65       :param toke
+000193b0: 6e3a 2056 6175 6c74 2074 6f6b 656e 2074  n: Vault token t
+000193c0: 6f20 7573 6520 666f 7220 7265 7472 6965  o use for retrie
+000193d0: 7669 6e67 2073 6563 7265 7473 2e0a 2020  ving secrets..  
+000193e0: 2020 2020 2020 2020 2020 4d75 7374 2062            Must b
+000193f0: 6520 6120 7661 6c69 6420 5661 756c 7420  e a valid Vault 
+00019400: 746f 6b65 6e2c 2077 6974 6820 7065 726d  token, with perm
+00019410: 6973 7369 6f6e 7320 746f 2072 6574 7269  issions to retri
+00019420: 6576 6520 7365 6372 6574 7320 6f66 2074  eve secrets of t
+00019430: 6865 2070 726f 6a65 6374 2069 6e20 7175  he project in qu
+00019440: 6573 7469 6f6e 2e0a 2020 2020 2020 2020  estion..        
+00019450: 3a70 6172 616d 2070 726f 7669 6465 723a  :param provider:
+00019460: 2054 6865 206e 616d 6520 6f66 2074 6865   The name of the
+00019470: 2073 6563 7265 7473 2d70 726f 7669 6465   secrets-provide
+00019480: 7220 746f 2077 6f72 6b20 7769 7468 2e20  r to work with. 
+00019490: 4375 7272 656e 746c 7920 6f6e 6c79 2060  Currently only `
+000194a0: 6076 6175 6c74 6060 2069 7320 6163 6365  `vault`` is acce
+000194b0: 7074 6564 2e0a 2020 2020 2020 2020 3a70  pted..        :p
+000194c0: 6172 616d 2073 6563 7265 7473 3a20 4120  aram secrets: A 
+000194d0: 6c69 7374 206f 6620 7365 6372 6574 206e  list of secret n
+000194e0: 616d 6573 2074 6f20 7265 7472 6965 7665  ames to retrieve
+000194f0: 2e20 416e 2065 6d70 7479 206c 6973 7420  . An empty list 
+00019500: 6060 5b5d 6060 2077 696c 6c20 7265 7472  ``[]`` will retr
+00019510: 6965 7665 2061 6c6c 2073 6563 7265 7473  ieve all secrets
+00019520: 2061 7373 6967 6e65 640a 2020 2020 2020   assigned.      
+00019530: 2020 2020 2020 746f 2074 6869 7320 7370        to this sp
+00019540: 6563 6966 6963 2070 726f 6a65 6374 2e20  ecific project. 
+00019550: 6060 6b75 6265 726e 6574 6573 6060 2070  ``kubernetes`` p
+00019560: 726f 7669 6465 7220 6f6e 6c79 2073 7570  rovider only sup
+00019570: 706f 7274 7320 616e 2065 6d70 7479 206c  ports an empty l
+00019580: 6973 742e 0a20 2020 2020 2020 2022 2222  ist..        """
+00019590: 0a0a 2020 2020 2020 2020 6966 2028 0a20  ..        if (. 
+000195a0: 2020 2020 2020 2020 2020 2070 726f 7669             provi
+000195b0: 6465 7220 3d3d 206d 6c72 756e 2e63 6f6d  der == mlrun.com
+000195c0: 6d6f 6e2e 7363 6865 6d61 732e 5365 6372  mon.schemas.Secr
+000195d0: 6574 5072 6f76 6964 6572 4e61 6d65 2e76  etProviderName.v
+000195e0: 6175 6c74 2e76 616c 7565 0a20 2020 2020  ault.value.     
+000195f0: 2020 2020 2020 2061 6e64 206e 6f74 2074         and not t
+00019600: 6f6b 656e 0a20 2020 2020 2020 2029 3a0a  oken.        ):.
+00019610: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00019620: 6520 4d4c 5275 6e49 6e76 616c 6964 4172  e MLRunInvalidAr
+00019630: 6775 6d65 6e74 4572 726f 7228 0a20 2020  gumentError(.   
+00019640: 2020 2020 2020 2020 2020 2020 2022 4120               "A 
+00019650: 7661 756c 7420 746f 6b65 6e20 6d75 7374  vault token must
+00019660: 2062 6520 7072 6f76 6964 6564 2077 6865   be provided whe
+00019670: 6e20 6163 6365 7373 696e 6720 7661 756c  n accessing vaul
+00019680: 7420 7365 6372 6574 7322 0a20 2020 2020  t secrets".     
+00019690: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+000196a0: 2020 7061 7468 203d 2066 2270 726f 6a65    path = f"proje
+000196b0: 6374 732f 7b70 726f 6a65 6374 7d2f 7365  cts/{project}/se
+000196c0: 6372 6574 7322 0a20 2020 2020 2020 2070  crets".        p
+000196d0: 6172 616d 7320 3d20 7b22 7072 6f76 6964  arams = {"provid
+000196e0: 6572 223a 2070 726f 7669 6465 722c 2022  er": provider, "
+000196f0: 7365 6372 6574 223a 2073 6563 7265 7473  secret": secrets
+00019700: 7d0a 2020 2020 2020 2020 6865 6164 6572  }.        header
+00019710: 7320 3d20 7b6d 6c72 756e 2e63 6f6d 6d6f  s = {mlrun.commo
+00019720: 6e2e 7363 6865 6d61 732e 4865 6164 6572  n.schemas.Header
+00019730: 4e61 6d65 732e 7365 6372 6574 5f73 746f  Names.secret_sto
+00019740: 7265 5f74 6f6b 656e 3a20 746f 6b65 6e7d  re_token: token}
+00019750: 0a20 2020 2020 2020 2065 7272 6f72 5f6d  .        error_m
+00019760: 6573 7361 6765 203d 2066 2246 6169 6c65  essage = f"Faile
+00019770: 6420 7265 7472 6965 7669 6e67 2073 6563  d retrieving sec
+00019780: 7265 7473 207b 7072 6f6a 6563 747d 2f7b  rets {project}/{
+00019790: 7072 6f76 6964 6572 7d22 0a20 2020 2020  provider}".     
+000197a0: 2020 2072 6573 756c 7420 3d20 7365 6c66     result = self
+000197b0: 2e61 7069 5f63 616c 6c28 0a20 2020 2020  .api_call(.     
+000197c0: 2020 2020 2020 2022 4745 5422 2c0a 2020         "GET",.  
+000197d0: 2020 2020 2020 2020 2020 7061 7468 2c0a            path,.
+000197e0: 2020 2020 2020 2020 2020 2020 6572 726f              erro
+000197f0: 725f 6d65 7373 6167 652c 0a20 2020 2020  r_message,.     
+00019800: 2020 2020 2020 2070 6172 616d 733d 7061         params=pa
+00019810: 7261 6d73 2c0a 2020 2020 2020 2020 2020  rams,.          
+00019820: 2020 6865 6164 6572 733d 6865 6164 6572    headers=header
+00019830: 732c 0a20 2020 2020 2020 2029 0a20 2020  s,.        ).   
+00019840: 2020 2020 2072 6574 7572 6e20 6d6c 7275       return mlru
+00019850: 6e2e 636f 6d6d 6f6e 2e73 6368 656d 6173  n.common.schemas
+00019860: 2e53 6563 7265 7473 4461 7461 282a 2a72  .SecretsData(**r
+00019870: 6573 756c 742e 6a73 6f6e 2829 290a 0a20  esult.json()).. 
+00019880: 2020 2064 6566 206c 6973 745f 7072 6f6a     def list_proj
+00019890: 6563 745f 7365 6372 6574 5f6b 6579 7328  ect_secret_keys(
+000198a0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+000198b0: 2020 2020 2020 2070 726f 6a65 6374 3a20         project: 
+000198c0: 7374 722c 0a20 2020 2020 2020 2070 726f  str,.        pro
+000198d0: 7669 6465 723a 2055 6e69 6f6e 5b0a 2020  vider: Union[.  
+000198e0: 2020 2020 2020 2020 2020 7374 722c 206d            str, m
+000198f0: 6c72 756e 2e63 6f6d 6d6f 6e2e 7363 6865  lrun.common.sche
+00019900: 6d61 732e 5365 6372 6574 5072 6f76 6964  mas.SecretProvid
+00019910: 6572 4e61 6d65 0a20 2020 2020 2020 205d  erName.        ]
+00019920: 203d 206d 6c72 756e 2e63 6f6d 6d6f 6e2e   = mlrun.common.
+00019930: 7363 6865 6d61 732e 5365 6372 6574 5072  schemas.SecretPr
+00019940: 6f76 6964 6572 4e61 6d65 2e6b 7562 6572  oviderName.kuber
+00019950: 6e65 7465 732c 0a20 2020 2020 2020 2074  netes,.        t
+00019960: 6f6b 656e 3a20 7374 7220 3d20 4e6f 6e65  oken: str = None
+00019970: 2c0a 2020 2020 2920 2d3e 206d 6c72 756e  ,.    ) -> mlrun
+00019980: 2e63 6f6d 6d6f 6e2e 7363 6865 6d61 732e  .common.schemas.
+00019990: 5365 6372 6574 4b65 7973 4461 7461 3a0a  SecretKeysData:.
+000199a0: 2020 2020 2020 2020 2222 2252 6574 7269          """Retri
+000199b0: 6576 6520 7072 6f6a 6563 742d 636f 6e74  eve project-cont
+000199c0: 6578 7420 7365 6372 6574 206b 6579 7320  ext secret keys 
+000199d0: 6672 6f6d 2056 6175 6c74 206f 7220 4b75  from Vault or Ku
+000199e0: 6265 726e 6574 6573 2e0a 0a20 2020 2020  bernetes...     
+000199f0: 2020 204e 6f74 653a 0a20 2020 2020 2020     Note:.       
+00019a00: 2020 2020 2020 2020 2054 6869 7320 6d65           This me
+00019a10: 7468 6f64 2066 6f72 2056 6175 6c74 2066  thod for Vault f
+00019a20: 756e 6374 696f 6e61 6c69 7479 2069 7320  unctionality is 
+00019a30: 6375 7272 656e 746c 7920 696e 2074 6563  currently in tec
+00019a40: 686e 6963 616c 2070 7265 7669 6577 2c20  hnical preview, 
+00019a50: 616e 6420 7265 7175 6972 6573 2061 2048  and requires a H
+00019a60: 6173 6869 436f 7270 2056 6175 6c74 0a20  ashiCorp Vault. 
+00019a70: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00019a80: 6e66 7261 7374 7275 6374 7572 6520 7072  nfrastructure pr
+00019a90: 6f70 6572 6c79 2073 6574 2075 7020 616e  operly set up an
+00019aa0: 6420 636f 6e6e 6563 7465 6420 746f 2074  d connected to t
+00019ab0: 6865 204d 4c52 756e 2041 5049 2073 6572  he MLRun API ser
+00019ac0: 7665 722e 0a0a 2020 2020 2020 2020 3a70  ver...        :p
+00019ad0: 6172 616d 2070 726f 6a65 6374 3a20 5468  aram project: Th
+00019ae0: 6520 7072 6f6a 6563 7420 6e61 6d65 2e0a  e project name..
+00019af0: 2020 2020 2020 2020 3a70 6172 616d 2070          :param p
+00019b00: 726f 7669 6465 723a 2054 6865 206e 616d  rovider: The nam
+00019b10: 6520 6f66 2074 6865 2073 6563 7265 7473  e of the secrets
+00019b20: 2d70 726f 7669 6465 7220 746f 2077 6f72  -provider to wor
+00019b30: 6b20 7769 7468 2e20 4163 6365 7074 7320  k with. Accepts 
+00019b40: 610a 2020 2020 2020 2020 2020 2020 3a70  a.            :p
+00019b50: 793a 636c 6173 733a 607e 6d6c 7275 6e2e  y:class:`~mlrun.
+00019b60: 636f 6d6d 6f6e 2e73 6368 656d 6173 2e73  common.schemas.s
+00019b70: 6563 7265 742e 5365 6372 6574 5072 6f76  ecret.SecretProv
+00019b80: 6964 6572 4e61 6d65 6020 656e 756d 2e0a  iderName` enum..
+00019b90: 2020 2020 2020 2020 3a70 6172 616d 2074          :param t
+00019ba0: 6f6b 656e 3a20 5661 756c 7420 746f 6b65  oken: Vault toke
+00019bb0: 6e20 746f 2075 7365 2066 6f72 2072 6574  n to use for ret
+00019bc0: 7269 6576 696e 6720 7365 6372 6574 732e  rieving secrets.
+00019bd0: 204f 6e6c 7920 696e 2075 7365 2069 6620   Only in use if 
+00019be0: 6060 7072 6f76 6964 6572 6060 2069 7320  ``provider`` is 
+00019bf0: 6060 7661 756c 7460 602e 0a20 2020 2020  ``vault``..     
+00019c00: 2020 2020 2020 204d 7573 7420 6265 2061         Must be a
+00019c10: 2076 616c 6964 2056 6175 6c74 2074 6f6b   valid Vault tok
+00019c20: 656e 2c20 7769 7468 2070 6572 6d69 7373  en, with permiss
+00019c30: 696f 6e73 2074 6f20 7265 7472 6965 7665  ions to retrieve
+00019c40: 2073 6563 7265 7473 206f 6620 7468 6520   secrets of the 
+00019c50: 7072 6f6a 6563 7420 696e 2071 7565 7374  project in quest
+00019c60: 696f 6e2e 0a20 2020 2020 2020 2022 2222  ion..        """
+00019c70: 0a0a 2020 2020 2020 2020 6966 2028 0a20  ..        if (. 
+00019c80: 2020 2020 2020 2020 2020 2070 726f 7669             provi
+00019c90: 6465 7220 3d3d 206d 6c72 756e 2e63 6f6d  der == mlrun.com
+00019ca0: 6d6f 6e2e 7363 6865 6d61 732e 5365 6372  mon.schemas.Secr
+00019cb0: 6574 5072 6f76 6964 6572 4e61 6d65 2e76  etProviderName.v
+00019cc0: 6175 6c74 2e76 616c 7565 0a20 2020 2020  ault.value.     
+00019cd0: 2020 2020 2020 2061 6e64 206e 6f74 2074         and not t
+00019ce0: 6f6b 656e 0a20 2020 2020 2020 2029 3a0a  oken.        ):.
+00019cf0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00019d00: 6520 4d4c 5275 6e49 6e76 616c 6964 4172  e MLRunInvalidAr
+00019d10: 6775 6d65 6e74 4572 726f 7228 0a20 2020  gumentError(.   
+00019d20: 2020 2020 2020 2020 2020 2020 2022 4120               "A 
+00019d30: 7661 756c 7420 746f 6b65 6e20 6d75 7374  vault token must
+00019d40: 2062 6520 7072 6f76 6964 6564 2077 6865   be provided whe
+00019d50: 6e20 6163 6365 7373 696e 6720 7661 756c  n accessing vaul
+00019d60: 7420 7365 6372 6574 7322 0a20 2020 2020  t secrets".     
+00019d70: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+00019d80: 2020 7061 7468 203d 2066 2270 726f 6a65    path = f"proje
+00019d90: 6374 732f 7b70 726f 6a65 6374 7d2f 7365  cts/{project}/se
+00019da0: 6372 6574 2d6b 6579 7322 0a20 2020 2020  cret-keys".     
+00019db0: 2020 2070 6172 616d 7320 3d20 7b22 7072     params = {"pr
+00019dc0: 6f76 6964 6572 223a 2070 726f 7669 6465  ovider": provide
+00019dd0: 727d 0a20 2020 2020 2020 2068 6561 6465  r}.        heade
+00019de0: 7273 203d 2028 0a20 2020 2020 2020 2020  rs = (.         
+00019df0: 2020 207b 6d6c 7275 6e2e 636f 6d6d 6f6e     {mlrun.common
+00019e00: 2e73 6368 656d 6173 2e48 6561 6465 724e  .schemas.HeaderN
+00019e10: 616d 6573 2e73 6563 7265 745f 7374 6f72  ames.secret_stor
+00019e20: 655f 746f 6b65 6e3a 2074 6f6b 656e 7d0a  e_token: token}.
+00019e30: 2020 2020 2020 2020 2020 2020 6966 2070              if p
+00019e40: 726f 7669 6465 7220 3d3d 206d 6c72 756e  rovider == mlrun
+00019e50: 2e63 6f6d 6d6f 6e2e 7363 6865 6d61 732e  .common.schemas.
+00019e60: 5365 6372 6574 5072 6f76 6964 6572 4e61  SecretProviderNa
+00019e70: 6d65 2e76 6175 6c74 2e76 616c 7565 0a20  me.vault.value. 
+00019e80: 2020 2020 2020 2020 2020 2065 6c73 6520             else 
+00019e90: 4e6f 6e65 0a20 2020 2020 2020 2029 0a20  None.        ). 
+00019ea0: 2020 2020 2020 2065 7272 6f72 5f6d 6573         error_mes
+00019eb0: 7361 6765 203d 2066 2246 6169 6c65 6420  sage = f"Failed 
+00019ec0: 7265 7472 6965 7669 6e67 2073 6563 7265  retrieving secre
+00019ed0: 7420 6b65 7973 207b 7072 6f6a 6563 747d  t keys {project}
+00019ee0: 2f7b 7072 6f76 6964 6572 7d22 0a20 2020  /{provider}".   
+00019ef0: 2020 2020 2072 6573 756c 7420 3d20 7365       result = se
+00019f00: 6c66 2e61 7069 5f63 616c 6c28 0a20 2020  lf.api_call(.   
+00019f10: 2020 2020 2020 2020 2022 4745 5422 2c0a           "GET",.
+00019f20: 2020 2020 2020 2020 2020 2020 7061 7468              path
+00019f30: 2c0a 2020 2020 2020 2020 2020 2020 6572  ,.            er
+00019f40: 726f 725f 6d65 7373 6167 652c 0a20 2020  ror_message,.   
+00019f50: 2020 2020 2020 2020 2070 6172 616d 733d           params=
+00019f60: 7061 7261 6d73 2c0a 2020 2020 2020 2020  params,.        
+00019f70: 2020 2020 6865 6164 6572 733d 6865 6164      headers=head
+00019f80: 6572 732c 0a20 2020 2020 2020 2029 0a20  ers,.        ). 
+00019f90: 2020 2020 2020 2072 6574 7572 6e20 6d6c         return ml
+00019fa0: 7275 6e2e 636f 6d6d 6f6e 2e73 6368 656d  run.common.schem
+00019fb0: 6173 2e53 6563 7265 744b 6579 7344 6174  as.SecretKeysDat
+00019fc0: 6128 2a2a 7265 7375 6c74 2e6a 736f 6e28  a(**result.json(
+00019fd0: 2929 0a0a 2020 2020 6465 6620 6465 6c65  ))..    def dele
+00019fe0: 7465 5f70 726f 6a65 6374 5f73 6563 7265  te_project_secre
+00019ff0: 7473 280a 2020 2020 2020 2020 7365 6c66  ts(.        self
+0001a000: 2c0a 2020 2020 2020 2020 7072 6f6a 6563  ,.        projec
+0001a010: 743a 2073 7472 2c0a 2020 2020 2020 2020  t: str,.        
+0001a020: 7072 6f76 6964 6572 3a20 556e 696f 6e5b  provider: Union[
+0001a030: 0a20 2020 2020 2020 2020 2020 2073 7472  .            str
+0001a040: 2c20 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73  , mlrun.common.s
+0001a050: 6368 656d 6173 2e53 6563 7265 7450 726f  chemas.SecretPro
+0001a060: 7669 6465 724e 616d 650a 2020 2020 2020  viderName.      
+0001a070: 2020 5d20 3d20 6d6c 7275 6e2e 636f 6d6d    ] = mlrun.comm
+0001a080: 6f6e 2e73 6368 656d 6173 2e53 6563 7265  on.schemas.Secre
+0001a090: 7450 726f 7669 6465 724e 616d 652e 6b75  tProviderName.ku
+0001a0a0: 6265 726e 6574 6573 2c0a 2020 2020 2020  bernetes,.      
+0001a0b0: 2020 7365 6372 6574 733a 204c 6973 745b    secrets: List[
+0001a0c0: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
+0001a0d0: 2029 3a0a 2020 2020 2020 2020 2222 2244   ):.        """D
+0001a0e0: 656c 6574 6520 7072 6f6a 6563 742d 636f  elete project-co
+0001a0f0: 6e74 6578 7420 7365 6372 6574 7320 6672  ntext secrets fr
+0001a100: 6f6d 204b 7562 6572 6e65 7465 732e 0a0a  om Kubernetes...
+0001a110: 2020 2020 2020 2020 3a70 6172 616d 2070          :param p
+0001a120: 726f 6a65 6374 3a20 5468 6520 7072 6f6a  roject: The proj
+0001a130: 6563 7420 6e61 6d65 2e0a 2020 2020 2020  ect name..      
+0001a140: 2020 3a70 6172 616d 2070 726f 7669 6465    :param provide
+0001a150: 723a 2054 6865 206e 616d 6520 6f66 2074  r: The name of t
+0001a160: 6865 2073 6563 7265 7473 2d70 726f 7669  he secrets-provi
+0001a170: 6465 7220 746f 2077 6f72 6b20 7769 7468  der to work with
+0001a180: 2e20 4375 7272 656e 746c 7920 6f6e 6c79  . Currently only
+0001a190: 2060 606b 7562 6572 6e65 7465 7360 6020   ``kubernetes`` 
+0001a1a0: 6973 2073 7570 706f 7274 6564 2e0a 2020  is supported..  
+0001a1b0: 2020 2020 2020 3a70 6172 616d 2073 6563        :param sec
+0001a1c0: 7265 7473 3a20 4120 6c69 7374 206f 6620  rets: A list of 
+0001a1d0: 7365 6372 6574 206e 616d 6573 2074 6f20  secret names to 
+0001a1e0: 6465 6c65 7465 2e20 416e 2065 6d70 7479  delete. An empty
+0001a1f0: 206c 6973 7420 7769 6c6c 2064 656c 6574   list will delet
+0001a200: 6520 616c 6c20 7365 6372 6574 7320 6173  e all secrets as
+0001a210: 7369 676e 6564 0a20 2020 2020 2020 2020  signed.         
+0001a220: 2020 2074 6f20 7468 6973 2073 7065 6369     to this speci
+0001a230: 6669 6320 7072 6f6a 6563 742e 0a20 2020  fic project..   
+0001a240: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
+0001a250: 2020 7061 7468 203d 2066 2270 726f 6a65    path = f"proje
+0001a260: 6374 732f 7b70 726f 6a65 6374 7d2f 7365  cts/{project}/se
+0001a270: 6372 6574 7322 0a20 2020 2020 2020 2070  crets".        p
+0001a280: 6172 616d 7320 3d20 7b22 7072 6f76 6964  arams = {"provid
+0001a290: 6572 223a 2070 726f 7669 6465 722c 2022  er": provider, "
+0001a2a0: 7365 6372 6574 223a 2073 6563 7265 7473  secret": secrets
+0001a2b0: 7d0a 2020 2020 2020 2020 6572 726f 725f  }.        error_
+0001a2c0: 6d65 7373 6167 6520 3d20 6622 4661 696c  message = f"Fail
+0001a2d0: 6564 2064 656c 6574 696e 6720 7365 6372  ed deleting secr
+0001a2e0: 6574 7320 7b70 726f 6a65 6374 7d2f 7b70  ets {project}/{p
+0001a2f0: 726f 7669 6465 727d 220a 2020 2020 2020  rovider}".      
+0001a300: 2020 7365 6c66 2e61 7069 5f63 616c 6c28    self.api_call(
+0001a310: 0a20 2020 2020 2020 2020 2020 2022 4445  .            "DE
+0001a320: 4c45 5445 222c 0a20 2020 2020 2020 2020  LETE",.         
+0001a330: 2020 2070 6174 682c 0a20 2020 2020 2020     path,.       
+0001a340: 2020 2020 2065 7272 6f72 5f6d 6573 7361       error_messa
+0001a350: 6765 2c0a 2020 2020 2020 2020 2020 2020  ge,.            
+0001a360: 7061 7261 6d73 3d70 6172 616d 732c 0a20  params=params,. 
+0001a370: 2020 2020 2020 2029 0a0a 2020 2020 6465         )..    de
+0001a380: 6620 6372 6561 7465 5f75 7365 725f 7365  f create_user_se
+0001a390: 6372 6574 7328 0a20 2020 2020 2020 2073  crets(.        s
+0001a3a0: 656c 662c 0a20 2020 2020 2020 2075 7365  elf,.        use
+0001a3b0: 723a 2073 7472 2c0a 2020 2020 2020 2020  r: str,.        
+0001a3c0: 7072 6f76 6964 6572 3a20 556e 696f 6e5b  provider: Union[
+0001a3d0: 0a20 2020 2020 2020 2020 2020 2073 7472  .            str
+0001a3e0: 2c20 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73  , mlrun.common.s
+0001a3f0: 6368 656d 6173 2e53 6563 7265 7450 726f  chemas.SecretPro
+0001a400: 7669 6465 724e 616d 650a 2020 2020 2020  viderName.      
+0001a410: 2020 5d20 3d20 6d6c 7275 6e2e 636f 6d6d    ] = mlrun.comm
+0001a420: 6f6e 2e73 6368 656d 6173 2e53 6563 7265  on.schemas.Secre
+0001a430: 7450 726f 7669 6465 724e 616d 652e 7661  tProviderName.va
+0001a440: 756c 742c 0a20 2020 2020 2020 2073 6563  ult,.        sec
+0001a450: 7265 7473 3a20 6469 6374 203d 204e 6f6e  rets: dict = Non
+0001a460: 652c 0a20 2020 2029 3a0a 2020 2020 2020  e,.    ):.      
+0001a470: 2020 2222 2243 7265 6174 6520 7573 6572    """Create user
+0001a480: 2d63 6f6e 7465 7874 2073 6563 7265 7420  -context secret 
+0001a490: 696e 2056 6175 6c74 2e20 506c 6561 7365  in Vault. Please
+0001a4a0: 2072 6566 6572 2074 6f20 3a70 793a 6675   refer to :py:fu
+0001a4b0: 6e63 3a60 6372 6561 7465 5f70 726f 6a65  nc:`create_proje
+0001a4c0: 6374 5f73 6563 7265 7473 6020 666f 7220  ct_secrets` for 
+0001a4d0: 6d6f 7265 2064 6574 6169 6c73 0a20 2020  more details.   
+0001a4e0: 2020 2020 2061 6e64 2073 7461 7475 7320       and status 
+0001a4f0: 6f66 2074 6869 7320 6675 6e63 7469 6f6e  of this function
+0001a500: 616c 6974 792e 0a0a 2020 2020 2020 2020  ality...        
+0001a510: 4e6f 7465 3a0a 2020 2020 2020 2020 2020  Note:.          
+0001a520: 2020 2020 2020 5468 6973 206d 6574 686f        This metho
+0001a530: 6420 6973 2063 7572 7265 6e74 6c79 2069  d is currently i
+0001a540: 6e20 7465 6368 6e69 6361 6c20 7072 6576  n technical prev
+0001a550: 6965 772c 2061 6e64 2072 6571 7569 7265  iew, and require
+0001a560: 7320 6120 4861 7368 6943 6f72 7020 5661  s a HashiCorp Va
+0001a570: 756c 7420 696e 6672 6173 7472 7563 7475  ult infrastructu
+0001a580: 7265 0a20 2020 2020 2020 2020 2020 2020  re.             
+0001a590: 2020 2070 726f 7065 726c 7920 7365 7420     properly set 
+0001a5a0: 7570 2061 6e64 2063 6f6e 6e65 6374 6564  up and connected
+0001a5b0: 2074 6f20 7468 6520 4d4c 5275 6e20 4150   to the MLRun AP
+0001a5c0: 4920 7365 7276 6572 2e0a 0a20 2020 2020  I server...     
+0001a5d0: 2020 203a 7061 7261 6d20 7573 6572 3a20     :param user: 
+0001a5e0: 5468 6520 7573 6572 2063 6f6e 7465 7874  The user context
+0001a5f0: 2066 6f72 2077 6869 6368 2074 6f20 6765   for which to ge
+0001a600: 6e65 7261 7465 2074 6865 2069 6e66 7261  nerate the infra
+0001a610: 2061 6e64 2073 746f 7265 2073 6563 7265   and store secre
+0001a620: 7473 2e0a 2020 2020 2020 2020 3a70 6172  ts..        :par
+0001a630: 616d 2070 726f 7669 6465 723a 2054 6865  am provider: The
+0001a640: 206e 616d 6520 6f66 2074 6865 2073 6563   name of the sec
+0001a650: 7265 7473 2d70 726f 7669 6465 7220 746f  rets-provider to
+0001a660: 2077 6f72 6b20 7769 7468 2e20 4375 7272   work with. Curr
+0001a670: 656e 746c 7920 6f6e 6c79 2060 6076 6175  ently only ``vau
+0001a680: 6c74 6060 2069 7320 7375 7070 6f72 7465  lt`` is supporte
+0001a690: 642e 0a20 2020 2020 2020 203a 7061 7261  d..        :para
+0001a6a0: 6d20 7365 6372 6574 733a 2041 2073 6574  m secrets: A set
+0001a6b0: 206f 6620 7365 6372 6574 2076 616c 7565   of secret value
+0001a6c0: 7320 746f 2073 746f 7265 2077 6974 6869  s to store withi
+0001a6d0: 6e20 7468 6520 5661 756c 742e 0a20 2020  n the Vault..   
+0001a6e0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001a6f0: 2070 6174 6820 3d20 2275 7365 722d 7365   path = "user-se
+0001a700: 6372 6574 7322 0a20 2020 2020 2020 2073  crets".        s
+0001a710: 6563 7265 7473 5f63 7265 6174 696f 6e5f  ecrets_creation_
+0001a720: 7265 7175 6573 7420 3d20 6d6c 7275 6e2e  request = mlrun.
+0001a730: 636f 6d6d 6f6e 2e73 6368 656d 6173 2e55  common.schemas.U
+0001a740: 7365 7253 6563 7265 7443 7265 6174 696f  serSecretCreatio
+0001a750: 6e52 6571 7565 7374 280a 2020 2020 2020  nRequest(.      
+0001a760: 2020 2020 2020 7573 6572 3d75 7365 722c        user=user,
+0001a770: 0a20 2020 2020 2020 2020 2020 2070 726f  .            pro
+0001a780: 7669 6465 723d 7072 6f76 6964 6572 2c0a  vider=provider,.
+0001a790: 2020 2020 2020 2020 2020 2020 7365 6372              secr
+0001a7a0: 6574 733d 7365 6372 6574 732c 0a20 2020  ets=secrets,.   
+0001a7b0: 2020 2020 2029 0a20 2020 2020 2020 2062       ).        b
+0001a7c0: 6f64 7920 3d20 7365 6372 6574 735f 6372  ody = secrets_cr
+0001a7d0: 6561 7469 6f6e 5f72 6571 7565 7374 2e64  eation_request.d
+0001a7e0: 6963 7428 290a 2020 2020 2020 2020 6572  ict().        er
+0001a7f0: 726f 725f 6d65 7373 6167 6520 3d20 6622  ror_message = f"
+0001a800: 4661 696c 6564 2063 7265 6174 696e 6720  Failed creating 
+0001a810: 7573 6572 2073 6563 7265 7473 202d 207b  user secrets - {
+0001a820: 7573 6572 7d22 0a20 2020 2020 2020 2073  user}".        s
+0001a830: 656c 662e 6170 695f 6361 6c6c 280a 2020  elf.api_call(.  
+0001a840: 2020 2020 2020 2020 2020 2250 4f53 5422            "POST"
+0001a850: 2c0a 2020 2020 2020 2020 2020 2020 7061  ,.            pa
+0001a860: 7468 2c0a 2020 2020 2020 2020 2020 2020  th,.            
+0001a870: 6572 726f 725f 6d65 7373 6167 652c 0a20  error_message,. 
+0001a880: 2020 2020 2020 2020 2020 2062 6f64 793d             body=
+0001a890: 6469 6374 5f74 6f5f 6a73 6f6e 2862 6f64  dict_to_json(bod
+0001a8a0: 7929 2c0a 2020 2020 2020 2020 290a 0a20  y),.        ).. 
+0001a8b0: 2020 2040 7374 6174 6963 6d65 7468 6f64     @staticmethod
+0001a8c0: 0a20 2020 2064 6566 205f 7661 6c69 6461  .    def _valida
+0001a8d0: 7465 5f76 6572 7369 6f6e 5f63 6f6d 7061  te_version_compa
+0001a8e0: 7469 6269 6c69 7479 2873 6572 7665 725f  tibility(server_
+0001a8f0: 7665 7273 696f 6e2c 2063 6c69 656e 745f  version, client_
+0001a900: 7665 7273 696f 6e29 202d 3e20 626f 6f6c  version) -> bool
+0001a910: 3a0a 2020 2020 2020 2020 7472 793a 0a20  :.        try:. 
+0001a920: 2020 2020 2020 2020 2020 2070 6172 7365             parse
+0001a930: 645f 7365 7276 6572 5f76 6572 7369 6f6e  d_server_version
+0001a940: 203d 2073 656d 7665 722e 5665 7273 696f   = semver.Versio
+0001a950: 6e49 6e66 6f2e 7061 7273 6528 7365 7276  nInfo.parse(serv
+0001a960: 6572 5f76 6572 7369 6f6e 290a 2020 2020  er_version).    
+0001a970: 2020 2020 2020 2020 7061 7273 6564 5f63          parsed_c
+0001a980: 6c69 656e 745f 7665 7273 696f 6e20 3d20  lient_version = 
+0001a990: 7365 6d76 6572 2e56 6572 7369 6f6e 496e  semver.VersionIn
+0001a9a0: 666f 2e70 6172 7365 2863 6c69 656e 745f  fo.parse(client_
+0001a9b0: 7665 7273 696f 6e29 0a20 2020 2020 2020  version).       
+0001a9c0: 2065 7863 6570 7420 5661 6c75 6545 7272   except ValueErr
+0001a9d0: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
+0001a9e0: 2320 5468 6973 2077 696c 6c20 6d6f 7374  # This will most
+0001a9f0: 6c79 2068 6170 7065 6e20 696e 2064 6576  ly happen in dev
+0001aa00: 2073 6365 6e61 7269 6f73 2077 6865 6e20   scenarios when 
+0001aa10: 7468 6520 7665 7273 696f 6e20 6973 2075  the version is u
+0001aa20: 6e73 7461 626c 6520 616e 6420 7375 6368  nstable and such
+0001aa30: 202d 2074 6865 7265 666f 7265 2077 6527   - therefore we'
+0001aa40: 7265 2069 676e 6f72 696e 670a 2020 2020  re ignoring.    
+0001aa50: 2020 2020 2020 2020 6c6f 6767 6572 2e77          logger.w
+0001aa60: 6172 6e69 6e67 280a 2020 2020 2020 2020  arning(.        
+0001aa70: 2020 2020 2020 2020 2255 6e61 626c 6520          "Unable 
+0001aa80: 746f 2070 6172 7365 2073 6572 7665 7220  to parse server 
+0001aa90: 6f72 2063 6c69 656e 7420 7665 7273 696f  or client versio
+0001aaa0: 6e2e 2041 7373 756d 696e 6720 636f 6d70  n. Assuming comp
+0001aab0: 6174 6962 6c65 222c 0a20 2020 2020 2020  atible",.       
+0001aac0: 2020 2020 2020 2020 2073 6572 7665 725f           server_
+0001aad0: 7665 7273 696f 6e3d 7365 7276 6572 5f76  version=server_v
+0001aae0: 6572 7369 6f6e 2c0a 2020 2020 2020 2020  ersion,.        
+0001aaf0: 2020 2020 2020 2020 636c 6965 6e74 5f76          client_v
+0001ab00: 6572 7369 6f6e 3d63 6c69 656e 745f 7665  ersion=client_ve
+0001ab10: 7273 696f 6e2c 0a20 2020 2020 2020 2020  rsion,.         
+0001ab20: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+0001ab30: 2072 6574 7572 6e20 5472 7565 0a20 2020   return True.   
+0001ab40: 2020 2020 2069 6620 2870 6172 7365 645f       if (parsed_
+0001ab50: 7365 7276 6572 5f76 6572 7369 6f6e 2e6d  server_version.m
+0001ab60: 616a 6f72 203d 3d20 3020 616e 6420 7061  ajor == 0 and pa
+0001ab70: 7273 6564 5f73 6572 7665 725f 7665 7273  rsed_server_vers
+0001ab80: 696f 6e2e 6d69 6e6f 7220 3d3d 2030 2920  ion.minor == 0) 
+0001ab90: 6f72 2028 0a20 2020 2020 2020 2020 2020  or (.           
+0001aba0: 2070 6172 7365 645f 636c 6965 6e74 5f76   parsed_client_v
+0001abb0: 6572 7369 6f6e 2e6d 616a 6f72 203d 3d20  ersion.major == 
+0001abc0: 3020 616e 6420 7061 7273 6564 5f63 6c69  0 and parsed_cli
+0001abd0: 656e 745f 7665 7273 696f 6e2e 6d69 6e6f  ent_version.mino
+0001abe0: 7220 3d3d 2030 0a20 2020 2020 2020 2029  r == 0.        )
+0001abf0: 3a0a 2020 2020 2020 2020 2020 2020 6c6f  :.            lo
+0001ac00: 6767 6572 2e77 6172 6e69 6e67 280a 2020  gger.warning(.  
+0001ac10: 2020 2020 2020 2020 2020 2020 2020 2253                "S
+0001ac20: 6572 7665 7220 6f72 2063 6c69 656e 7420  erver or client 
+0001ac30: 7665 7273 696f 6e20 6973 2075 6e73 7461  version is unsta
+0001ac40: 626c 652e 2041 7373 756d 696e 6720 636f  ble. Assuming co
+0001ac50: 6d70 6174 6962 6c65 222c 0a20 2020 2020  mpatible",.     
+0001ac60: 2020 2020 2020 2020 2020 2073 6572 7665             serve
+0001ac70: 725f 7665 7273 696f 6e3d 7365 7276 6572  r_version=server
+0001ac80: 5f76 6572 7369 6f6e 2c0a 2020 2020 2020  _version,.      
+0001ac90: 2020 2020 2020 2020 2020 636c 6965 6e74            client
+0001aca0: 5f76 6572 7369 6f6e 3d63 6c69 656e 745f  _version=client_
+0001acb0: 7665 7273 696f 6e2c 0a20 2020 2020 2020  version,.       
+0001acc0: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+0001acd0: 2020 2072 6574 7572 6e20 5472 7565 0a20     return True. 
+0001ace0: 2020 2020 2020 2069 6620 7061 7273 6564         if parsed
+0001acf0: 5f73 6572 7665 725f 7665 7273 696f 6e2e  _server_version.
+0001ad00: 6d61 6a6f 7220 213d 2070 6172 7365 645f  major != parsed_
+0001ad10: 636c 6965 6e74 5f76 6572 7369 6f6e 2e6d  client_version.m
+0001ad20: 616a 6f72 3a0a 2020 2020 2020 2020 2020  ajor:.          
+0001ad30: 2020 6c6f 6767 6572 2e77 6172 6e69 6e67    logger.warning
+0001ad40: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0001ad50: 2020 2253 6572 7665 7220 616e 6420 636c    "Server and cl
+0001ad60: 6965 6e74 2076 6572 7369 6f6e 7320 6172  ient versions ar
+0001ad70: 6520 696e 636f 6d70 6174 6962 6c65 222c  e incompatible",
+0001ad80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ad90: 2070 6172 7365 645f 7365 7276 6572 5f76   parsed_server_v
+0001ada0: 6572 7369 6f6e 3d70 6172 7365 645f 7365  ersion=parsed_se
+0001adb0: 7276 6572 5f76 6572 7369 6f6e 2c0a 2020  rver_version,.  
+0001adc0: 2020 2020 2020 2020 2020 2020 2020 7061                pa
+0001add0: 7273 6564 5f63 6c69 656e 745f 7665 7273  rsed_client_vers
+0001ade0: 696f 6e3d 7061 7273 6564 5f63 6c69 656e  ion=parsed_clien
+0001adf0: 745f 7665 7273 696f 6e2c 0a20 2020 2020  t_version,.     
+0001ae00: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+0001ae10: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
+0001ae20: 650a 2020 2020 2020 2020 6966 2070 6172  e.        if par
+0001ae30: 7365 645f 7365 7276 6572 5f76 6572 7369  sed_server_versi
+0001ae40: 6f6e 2e6d 696e 6f72 203e 2070 6172 7365  on.minor > parse
+0001ae50: 645f 636c 6965 6e74 5f76 6572 7369 6f6e  d_client_version
+0001ae60: 2e6d 696e 6f72 202b 2032 3a0a 2020 2020  .minor + 2:.    
+0001ae70: 2020 2020 2020 2020 6c6f 6767 6572 2e69          logger.i
+0001ae80: 6e66 6f28 0a20 2020 2020 2020 2020 2020  nfo(.           
+0001ae90: 2020 2020 2022 4261 636b 7761 7264 7320       "Backwards 
+0001aea0: 636f 6d70 6174 6962 696c 6974 7920 6d69  compatibility mi
+0001aeb0: 6768 7420 6e6f 7420 6170 706c 7920 6265  ght not apply be
+0001aec0: 7477 6565 6e20 7468 6520 7365 7276 6572  tween the server
+0001aed0: 2061 6e64 2063 6c69 656e 7420 7665 7273   and client vers
+0001aee0: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
+0001aef0: 2020 2020 2020 7061 7273 6564 5f73 6572        parsed_ser
+0001af00: 7665 725f 7665 7273 696f 6e3d 7061 7273  ver_version=pars
+0001af10: 6564 5f73 6572 7665 725f 7665 7273 696f  ed_server_versio
+0001af20: 6e2c 0a20 2020 2020 2020 2020 2020 2020  n,.             
+0001af30: 2020 2070 6172 7365 645f 636c 6965 6e74     parsed_client
+0001af40: 5f76 6572 7369 6f6e 3d70 6172 7365 645f  _version=parsed_
+0001af50: 636c 6965 6e74 5f76 6572 7369 6f6e 2c0a  client_version,.
+0001af60: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+0001af70: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001af80: 2046 616c 7365 0a20 2020 2020 2020 2069   False.        i
+0001af90: 6620 7061 7273 6564 5f63 6c69 656e 745f  f parsed_client_
+0001afa0: 7665 7273 696f 6e2e 6d69 6e6f 7220 3e20  version.minor > 
+0001afb0: 7061 7273 6564 5f73 6572 7665 725f 7665  parsed_server_ve
+0001afc0: 7273 696f 6e2e 6d69 6e6f 723a 0a20 2020  rsion.minor:.   
+0001afd0: 2020 2020 2020 2020 206c 6f67 6765 722e           logger.
+0001afe0: 7761 726e 696e 6728 0a20 2020 2020 2020  warning(.       
+0001aff0: 2020 2020 2020 2020 2022 436c 6965 6e74           "Client
+0001b000: 2076 6572 7369 6f6e 2077 6974 6820 6869   version with hi
+0001b010: 6768 6572 2076 6572 7369 6f6e 2074 6861  gher version tha
+0001b020: 6e20 7365 7276 6572 2076 6572 7369 6f6e  n server version
+0001b030: 2069 736e 2774 2073 7570 706f 7274 6564   isn't supported
+0001b040: 2c22 0a20 2020 2020 2020 2020 2020 2020  ,".             
+0001b050: 2020 2022 2061 6c69 676e 2079 6f75 7220     " align your 
+0001b060: 636c 6965 6e74 2074 6f20 7468 6520 7365  client to the se
+0001b070: 7276 6572 2076 6572 7369 6f6e 222c 0a20  rver version",. 
+0001b080: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0001b090: 6172 7365 645f 7365 7276 6572 5f76 6572  arsed_server_ver
+0001b0a0: 7369 6f6e 3d70 6172 7365 645f 7365 7276  sion=parsed_serv
+0001b0b0: 6572 5f76 6572 7369 6f6e 2c0a 2020 2020  er_version,.    
+0001b0c0: 2020 2020 2020 2020 2020 2020 7061 7273              pars
+0001b0d0: 6564 5f63 6c69 656e 745f 7665 7273 696f  ed_client_versio
+0001b0e0: 6e3d 7061 7273 6564 5f63 6c69 656e 745f  n=parsed_client_
+0001b0f0: 7665 7273 696f 6e2c 0a20 2020 2020 2020  version,.       
+0001b100: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+0001b110: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
+0001b120: 2020 2020 2020 2020 6966 2070 6172 7365          if parse
+0001b130: 645f 7365 7276 6572 5f76 6572 7369 6f6e  d_server_version
+0001b140: 2e6d 696e 6f72 2021 3d20 7061 7273 6564  .minor != parsed
+0001b150: 5f63 6c69 656e 745f 7665 7273 696f 6e2e  _client_version.
+0001b160: 6d69 6e6f 723a 0a20 2020 2020 2020 2020  minor:.         
+0001b170: 2020 206c 6f67 6765 722e 696e 666f 280a     logger.info(.
+0001b180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b190: 2253 6572 7665 7220 616e 6420 636c 6965  "Server and clie
+0001b1a0: 6e74 2076 6572 7369 6f6e 7320 6172 6520  nt versions are 
+0001b1b0: 6e6f 7420 7468 6520 7361 6d65 2062 7574  not the same but
+0001b1c0: 2063 6f6d 7061 7469 626c 6522 2c0a 2020   compatible",.  
+0001b1d0: 2020 2020 2020 2020 2020 2020 2020 7061                pa
+0001b1e0: 7273 6564 5f73 6572 7665 725f 7665 7273  rsed_server_vers
+0001b1f0: 696f 6e3d 7061 7273 6564 5f73 6572 7665  ion=parsed_serve
+0001b200: 725f 7665 7273 696f 6e2c 0a20 2020 2020  r_version,.     
+0001b210: 2020 2020 2020 2020 2020 2070 6172 7365             parse
+0001b220: 645f 636c 6965 6e74 5f76 6572 7369 6f6e  d_client_version
+0001b230: 3d70 6172 7365 645f 636c 6965 6e74 5f76  =parsed_client_v
+0001b240: 6572 7369 6f6e 2c0a 2020 2020 2020 2020  ersion,.        
+0001b250: 2020 2020 290a 2020 2020 2020 2020 7265      ).        re
+0001b260: 7475 726e 2054 7275 650a 0a20 2020 2064  turn True..    d
+0001b270: 6566 2063 7265 6174 655f 6d6f 6465 6c5f  ef create_model_
+0001b280: 656e 6470 6f69 6e74 280a 2020 2020 2020  endpoint(.      
+0001b290: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+0001b2a0: 7072 6f6a 6563 743a 2073 7472 2c0a 2020  project: str,.  
+0001b2b0: 2020 2020 2020 656e 6470 6f69 6e74 5f69        endpoint_i
+0001b2c0: 643a 2073 7472 2c0a 2020 2020 2020 2020  d: str,.        
+0001b2d0: 6d6f 6465 6c5f 656e 6470 6f69 6e74 3a20  model_endpoint: 
+0001b2e0: 556e 696f 6e5b 0a20 2020 2020 2020 2020  Union[.         
+0001b2f0: 2020 206d 6c72 756e 2e6d 6f64 656c 5f6d     mlrun.model_m
+0001b300: 6f6e 6974 6f72 696e 672e 6d6f 6465 6c5f  onitoring.model_
+0001b310: 656e 6470 6f69 6e74 2e4d 6f64 656c 456e  endpoint.ModelEn
+0001b320: 6470 6f69 6e74 2c20 6469 6374 0a20 2020  dpoint, dict.   
+0001b330: 2020 2020 205d 2c0a 2020 2020 293a 0a20       ],.    ):. 
+0001b340: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001b350: 2020 2043 7265 6174 6573 2061 2044 4220     Creates a DB 
+0001b360: 7265 636f 7264 2077 6974 6820 7468 6520  record with the 
+0001b370: 6769 7665 6e20 6d6f 6465 6c5f 656e 6470  given model_endp
+0001b380: 6f69 6e74 2072 6563 6f72 642e 0a0a 2020  oint record...  
+0001b390: 2020 2020 2020 3a70 6172 616d 2070 726f        :param pro
+0001b3a0: 6a65 6374 3a20 5468 6520 6e61 6d65 206f  ject: The name o
+0001b3b0: 6620 7468 6520 7072 6f6a 6563 742e 0a20  f the project.. 
+0001b3c0: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
+0001b3d0: 6470 6f69 6e74 5f69 643a 2054 6865 2069  dpoint_id: The i
+0001b3e0: 6420 6f66 2074 6865 2065 6e64 706f 696e  d of the endpoin
+0001b3f0: 742e 0a20 2020 2020 2020 203a 7061 7261  t..        :para
+0001b400: 6d20 6d6f 6465 6c5f 656e 6470 6f69 6e74  m model_endpoint
+0001b410: 3a20 416e 206f 626a 6563 7420 7265 7072  : An object repr
+0001b420: 6573 656e 7469 6e67 2074 6865 206d 6f64  esenting the mod
+0001b430: 656c 2065 6e64 706f 696e 742e 0a20 2020  el endpoint..   
+0001b440: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
+0001b450: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+0001b460: 0a20 2020 2020 2020 2020 2020 206d 6f64  .            mod
+0001b470: 656c 5f65 6e64 706f 696e 742c 206d 6c72  el_endpoint, mlr
+0001b480: 756e 2e6d 6f64 656c 5f6d 6f6e 6974 6f72  un.model_monitor
+0001b490: 696e 672e 6d6f 6465 6c5f 656e 6470 6f69  ing.model_endpoi
+0001b4a0: 6e74 2e4d 6f64 656c 456e 6470 6f69 6e74  nt.ModelEndpoint
+0001b4b0: 0a20 2020 2020 2020 2029 3a0a 2020 2020  .        ):.    
+0001b4c0: 2020 2020 2020 2020 6d6f 6465 6c5f 656e          model_en
+0001b4d0: 6470 6f69 6e74 203d 206d 6f64 656c 5f65  dpoint = model_e
+0001b4e0: 6e64 706f 696e 742e 746f 5f64 6963 7428  ndpoint.to_dict(
+0001b4f0: 290a 0a20 2020 2020 2020 2070 6174 6820  )..        path 
+0001b500: 3d20 6622 7072 6f6a 6563 7473 2f7b 7072  = f"projects/{pr
+0001b510: 6f6a 6563 747d 2f6d 6f64 656c 2d65 6e64  oject}/model-end
+0001b520: 706f 696e 7473 2f7b 656e 6470 6f69 6e74  points/{endpoint
+0001b530: 5f69 647d 220a 2020 2020 2020 2020 7365  _id}".        se
+0001b540: 6c66 2e61 7069 5f63 616c 6c28 0a20 2020  lf.api_call(.   
+0001b550: 2020 2020 2020 2020 206d 6574 686f 643d           method=
+0001b560: 2250 4f53 5422 2c0a 2020 2020 2020 2020  "POST",.        
+0001b570: 2020 2020 7061 7468 3d70 6174 682c 0a20      path=path,. 
+0001b580: 2020 2020 2020 2020 2020 2062 6f64 793d             body=
+0001b590: 6469 6374 5f74 6f5f 6a73 6f6e 286d 6f64  dict_to_json(mod
+0001b5a0: 656c 5f65 6e64 706f 696e 7429 2c0a 2020  el_endpoint),.  
+0001b5b0: 2020 2020 2020 290a 0a20 2020 2064 6566        )..    def
+0001b5c0: 2064 656c 6574 655f 6d6f 6465 6c5f 656e   delete_model_en
+0001b5d0: 6470 6f69 6e74 280a 2020 2020 2020 2020  dpoint(.        
+0001b5e0: 7365 6c66 2c0a 2020 2020 2020 2020 7072  self,.        pr
+0001b5f0: 6f6a 6563 743a 2073 7472 2c0a 2020 2020  oject: str,.    
+0001b600: 2020 2020 656e 6470 6f69 6e74 5f69 643a      endpoint_id:
+0001b610: 2073 7472 2c0a 2020 2020 293a 0a20 2020   str,.    ):.   
+0001b620: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001b630: 2044 656c 6574 6573 2074 6865 2044 4220   Deletes the DB 
+0001b640: 7265 636f 7264 206f 6620 6120 6769 7665  record of a give
+0001b650: 6e20 6d6f 6465 6c20 656e 6470 6f69 6e74  n model endpoint
+0001b660: 2c20 7072 6f6a 6563 7420 616e 6420 656e  , project and en
+0001b670: 6470 6f69 6e74 5f69 6420 6172 6520 7573  dpoint_id are us
+0001b680: 6564 2066 6f72 206c 6f6f 6b75 700a 0a20  ed for lookup.. 
+0001b690: 2020 2020 2020 203a 7061 7261 6d20 7072         :param pr
+0001b6a0: 6f6a 6563 743a 2054 6865 206e 616d 6520  oject: The name 
+0001b6b0: 6f66 2074 6865 2070 726f 6a65 6374 0a20  of the project. 
+0001b6c0: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
+0001b6d0: 6470 6f69 6e74 5f69 643a 2054 6865 2069  dpoint_id: The i
+0001b6e0: 6420 6f66 2074 6865 2065 6e64 706f 696e  d of the endpoin
+0001b6f0: 740a 2020 2020 2020 2020 2222 220a 0a20  t.        """.. 
+0001b700: 2020 2020 2020 2070 6174 6820 3d20 6622         path = f"
+0001b710: 7072 6f6a 6563 7473 2f7b 7072 6f6a 6563  projects/{projec
+0001b720: 747d 2f6d 6f64 656c 2d65 6e64 706f 696e  t}/model-endpoin
+0001b730: 7473 2f7b 656e 6470 6f69 6e74 5f69 647d  ts/{endpoint_id}
+0001b740: 220a 2020 2020 2020 2020 7365 6c66 2e61  ".        self.a
+0001b750: 7069 5f63 616c 6c28 0a20 2020 2020 2020  pi_call(.       
+0001b760: 2020 2020 206d 6574 686f 643d 2244 454c       method="DEL
+0001b770: 4554 4522 2c0a 2020 2020 2020 2020 2020  ETE",.          
+0001b780: 2020 7061 7468 3d70 6174 682c 0a20 2020    path=path,.   
+0001b790: 2020 2020 2029 0a0a 2020 2020 6465 6620       )..    def 
+0001b7a0: 6c69 7374 5f6d 6f64 656c 5f65 6e64 706f  list_model_endpo
+0001b7b0: 696e 7473 280a 2020 2020 2020 2020 7365  ints(.        se
+0001b7c0: 6c66 2c0a 2020 2020 2020 2020 7072 6f6a  lf,.        proj
+0001b7d0: 6563 743a 2073 7472 2c0a 2020 2020 2020  ect: str,.      
+0001b7e0: 2020 6d6f 6465 6c3a 204f 7074 696f 6e61    model: Optiona
+0001b7f0: 6c5b 7374 725d 203d 204e 6f6e 652c 0a20  l[str] = None,. 
+0001b800: 2020 2020 2020 2066 756e 6374 696f 6e3a         function:
+0001b810: 204f 7074 696f 6e61 6c5b 7374 725d 203d   Optional[str] =
+0001b820: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
+0001b830: 6162 656c 733a 204c 6973 745b 7374 725d  abels: List[str]
+0001b840: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0001b850: 2073 7461 7274 3a20 7374 7220 3d20 226e   start: str = "n
+0001b860: 6f77 2d31 6822 2c0a 2020 2020 2020 2020  ow-1h",.        
+0001b870: 656e 643a 2073 7472 203d 2022 6e6f 7722  end: str = "now"
+0001b880: 2c0a 2020 2020 2020 2020 6d65 7472 6963  ,.        metric
+0001b890: 733a 204f 7074 696f 6e61 6c5b 4c69 7374  s: Optional[List
+0001b8a0: 5b73 7472 5d5d 203d 204e 6f6e 652c 0a20  [str]] = None,. 
+0001b8b0: 2020 2020 2020 2074 6f70 5f6c 6576 656c         top_level
+0001b8c0: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
+0001b8d0: 2020 2020 2020 2020 7569 6473 3a20 4f70          uids: Op
+0001b8e0: 7469 6f6e 616c 5b4c 6973 745b 7374 725d  tional[List[str]
+0001b8f0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2920  ] = None,.    ) 
+0001b900: 2d3e 204c 6973 745b 6d6c 7275 6e2e 6d6f  -> List[mlrun.mo
+0001b910: 6465 6c5f 6d6f 6e69 746f 7269 6e67 2e6d  del_monitoring.m
+0001b920: 6f64 656c 5f65 6e64 706f 696e 742e 4d6f  odel_endpoint.Mo
+0001b930: 6465 6c45 6e64 706f 696e 745d 3a0a 2020  delEndpoint]:.  
+0001b940: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0001b950: 2020 5265 7475 726e 7320 6120 6c69 7374    Returns a list
+0001b960: 206f 6620 604d 6f64 656c 456e 6470 6f69   of `ModelEndpoi
+0001b970: 6e74 6020 6f62 6a65 6374 732e 2045 6163  nt` objects. Eac
+0001b980: 6820 604d 6f64 656c 456e 6470 6f69 6e74  h `ModelEndpoint
+0001b990: 6020 6f62 6a65 6374 2072 6570 7265 7365  ` object represe
+0001b9a0: 6e74 7320 7468 6520 6375 7272 656e 7420  nts the current 
+0001b9b0: 7374 6174 6520 6f66 2061 0a20 2020 2020  state of a.     
+0001b9c0: 2020 206d 6f64 656c 2065 6e64 706f 696e     model endpoin
+0001b9d0: 742e 2054 6869 7320 6675 6e63 7469 6f6e  t. This function
+0001b9e0: 7320 7375 7070 6f72 7473 2066 696c 7465  s supports filte
+0001b9f0: 7269 6e67 2062 7920 7468 6520 666f 6c6c  ring by the foll
+0001ba00: 6f77 696e 6720 7061 7261 6d65 7465 7273  owing parameters
+0001ba10: 3a0a 2020 2020 2020 2020 3129 206d 6f64  :.        1) mod
+0001ba20: 656c 0a20 2020 2020 2020 2032 2920 6675  el.        2) fu
+0001ba30: 6e63 7469 6f6e 0a20 2020 2020 2020 2033  nction.        3
+0001ba40: 2920 6c61 6265 6c73 0a20 2020 2020 2020  ) labels.       
+0001ba50: 2034 2920 746f 7020 6c65 7665 6c0a 2020   4) top level.  
+0001ba60: 2020 2020 2020 3529 2075 6964 730a 2020        5) uids.  
+0001ba70: 2020 2020 2020 4279 2064 6566 6175 6c74        By default
+0001ba80: 2c20 7768 656e 206e 6f20 6669 6c74 6572  , when no filter
+0001ba90: 7320 6172 6520 6170 706c 6965 642c 2061  s are applied, a
+0001baa0: 6c6c 2061 7661 696c 6162 6c65 2065 6e64  ll available end
+0001bab0: 706f 696e 7473 2066 6f72 2074 6865 2067  points for the g
+0001bac0: 6976 656e 2070 726f 6a65 6374 2077 696c  iven project wil
+0001bad0: 6c20 6265 206c 6973 7465 642e 0a0a 2020  l be listed...  
+0001bae0: 2020 2020 2020 496e 2061 6464 6974 696f        In additio
+0001baf0: 6e2c 2074 6869 7320 6675 6e63 7469 6f6e  n, this function
+0001bb00: 7320 7072 6f76 6964 6573 2061 2066 6163  s provides a fac
+0001bb10: 6164 6520 666f 7220 6c69 7374 696e 6720  ade for listing 
+0001bb20: 656e 6470 6f69 6e74 2072 656c 6174 6564  endpoint related
+0001bb30: 206d 6574 7269 6373 2e20 5468 6973 2066   metrics. This f
+0001bb40: 6163 6164 6520 6973 2074 696d 652d 6261  acade is time-ba
+0001bb50: 7365 640a 2020 2020 2020 2020 616e 6420  sed.        and 
+0001bb60: 6465 7065 6e64 7320 6f6e 2074 6865 2027  depends on the '
+0001bb70: 7374 6172 7427 2061 6e64 2027 656e 6427  start' and 'end'
+0001bb80: 2070 6172 616d 6574 6572 732e 2042 7920   parameters. By 
+0001bb90: 6465 6661 756c 742c 2077 6865 6e20 7468  default, when th
+0001bba0: 6520 6d65 7472 6963 7320 7061 7261 6d65  e metrics parame
+0001bbb0: 7465 7220 6973 204e 6f6e 652c 206e 6f20  ter is None, no 
+0001bbc0: 6d65 7472 6963 7320 6172 650a 2020 2020  metrics are.    
+0001bbd0: 2020 2020 6164 6465 6420 746f 2074 6865      added to the
+0001bbe0: 206f 7574 7075 7420 6f66 2074 6869 7320   output of this 
+0001bbf0: 6675 6e63 7469 6f6e 2e0a 0a20 2020 2020  function...     
+0001bc00: 2020 203a 7061 7261 6d20 7072 6f6a 6563     :param projec
+0001bc10: 743a 2054 6865 206e 616d 6520 6f66 2074  t: The name of t
+0001bc20: 6865 2070 726f 6a65 6374 0a20 2020 2020  he project.     
+0001bc30: 2020 203a 7061 7261 6d20 6d6f 6465 6c3a     :param model:
+0001bc40: 2054 6865 206e 616d 6520 6f66 2074 6865   The name of the
+0001bc50: 206d 6f64 656c 2074 6f20 6669 6c74 6572   model to filter
+0001bc60: 2062 790a 2020 2020 2020 2020 3a70 6172   by.        :par
+0001bc70: 616d 2066 756e 6374 696f 6e3a 2054 6865  am function: The
+0001bc80: 206e 616d 6520 6f66 2074 6865 2066 756e   name of the fun
+0001bc90: 6374 696f 6e20 746f 2066 696c 7465 7220  ction to filter 
+0001bca0: 6279 0a20 2020 2020 2020 203a 7061 7261  by.        :para
+0001bcb0: 6d20 6c61 6265 6c73 3a20 4120 6c69 7374  m labels: A list
+0001bcc0: 206f 6620 6c61 6265 6c73 2074 6f20 6669   of labels to fi
+0001bcd0: 6c74 6572 2062 792e 204c 6162 656c 2066  lter by. Label f
+0001bce0: 696c 7465 7273 2077 6f72 6b20 6279 2065  ilters work by e
+0001bcf0: 6974 6865 7220 6669 6c74 6572 696e 6720  ither filtering 
+0001bd00: 6120 7370 6563 6966 6963 2076 616c 7565  a specific value
+0001bd10: 206f 6620 610a 2020 2020 2020 2020 206c   of a.         l
+0001bd20: 6162 656c 2028 692e 652e 206c 6973 7428  abel (i.e. list(
+0001bd30: 226b 6579 3d76 616c 7565 2229 2920 6f72  "key=value")) or
+0001bd40: 2062 7920 6c6f 6f6b 696e 6720 666f 7220   by looking for 
+0001bd50: 7468 6520 6578 6973 7465 6e63 6520 6f66  the existence of
+0001bd60: 2061 2067 6976 656e 206b 6579 2028 692e   a given key (i.
+0001bd70: 652e 2022 6b65 7922 290a 2020 2020 2020  e. "key").      
+0001bd80: 2020 3a70 6172 616d 206d 6574 7269 6373    :param metrics
+0001bd90: 3a20 4120 6c69 7374 206f 6620 6d65 7472  : A list of metr
+0001bda0: 6963 7320 746f 2072 6574 7572 6e20 666f  ics to return fo
+0001bdb0: 7220 6561 6368 2065 6e64 706f 696e 742c  r each endpoint,
+0001bdc0: 2072 6561 6420 6d6f 7265 2069 6e20 2754   read more in 'T
+0001bdd0: 696d 654d 6574 7269 6327 0a20 2020 2020  imeMetric'.     
+0001bde0: 2020 203a 7061 7261 6d20 7374 6172 743a     :param start:
+0001bdf0: 2054 6865 2073 7461 7274 2074 696d 6520   The start time 
+0001be00: 6f66 2074 6865 206d 6574 7269 6373 2e20  of the metrics. 
+0001be10: 4361 6e20 6265 2072 6570 7265 7365 6e74  Can be represent
+0001be20: 6564 2062 7920 6120 7374 7269 6e67 2063  ed by a string c
+0001be30: 6f6e 7461 696e 696e 6720 616e 2052 4643  ontaining an RFC
+0001be40: 2033 3333 390a 2020 2020 2020 2020 2020   3339.          
 0001be50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001be60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001be70: 2074 696d 652c 2061 2055 6e69 7820 7469   time, a Unix ti
-0001be80: 6d65 7374 616d 7020 696e 206d 696c 6c69  mestamp in milli
-0001be90: 7365 636f 6e64 732c 2061 2072 656c 6174  seconds, a relat
-0001bea0: 6976 6520 7469 6d65 2028 6027 6e6f 7727  ive time (`'now'
-0001beb0: 6020 6f72 0a20 2020 2020 2020 2020 2020  ` or.           
-0001bec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bed0: 2020 2020 2020 6027 6e6f 772d 5b30 2d39        `'now-[0-9
-0001bee0: 5d2b 5b6d 6864 5d27 602c 2077 6865 7265  ]+[mhd]'`, where
-0001bef0: 2060 6d60 203d 206d 696e 7574 6573 2c20   `m` = minutes, 
-0001bf00: 6068 6020 3d20 686f 7572 732c 2061 6e64  `h` = hours, and
-0001bf10: 2060 2764 2760 203d 0a20 2020 2020 2020   `'d'` =.       
+0001be60: 2020 2020 2020 2074 696d 652c 2061 2055         time, a U
+0001be70: 6e69 7820 7469 6d65 7374 616d 7020 696e  nix timestamp in
+0001be80: 206d 696c 6c69 7365 636f 6e64 732c 2061   milliseconds, a
+0001be90: 2072 656c 6174 6976 6520 7469 6d65 2028   relative time (
+0001bea0: 6027 6e6f 7727 6020 6f72 0a20 2020 2020  `'now'` or.     
+0001beb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bec0: 2020 2020 2020 2020 2020 2020 6027 6e6f              `'no
+0001bed0: 772d 5b30 2d39 5d2b 5b6d 6864 5d27 602c  w-[0-9]+[mhd]'`,
+0001bee0: 2077 6865 7265 2060 6d60 203d 206d 696e   where `m` = min
+0001bef0: 7574 6573 2c20 6068 6020 3d20 686f 7572  utes, `h` = hour
+0001bf00: 732c 2061 6e64 2060 2764 2760 203d 0a20  s, and `'d'` =. 
+0001bf10: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001bf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bf30: 2020 2020 2020 2020 2020 6461 7973 292c            days),
-0001bf40: 206f 7220 3020 666f 7220 7468 6520 6561   or 0 for the ea
-0001bf50: 726c 6965 7374 2074 696d 652e 0a20 2020  rliest time..   
-0001bf60: 2020 2020 203a 7061 7261 6d20 656e 643a       :param end:
-0001bf70: 2054 6865 2065 6e64 2074 696d 6520 6f66   The end time of
-0001bf80: 2074 6865 206d 6574 7269 6373 2e20 4361   the metrics. Ca
-0001bf90: 6e20 6265 2072 6570 7265 7365 6e74 6564  n be represented
-0001bfa0: 2062 7920 6120 7374 7269 6e67 2063 6f6e   by a string con
-0001bfb0: 7461 696e 696e 6720 616e 2052 4643 2033  taining an RFC 3
-0001bfc0: 3333 390a 2020 2020 2020 2020 2020 2020  339.            
-0001bfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bfe0: 2020 2020 2074 696d 652c 2061 2055 6e69       time, a Uni
-0001bff0: 7820 7469 6d65 7374 616d 7020 696e 206d  x timestamp in m
-0001c000: 696c 6c69 7365 636f 6e64 732c 2061 2072  illiseconds, a r
-0001c010: 656c 6174 6976 6520 7469 6d65 2028 6027  elative time (`'
-0001c020: 6e6f 7727 6020 6f72 0a20 2020 2020 2020  now'` or.       
+0001bf30: 6461 7973 292c 206f 7220 3020 666f 7220  days), or 0 for 
+0001bf40: 7468 6520 6561 726c 6965 7374 2074 696d  the earliest tim
+0001bf50: 652e 0a20 2020 2020 2020 203a 7061 7261  e..        :para
+0001bf60: 6d20 656e 643a 2054 6865 2065 6e64 2074  m end: The end t
+0001bf70: 696d 6520 6f66 2074 6865 206d 6574 7269  ime of the metri
+0001bf80: 6373 2e20 4361 6e20 6265 2072 6570 7265  cs. Can be repre
+0001bf90: 7365 6e74 6564 2062 7920 6120 7374 7269  sented by a stri
+0001bfa0: 6e67 2063 6f6e 7461 696e 696e 6720 616e  ng containing an
+0001bfb0: 2052 4643 2033 3333 390a 2020 2020 2020   RFC 3339.      
+0001bfc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bfd0: 2020 2020 2020 2020 2020 2074 696d 652c             time,
+0001bfe0: 2061 2055 6e69 7820 7469 6d65 7374 616d   a Unix timestam
+0001bff0: 7020 696e 206d 696c 6c69 7365 636f 6e64  p in millisecond
+0001c000: 732c 2061 2072 656c 6174 6976 6520 7469  s, a relative ti
+0001c010: 6d65 2028 6027 6e6f 7727 6020 6f72 0a20  me (`'now'` or. 
+0001c020: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001c030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c040: 2020 2020 2020 2020 2020 6027 6e6f 772d            `'now-
-0001c050: 5b30 2d39 5d2b 5b6d 6864 5d27 602c 2077  [0-9]+[mhd]'`, w
-0001c060: 6865 7265 2060 6d60 203d 206d 696e 7574  here `m` = minut
-0001c070: 6573 2c20 6068 6020 3d20 686f 7572 732c  es, `h` = hours,
-0001c080: 2061 6e64 2060 2764 2760 203d 0a20 2020   and `'d'` =.   
+0001c040: 6027 6e6f 772d 5b30 2d39 5d2b 5b6d 6864  `'now-[0-9]+[mhd
+0001c050: 5d27 602c 2077 6865 7265 2060 6d60 203d  ]'`, where `m` =
+0001c060: 206d 696e 7574 6573 2c20 6068 6020 3d20   minutes, `h` = 
+0001c070: 686f 7572 732c 2061 6e64 2060 2764 2760  hours, and `'d'`
+0001c080: 203d 0a20 2020 2020 2020 2020 2020 2020   =.             
 0001c090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c0a0: 2020 2020 2020 2020 2020 2020 2020 6461                da
-0001c0b0: 7973 292c 206f 7220 3020 666f 7220 7468  ys), or 0 for th
-0001c0c0: 6520 6561 726c 6965 7374 2074 696d 652e  e earliest time.
-0001c0d0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0001c0e0: 746f 705f 6c65 7665 6c3a 2069 6620 7472  top_level: if tr
-0001c0f0: 7565 2077 696c 6c20 7265 7475 726e 206f  ue will return o
-0001c100: 6e6c 7920 726f 7574 6572 7320 616e 6420  nly routers and 
-0001c110: 656e 6470 6f69 6e74 2074 6861 7420 6172  endpoint that ar
-0001c120: 6520 4e4f 5420 6368 696c 6472 656e 206f  e NOT children o
-0001c130: 6620 616e 7920 726f 7574 6572 0a20 2020  f any router.   
-0001c140: 2020 2020 203a 7061 7261 6d20 7569 6473       :param uids
-0001c150: 3a20 6966 2070 6173 7365 6420 7769 6c6c  : if passed will
-0001c160: 2072 6574 7572 6e20 6120 6c69 7374 2060   return a list `
-0001c170: 4d6f 6465 6c45 6e64 706f 696e 7460 206f  ModelEndpoint` o
-0001c180: 626a 6563 7420 7769 7468 2075 6964 2069  bject with uid i
-0001c190: 6e20 7569 6473 0a20 2020 2020 2020 2022  n uids.        "
-0001c1a0: 2222 0a0a 2020 2020 2020 2020 7061 7468  ""..        path
-0001c1b0: 203d 2066 2270 726f 6a65 6374 732f 7b70   = f"projects/{p
-0001c1c0: 726f 6a65 6374 7d2f 6d6f 6465 6c2d 656e  roject}/model-en
-0001c1d0: 6470 6f69 6e74 7322 0a0a 2020 2020 2020  dpoints"..      
-0001c1e0: 2020 6966 206c 6162 656c 7320 616e 6420    if labels and 
-0001c1f0: 6973 696e 7374 616e 6365 286c 6162 656c  isinstance(label
-0001c200: 732c 2064 6963 7429 3a0a 2020 2020 2020  s, dict):.      
-0001c210: 2020 2020 2020 6c61 6265 6c73 203d 205b        labels = [
-0001c220: 6622 7b6b 6579 7d3d 7b76 616c 7565 7d22  f"{key}={value}"
-0001c230: 2066 6f72 206b 6579 2c20 7661 6c75 6520   for key, value 
-0001c240: 696e 206c 6162 656c 732e 6974 656d 7328  in labels.items(
-0001c250: 295d 0a0a 2020 2020 2020 2020 7265 7370  )]..        resp
-0001c260: 6f6e 7365 203d 2073 656c 662e 6170 695f  onse = self.api_
-0001c270: 6361 6c6c 280a 2020 2020 2020 2020 2020  call(.          
-0001c280: 2020 6d65 7468 6f64 3d22 4745 5422 2c0a    method="GET",.
-0001c290: 2020 2020 2020 2020 2020 2020 7061 7468              path
-0001c2a0: 3d70 6174 682c 0a20 2020 2020 2020 2020  =path,.         
-0001c2b0: 2020 2070 6172 616d 733d 7b0a 2020 2020     params={.    
-0001c2c0: 2020 2020 2020 2020 2020 2020 226d 6f64              "mod
-0001c2d0: 656c 223a 206d 6f64 656c 2c0a 2020 2020  el": model,.    
-0001c2e0: 2020 2020 2020 2020 2020 2020 2266 756e              "fun
-0001c2f0: 6374 696f 6e22 3a20 6675 6e63 7469 6f6e  ction": function
-0001c300: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001c310: 2020 226c 6162 656c 223a 206c 6162 656c    "label": label
-0001c320: 7320 6f72 205b 5d2c 0a20 2020 2020 2020  s or [],.       
-0001c330: 2020 2020 2020 2020 2022 7374 6172 7422           "start"
-0001c340: 3a20 7374 6172 742c 0a20 2020 2020 2020  : start,.       
-0001c350: 2020 2020 2020 2020 2022 656e 6422 3a20           "end": 
-0001c360: 656e 642c 0a20 2020 2020 2020 2020 2020  end,.           
-0001c370: 2020 2020 2022 6d65 7472 6963 223a 206d       "metric": m
-0001c380: 6574 7269 6373 206f 7220 5b5d 2c0a 2020  etrics or [],.  
-0001c390: 2020 2020 2020 2020 2020 2020 2020 2274                "t
-0001c3a0: 6f70 2d6c 6576 656c 223a 2074 6f70 5f6c  op-level": top_l
-0001c3b0: 6576 656c 2c0a 2020 2020 2020 2020 2020  evel,.          
-0001c3c0: 2020 2020 2020 2275 6964 223a 2075 6964        "uid": uid
-0001c3d0: 732c 0a20 2020 2020 2020 2020 2020 207d  s,.            }
-0001c3e0: 2c0a 2020 2020 2020 2020 290a 0a20 2020  ,.        )..   
-0001c3f0: 2020 2020 2023 2047 656e 6572 6174 6520       # Generate 
-0001c400: 6120 6c69 7374 206f 6620 6120 6d6f 6465  a list of a mode
-0001c410: 6c20 656e 6470 6f69 6e74 2064 6963 7469  l endpoint dicti
-0001c420: 6f6e 6172 6965 730a 2020 2020 2020 2020  onaries.        
-0001c430: 6d6f 6465 6c5f 656e 6470 6f69 6e74 7320  model_endpoints 
-0001c440: 3d20 7265 7370 6f6e 7365 2e6a 736f 6e28  = response.json(
-0001c450: 295b 2265 6e64 706f 696e 7473 225d 0a20  )["endpoints"]. 
-0001c460: 2020 2020 2020 2069 6620 6d6f 6465 6c5f         if model_
-0001c470: 656e 6470 6f69 6e74 733a 0a20 2020 2020  endpoints:.     
-0001c480: 2020 2020 2020 2072 6574 7572 6e20 5b0a         return [.
-0001c490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c4a0: 6d6c 7275 6e2e 6d6f 6465 6c5f 6d6f 6e69  mlrun.model_moni
-0001c4b0: 746f 7269 6e67 2e6d 6f64 656c 5f65 6e64  toring.model_end
-0001c4c0: 706f 696e 742e 4d6f 6465 6c45 6e64 706f  point.ModelEndpo
-0001c4d0: 696e 742e 6672 6f6d 5f64 6963 7428 6f62  int.from_dict(ob
-0001c4e0: 6a29 0a20 2020 2020 2020 2020 2020 2020  j).             
-0001c4f0: 2020 2066 6f72 206f 626a 2069 6e20 6d6f     for obj in mo
-0001c500: 6465 6c5f 656e 6470 6f69 6e74 730a 2020  del_endpoints.  
-0001c510: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
-0001c520: 2020 2020 7265 7475 726e 205b 5d0a 0a20      return [].. 
-0001c530: 2020 2064 6566 2067 6574 5f6d 6f64 656c     def get_model
-0001c540: 5f65 6e64 706f 696e 7428 0a20 2020 2020  _endpoint(.     
-0001c550: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0001c560: 2070 726f 6a65 6374 3a20 7374 722c 0a20   project: str,. 
-0001c570: 2020 2020 2020 2065 6e64 706f 696e 745f         endpoint_
-0001c580: 6964 3a20 7374 722c 0a20 2020 2020 2020  id: str,.       
-0001c590: 2073 7461 7274 3a20 4f70 7469 6f6e 616c   start: Optional
-0001c5a0: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
-0001c5b0: 2020 2020 2020 656e 643a 204f 7074 696f        end: Optio
-0001c5c0: 6e61 6c5b 7374 725d 203d 204e 6f6e 652c  nal[str] = None,
-0001c5d0: 0a20 2020 2020 2020 206d 6574 7269 6373  .        metrics
-0001c5e0: 3a20 4f70 7469 6f6e 616c 5b4c 6973 745b  : Optional[List[
-0001c5f0: 7374 725d 5d20 3d20 4e6f 6e65 2c0a 2020  str]] = None,.  
-0001c600: 2020 2020 2020 6665 6174 7572 655f 616e        feature_an
-0001c610: 616c 7973 6973 3a20 626f 6f6c 203d 2046  alysis: bool = F
-0001c620: 616c 7365 2c0a 2020 2020 2920 2d3e 206d  alse,.    ) -> m
-0001c630: 6c72 756e 2e6d 6f64 656c 5f6d 6f6e 6974  lrun.model_monit
-0001c640: 6f72 696e 672e 6d6f 6465 6c5f 656e 6470  oring.model_endp
-0001c650: 6f69 6e74 2e4d 6f64 656c 456e 6470 6f69  oint.ModelEndpoi
-0001c660: 6e74 3a0a 2020 2020 2020 2020 2222 220a  nt:.        """.
-0001c670: 2020 2020 2020 2020 5265 7475 726e 7320          Returns 
-0001c680: 6120 7369 6e67 6c65 2060 4d6f 6465 6c45  a single `ModelE
-0001c690: 6e64 706f 696e 7460 206f 626a 6563 7420  ndpoint` object 
-0001c6a0: 7769 7468 2061 6464 6974 696f 6e61 6c20  with additional 
-0001c6b0: 6d65 7472 6963 7320 616e 6420 6665 6174  metrics and feat
-0001c6c0: 7572 6520 7265 6c61 7465 6420 6461 7461  ure related data
-0001c6d0: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
-0001c6e0: 6d20 7072 6f6a 6563 743a 2020 2020 2020  m project:      
-0001c6f0: 2020 2020 2020 2020 2020 2020 2020 5468                Th
-0001c700: 6520 6e61 6d65 206f 6620 7468 6520 7072  e name of the pr
-0001c710: 6f6a 6563 740a 2020 2020 2020 2020 3a70  oject.        :p
-0001c720: 6172 616d 2065 6e64 706f 696e 745f 6964  aram endpoint_id
-0001c730: 3a20 2020 2020 2020 2020 2020 2020 2020  :               
-0001c740: 2054 6865 2075 6e69 7175 6520 6964 206f   The unique id o
-0001c750: 6620 7468 6520 6d6f 6465 6c20 656e 6470  f the model endp
-0001c760: 6f69 6e74 2e0a 2020 2020 2020 2020 3a70  oint..        :p
-0001c770: 6172 616d 2073 7461 7274 3a20 2020 2020  aram start:     
-0001c780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c790: 2054 6865 2073 7461 7274 2074 696d 6520   The start time 
-0001c7a0: 6f66 2074 6865 206d 6574 7269 6373 2e20  of the metrics. 
-0001c7b0: 4361 6e20 6265 2072 6570 7265 7365 6e74  Can be represent
-0001c7c0: 6564 2062 7920 6120 7374 7269 6e67 2063  ed by a string c
-0001c7d0: 6f6e 7461 696e 696e 6720 616e 0a20 2020  ontaining an.   
+0001c0a0: 2020 2020 6461 7973 292c 206f 7220 3020      days), or 0 
+0001c0b0: 666f 7220 7468 6520 6561 726c 6965 7374  for the earliest
+0001c0c0: 2074 696d 652e 0a20 2020 2020 2020 203a   time..        :
+0001c0d0: 7061 7261 6d20 746f 705f 6c65 7665 6c3a  param top_level:
+0001c0e0: 2069 6620 7472 7565 2077 696c 6c20 7265   if true will re
+0001c0f0: 7475 726e 206f 6e6c 7920 726f 7574 6572  turn only router
+0001c100: 7320 616e 6420 656e 6470 6f69 6e74 2074  s and endpoint t
+0001c110: 6861 7420 6172 6520 4e4f 5420 6368 696c  hat are NOT chil
+0001c120: 6472 656e 206f 6620 616e 7920 726f 7574  dren of any rout
+0001c130: 6572 0a20 2020 2020 2020 203a 7061 7261  er.        :para
+0001c140: 6d20 7569 6473 3a20 6966 2070 6173 7365  m uids: if passe
+0001c150: 6420 7769 6c6c 2072 6574 7572 6e20 6120  d will return a 
+0001c160: 6c69 7374 2060 4d6f 6465 6c45 6e64 706f  list `ModelEndpo
+0001c170: 696e 7460 206f 626a 6563 7420 7769 7468  int` object with
+0001c180: 2075 6964 2069 6e20 7569 6473 0a20 2020   uid in uids.   
+0001c190: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
+0001c1a0: 2020 7061 7468 203d 2066 2270 726f 6a65    path = f"proje
+0001c1b0: 6374 732f 7b70 726f 6a65 6374 7d2f 6d6f  cts/{project}/mo
+0001c1c0: 6465 6c2d 656e 6470 6f69 6e74 7322 0a0a  del-endpoints"..
+0001c1d0: 2020 2020 2020 2020 6966 206c 6162 656c          if label
+0001c1e0: 7320 616e 6420 6973 696e 7374 616e 6365  s and isinstance
+0001c1f0: 286c 6162 656c 732c 2064 6963 7429 3a0a  (labels, dict):.
+0001c200: 2020 2020 2020 2020 2020 2020 6c61 6265              labe
+0001c210: 6c73 203d 205b 6622 7b6b 6579 7d3d 7b76  ls = [f"{key}={v
+0001c220: 616c 7565 7d22 2066 6f72 206b 6579 2c20  alue}" for key, 
+0001c230: 7661 6c75 6520 696e 206c 6162 656c 732e  value in labels.
+0001c240: 6974 656d 7328 295d 0a0a 2020 2020 2020  items()]..      
+0001c250: 2020 7265 7370 6f6e 7365 203d 2073 656c    response = sel
+0001c260: 662e 6170 695f 6361 6c6c 280a 2020 2020  f.api_call(.    
+0001c270: 2020 2020 2020 2020 6d65 7468 6f64 3d22          method="
+0001c280: 4745 5422 2c0a 2020 2020 2020 2020 2020  GET",.          
+0001c290: 2020 7061 7468 3d70 6174 682c 0a20 2020    path=path,.   
+0001c2a0: 2020 2020 2020 2020 2070 6172 616d 733d           params=
+0001c2b0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+0001c2c0: 2020 226d 6f64 656c 223a 206d 6f64 656c    "model": model
+0001c2d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001c2e0: 2020 2266 756e 6374 696f 6e22 3a20 6675    "function": fu
+0001c2f0: 6e63 7469 6f6e 2c0a 2020 2020 2020 2020  nction,.        
+0001c300: 2020 2020 2020 2020 226c 6162 656c 223a          "label":
+0001c310: 206c 6162 656c 7320 6f72 205b 5d2c 0a20   labels or [],. 
+0001c320: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001c330: 7374 6172 7422 3a20 7374 6172 742c 0a20  start": start,. 
+0001c340: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001c350: 656e 6422 3a20 656e 642c 0a20 2020 2020  end": end,.     
+0001c360: 2020 2020 2020 2020 2020 2022 6d65 7472             "metr
+0001c370: 6963 223a 206d 6574 7269 6373 206f 7220  ic": metrics or 
+0001c380: 5b5d 2c0a 2020 2020 2020 2020 2020 2020  [],.            
+0001c390: 2020 2020 2274 6f70 2d6c 6576 656c 223a      "top-level":
+0001c3a0: 2074 6f70 5f6c 6576 656c 2c0a 2020 2020   top_level,.    
+0001c3b0: 2020 2020 2020 2020 2020 2020 2275 6964              "uid
+0001c3c0: 223a 2075 6964 732c 0a20 2020 2020 2020  ": uids,.       
+0001c3d0: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
+0001c3e0: 290a 0a20 2020 2020 2020 2023 2047 656e  )..        # Gen
+0001c3f0: 6572 6174 6520 6120 6c69 7374 206f 6620  erate a list of 
+0001c400: 6120 6d6f 6465 6c20 656e 6470 6f69 6e74  a model endpoint
+0001c410: 2064 6963 7469 6f6e 6172 6965 730a 2020   dictionaries.  
+0001c420: 2020 2020 2020 6d6f 6465 6c5f 656e 6470        model_endp
+0001c430: 6f69 6e74 7320 3d20 7265 7370 6f6e 7365  oints = response
+0001c440: 2e6a 736f 6e28 295b 2265 6e64 706f 696e  .json()["endpoin
+0001c450: 7473 225d 0a20 2020 2020 2020 2069 6620  ts"].        if 
+0001c460: 6d6f 6465 6c5f 656e 6470 6f69 6e74 733a  model_endpoints:
+0001c470: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0001c480: 7572 6e20 5b0a 2020 2020 2020 2020 2020  urn [.          
+0001c490: 2020 2020 2020 6d6c 7275 6e2e 6d6f 6465        mlrun.mode
+0001c4a0: 6c5f 6d6f 6e69 746f 7269 6e67 2e6d 6f64  l_monitoring.mod
+0001c4b0: 656c 5f65 6e64 706f 696e 742e 4d6f 6465  el_endpoint.Mode
+0001c4c0: 6c45 6e64 706f 696e 742e 6672 6f6d 5f64  lEndpoint.from_d
+0001c4d0: 6963 7428 6f62 6a29 0a20 2020 2020 2020  ict(obj).       
+0001c4e0: 2020 2020 2020 2020 2066 6f72 206f 626a           for obj
+0001c4f0: 2069 6e20 6d6f 6465 6c5f 656e 6470 6f69   in model_endpoi
+0001c500: 6e74 730a 2020 2020 2020 2020 2020 2020  nts.            
+0001c510: 5d0a 2020 2020 2020 2020 7265 7475 726e  ].        return
+0001c520: 205b 5d0a 0a20 2020 2064 6566 2067 6574   []..    def get
+0001c530: 5f6d 6f64 656c 5f65 6e64 706f 696e 7428  _model_endpoint(
+0001c540: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+0001c550: 2020 2020 2020 2070 726f 6a65 6374 3a20         project: 
+0001c560: 7374 722c 0a20 2020 2020 2020 2065 6e64  str,.        end
+0001c570: 706f 696e 745f 6964 3a20 7374 722c 0a20  point_id: str,. 
+0001c580: 2020 2020 2020 2073 7461 7274 3a20 4f70         start: Op
+0001c590: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+0001c5a0: 6e65 2c0a 2020 2020 2020 2020 656e 643a  ne,.        end:
+0001c5b0: 204f 7074 696f 6e61 6c5b 7374 725d 203d   Optional[str] =
+0001c5c0: 204e 6f6e 652c 0a20 2020 2020 2020 206d   None,.        m
+0001c5d0: 6574 7269 6373 3a20 4f70 7469 6f6e 616c  etrics: Optional
+0001c5e0: 5b4c 6973 745b 7374 725d 5d20 3d20 4e6f  [List[str]] = No
+0001c5f0: 6e65 2c0a 2020 2020 2020 2020 6665 6174  ne,.        feat
+0001c600: 7572 655f 616e 616c 7973 6973 3a20 626f  ure_analysis: bo
+0001c610: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
+0001c620: 2920 2d3e 206d 6c72 756e 2e6d 6f64 656c  ) -> mlrun.model
+0001c630: 5f6d 6f6e 6974 6f72 696e 672e 6d6f 6465  _monitoring.mode
+0001c640: 6c5f 656e 6470 6f69 6e74 2e4d 6f64 656c  l_endpoint.Model
+0001c650: 456e 6470 6f69 6e74 3a0a 2020 2020 2020  Endpoint:.      
+0001c660: 2020 2222 220a 2020 2020 2020 2020 5265    """.        Re
+0001c670: 7475 726e 7320 6120 7369 6e67 6c65 2060  turns a single `
+0001c680: 4d6f 6465 6c45 6e64 706f 696e 7460 206f  ModelEndpoint` o
+0001c690: 626a 6563 7420 7769 7468 2061 6464 6974  bject with addit
+0001c6a0: 696f 6e61 6c20 6d65 7472 6963 7320 616e  ional metrics an
+0001c6b0: 6420 6665 6174 7572 6520 7265 6c61 7465  d feature relate
+0001c6c0: 6420 6461 7461 2e0a 0a20 2020 2020 2020  d data...       
+0001c6d0: 203a 7061 7261 6d20 7072 6f6a 6563 743a   :param project:
+0001c6e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c6f0: 2020 2020 5468 6520 6e61 6d65 206f 6620      The name of 
+0001c700: 7468 6520 7072 6f6a 6563 740a 2020 2020  the project.    
+0001c710: 2020 2020 3a70 6172 616d 2065 6e64 706f      :param endpo
+0001c720: 696e 745f 6964 3a20 2020 2020 2020 2020  int_id:         
+0001c730: 2020 2020 2020 2054 6865 2075 6e69 7175         The uniqu
+0001c740: 6520 6964 206f 6620 7468 6520 6d6f 6465  e id of the mode
+0001c750: 6c20 656e 6470 6f69 6e74 2e0a 2020 2020  l endpoint..    
+0001c760: 2020 2020 3a70 6172 616d 2073 7461 7274      :param start
+0001c770: 3a20 2020 2020 2020 2020 2020 2020 2020  :               
+0001c780: 2020 2020 2020 2054 6865 2073 7461 7274         The start
+0001c790: 2074 696d 6520 6f66 2074 6865 206d 6574   time of the met
+0001c7a0: 7269 6373 2e20 4361 6e20 6265 2072 6570  rics. Can be rep
+0001c7b0: 7265 7365 6e74 6564 2062 7920 6120 7374  resented by a st
+0001c7c0: 7269 6e67 2063 6f6e 7461 696e 696e 6720  ring containing 
+0001c7d0: 616e 0a20 2020 2020 2020 2020 2020 2020  an.             
 0001c7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c800: 2020 2020 2020 2020 5246 4320 3333 3339          RFC 3339
-0001c810: 2074 696d 652c 2061 2055 6e69 7820 7469   time, a Unix ti
-0001c820: 6d65 7374 616d 7020 696e 206d 696c 6c69  mestamp in milli
-0001c830: 7365 636f 6e64 732c 2061 2072 656c 6174  seconds, a relat
-0001c840: 6976 6520 7469 6d65 2028 6027 6e6f 7727  ive time (`'now'
-0001c850: 6020 6f72 0a20 2020 2020 2020 2020 2020  ` or.           
+0001c7f0: 2020 2020 2020 2020 2020 2020 2020 5246                RF
+0001c800: 4320 3333 3339 2074 696d 652c 2061 2055  C 3339 time, a U
+0001c810: 6e69 7820 7469 6d65 7374 616d 7020 696e  nix timestamp in
+0001c820: 206d 696c 6c69 7365 636f 6e64 732c 2061   milliseconds, a
+0001c830: 2072 656c 6174 6976 6520 7469 6d65 2028   relative time (
+0001c840: 6027 6e6f 7727 6020 6f72 0a20 2020 2020  `'now'` or.     
+0001c850: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001c860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c880: 6027 6e6f 772d 5b30 2d39 5d2b 5b6d 6864  `'now-[0-9]+[mhd
-0001c890: 5d27 602c 2077 6865 7265 2060 6d60 203d  ]'`, where `m` =
-0001c8a0: 206d 696e 7574 6573 2c20 6068 6020 3d20   minutes, `h` = 
-0001c8b0: 686f 7572 732c 2061 6e64 2060 2764 2760  hours, and `'d'`
-0001c8c0: 203d 2064 6179 7329 2c20 6f72 0a20 2020   = days), or.   
+0001c870: 2020 2020 2020 6027 6e6f 772d 5b30 2d39        `'now-[0-9
+0001c880: 5d2b 5b6d 6864 5d27 602c 2077 6865 7265  ]+[mhd]'`, where
+0001c890: 2060 6d60 203d 206d 696e 7574 6573 2c20   `m` = minutes, 
+0001c8a0: 6068 6020 3d20 686f 7572 732c 2061 6e64  `h` = hours, and
+0001c8b0: 2060 2764 2760 203d 2064 6179 7329 2c20   `'d'` = days), 
+0001c8c0: 6f72 0a20 2020 2020 2020 2020 2020 2020  or.             
 0001c8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c8e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c8f0: 2020 2020 2020 2020 3020 666f 7220 7468          0 for th
-0001c900: 6520 6561 726c 6965 7374 2074 696d 652e  e earliest time.
-0001c910: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0001c920: 656e 643a 2020 2020 2020 2020 2020 2020  end:            
-0001c930: 2020 2020 2020 2020 2020 2020 5468 6520              The 
-0001c940: 656e 6420 7469 6d65 206f 6620 7468 6520  end time of the 
-0001c950: 6d65 7472 6963 732e 2043 616e 2062 6520  metrics. Can be 
-0001c960: 7265 7072 6573 656e 7465 6420 6279 2061  represented by a
-0001c970: 2073 7472 696e 6720 636f 6e74 6169 6e69   string containi
-0001c980: 6e67 2061 6e0a 2020 2020 2020 2020 2020  ng an.          
+0001c8e0: 2020 2020 2020 2020 2020 2020 2020 3020                0 
+0001c8f0: 666f 7220 7468 6520 6561 726c 6965 7374  for the earliest
+0001c900: 2074 696d 652e 0a20 2020 2020 2020 203a   time..        :
+0001c910: 7061 7261 6d20 656e 643a 2020 2020 2020  param end:      
+0001c920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c930: 2020 5468 6520 656e 6420 7469 6d65 206f    The end time o
+0001c940: 6620 7468 6520 6d65 7472 6963 732e 2043  f the metrics. C
+0001c950: 616e 2062 6520 7265 7072 6573 656e 7465  an be represente
+0001c960: 6420 6279 2061 2073 7472 696e 6720 636f  d by a string co
+0001c970: 6e74 6169 6e69 6e67 2061 6e0a 2020 2020  ntaining an.    
+0001c980: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001c990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c9b0: 2052 4643 2033 3333 3920 7469 6d65 2c20   RFC 3339 time, 
-0001c9c0: 6120 556e 6978 2074 696d 6573 7461 6d70  a Unix timestamp
-0001c9d0: 2069 6e20 6d69 6c6c 6973 6563 6f6e 6473   in milliseconds
-0001c9e0: 2c20 6120 7265 6c61 7469 7665 2074 696d  , a relative tim
-0001c9f0: 6520 2860 276e 6f77 2760 206f 720a 2020  e (`'now'` or.  
+0001c9a0: 2020 2020 2020 2052 4643 2033 3333 3920         RFC 3339 
+0001c9b0: 7469 6d65 2c20 6120 556e 6978 2074 696d  time, a Unix tim
+0001c9c0: 6573 7461 6d70 2069 6e20 6d69 6c6c 6973  estamp in millis
+0001c9d0: 6563 6f6e 6473 2c20 6120 7265 6c61 7469  econds, a relati
+0001c9e0: 7665 2074 696d 6520 2860 276e 6f77 2760  ve time (`'now'`
+0001c9f0: 206f 720a 2020 2020 2020 2020 2020 2020   or.            
 0001ca00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ca10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ca20: 2020 2020 2020 2020 2060 276e 6f77 2d5b           `'now-[
-0001ca30: 302d 395d 2b5b 6d68 645d 2760 2c20 7768  0-9]+[mhd]'`, wh
-0001ca40: 6572 6520 606d 6020 3d20 6d69 6e75 7465  ere `m` = minute
-0001ca50: 732c 2060 6860 203d 2068 6f75 7273 2c20  s, `h` = hours, 
-0001ca60: 616e 6420 6027 6427 6020 3d20 6461 7973  and `'d'` = days
-0001ca70: 292c 206f 720a 2020 2020 2020 2020 2020  ), or.          
+0001ca10: 2020 2020 2020 2020 2020 2020 2020 2060                 `
+0001ca20: 276e 6f77 2d5b 302d 395d 2b5b 6d68 645d  'now-[0-9]+[mhd]
+0001ca30: 2760 2c20 7768 6572 6520 606d 6020 3d20  '`, where `m` = 
+0001ca40: 6d69 6e75 7465 732c 2060 6860 203d 2068  minutes, `h` = h
+0001ca50: 6f75 7273 2c20 616e 6420 6027 6427 6020  ours, and `'d'` 
+0001ca60: 3d20 6461 7973 292c 206f 720a 2020 2020  = days), or.    
+0001ca70: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001ca80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ca90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001caa0: 2030 2066 6f72 2074 6865 2065 6172 6c69   0 for the earli
-0001cab0: 6573 7420 7469 6d65 2e0a 2020 2020 2020  est time..      
-0001cac0: 2020 3a70 6172 616d 206d 6574 7269 6373    :param metrics
-0001cad0: 3a20 2020 2020 2020 2020 2020 2020 2020  :               
-0001cae0: 2020 2020 2041 206c 6973 7420 6f66 206d       A list of m
-0001caf0: 6574 7269 6373 2074 6f20 7265 7475 726e  etrics to return
-0001cb00: 2066 6f72 2074 6865 206d 6f64 656c 2065   for the model e
-0001cb10: 6e64 706f 696e 742e 2054 6865 7265 2061  ndpoint. There a
-0001cb20: 7265 2070 7265 2d64 6566 696e 6564 0a20  re pre-defined. 
+0001ca90: 2020 2020 2020 2030 2066 6f72 2074 6865         0 for the
+0001caa0: 2065 6172 6c69 6573 7420 7469 6d65 2e0a   earliest time..
+0001cab0: 2020 2020 2020 2020 3a70 6172 616d 206d          :param m
+0001cac0: 6574 7269 6373 3a20 2020 2020 2020 2020  etrics:         
+0001cad0: 2020 2020 2020 2020 2020 2041 206c 6973             A lis
+0001cae0: 7420 6f66 206d 6574 7269 6373 2074 6f20  t of metrics to 
+0001caf0: 7265 7475 726e 2066 6f72 2074 6865 206d  return for the m
+0001cb00: 6f64 656c 2065 6e64 706f 696e 742e 2054  odel endpoint. T
+0001cb10: 6865 7265 2061 7265 2070 7265 2d64 6566  here are pre-def
+0001cb20: 696e 6564 0a20 2020 2020 2020 2020 2020  ined.           
 0001cb30: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001cb40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cb50: 2020 2020 2020 2020 2020 6d65 7472 6963            metric
-0001cb60: 7320 666f 7220 6d6f 6465 6c20 656e 6470  s for model endp
-0001cb70: 6f69 6e74 7320 7375 6368 2061 7320 7072  oints such as pr
-0001cb80: 6564 6963 7469 6f6e 735f 7065 725f 7365  edictions_per_se
-0001cb90: 636f 6e64 2061 6e64 0a20 2020 2020 2020  cond and.       
+0001cb50: 6d65 7472 6963 7320 666f 7220 6d6f 6465  metrics for mode
+0001cb60: 6c20 656e 6470 6f69 6e74 7320 7375 6368  l endpoints such
+0001cb70: 2061 7320 7072 6564 6963 7469 6f6e 735f   as predictions_
+0001cb80: 7065 725f 7365 636f 6e64 2061 6e64 0a20  per_second and. 
+0001cb90: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001cba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cbc0: 2020 2020 6c61 7465 6e63 795f 6176 675f      latency_avg_
-0001cbd0: 356d 2062 7574 2061 6c73 6f20 6375 7374  5m but also cust
-0001cbe0: 6f6d 206d 6574 7269 6373 2064 6566 696e  om metrics defin
-0001cbf0: 6564 2062 7920 7468 6520 7573 6572 2e20  ed by the user. 
-0001cc00: 506c 6561 7365 206e 6f74 6520 7468 6174  Please note that
-0001cc10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001cbb0: 2020 2020 2020 2020 2020 6c61 7465 6e63            latenc
+0001cbc0: 795f 6176 675f 356d 2062 7574 2061 6c73  y_avg_5m but als
+0001cbd0: 6f20 6375 7374 6f6d 206d 6574 7269 6373  o custom metrics
+0001cbe0: 2064 6566 696e 6564 2062 7920 7468 6520   defined by the 
+0001cbf0: 7573 6572 2e20 506c 6561 7365 206e 6f74  user. Please not
+0001cc00: 6520 7468 6174 0a20 2020 2020 2020 2020  e that.         
+0001cc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001cc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cc30: 2020 2020 2020 2020 2020 2020 7468 6573              thes
-0001cc40: 6520 6d65 7472 6963 7320 6172 6520 7374  e metrics are st
-0001cc50: 6f72 6564 2069 6e20 7468 6520 7469 6d65  ored in the time
-0001cc60: 2073 6572 6965 7320 4442 2061 6e64 2074   series DB and t
-0001cc70: 6865 2072 6573 756c 7473 2077 696c 6c20  he results will 
-0001cc80: 6265 0a20 2020 2020 2020 2020 2020 2020  be.             
+0001cc30: 2020 7468 6573 6520 6d65 7472 6963 7320    these metrics 
+0001cc40: 6172 6520 7374 6f72 6564 2069 6e20 7468  are stored in th
+0001cc50: 6520 7469 6d65 2073 6572 6965 7320 4442  e time series DB
+0001cc60: 2061 6e64 2074 6865 2072 6573 756c 7473   and the results
+0001cc70: 2077 696c 6c20 6265 0a20 2020 2020 2020   will be.       
+0001cc80: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001cc90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cca0: 2020 2020 2020 2020 2020 2020 2020 6170                ap
-0001ccb0: 7065 6172 6564 2075 6e64 6572 206d 6f64  peared under mod
-0001ccc0: 656c 5f65 6e64 706f 696e 742e 7370 6563  el_endpoint.spec
-0001ccd0: 2e6d 6574 7269 6373 2e0a 2020 2020 2020  .metrics..      
-0001cce0: 2020 3a70 6172 616d 2066 6561 7475 7265    :param feature
-0001ccf0: 5f61 6e61 6c79 7369 733a 2020 2020 2020  _analysis:      
-0001cd00: 2020 2020 2057 6865 6e20 5472 7565 2c20       When True, 
-0001cd10: 7468 6520 6261 7365 2066 6561 7475 7265  the base feature
-0001cd20: 2073 7461 7469 7374 6963 7320 616e 6420   statistics and 
-0001cd30: 6375 7272 656e 7420 6665 6174 7572 6520  current feature 
-0001cd40: 7374 6174 6973 7469 6373 2077 696c 6c0a  statistics will.
+0001cca0: 2020 2020 6170 7065 6172 6564 2075 6e64      appeared und
+0001ccb0: 6572 206d 6f64 656c 5f65 6e64 706f 696e  er model_endpoin
+0001ccc0: 742e 7370 6563 2e6d 6574 7269 6373 2e0a  t.spec.metrics..
+0001ccd0: 2020 2020 2020 2020 3a70 6172 616d 2066          :param f
+0001cce0: 6561 7475 7265 5f61 6e61 6c79 7369 733a  eature_analysis:
+0001ccf0: 2020 2020 2020 2020 2020 2057 6865 6e20             When 
+0001cd00: 5472 7565 2c20 7468 6520 6261 7365 2066  True, the base f
+0001cd10: 6561 7475 7265 2073 7461 7469 7374 6963  eature statistic
+0001cd20: 7320 616e 6420 6375 7272 656e 7420 6665  s and current fe
+0001cd30: 6174 7572 6520 7374 6174 6973 7469 6373  ature statistics
+0001cd40: 2077 696c 6c0a 2020 2020 2020 2020 2020   will.          
 0001cd50: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001cd60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cd70: 2020 2020 2020 2020 2020 2062 6520 6164             be ad
-0001cd80: 6465 6420 746f 2074 6865 206f 7574 7075  ded to the outpu
-0001cd90: 7420 6f66 2074 6865 2072 6573 756c 7469  t of the resulti
-0001cda0: 6e67 206f 626a 6563 742e 0a0a 2020 2020  ng object...    
-0001cdb0: 2020 2020 3a72 6574 7572 6e3a 2041 2060      :return: A `
-0001cdc0: 4d6f 6465 6c45 6e64 706f 696e 7460 206f  ModelEndpoint` o
-0001cdd0: 626a 6563 742e 0a20 2020 2020 2020 2022  bject..        "
-0001cde0: 2222 0a0a 2020 2020 2020 2020 7061 7468  ""..        path
-0001cdf0: 203d 2066 2270 726f 6a65 6374 732f 7b70   = f"projects/{p
-0001ce00: 726f 6a65 6374 7d2f 6d6f 6465 6c2d 656e  roject}/model-en
-0001ce10: 6470 6f69 6e74 732f 7b65 6e64 706f 696e  dpoints/{endpoin
-0001ce20: 745f 6964 7d22 0a20 2020 2020 2020 2072  t_id}".        r
-0001ce30: 6573 706f 6e73 6520 3d20 7365 6c66 2e61  esponse = self.a
-0001ce40: 7069 5f63 616c 6c28 0a20 2020 2020 2020  pi_call(.       
-0001ce50: 2020 2020 206d 6574 686f 643d 2247 4554       method="GET
-0001ce60: 222c 0a20 2020 2020 2020 2020 2020 2070  ",.            p
-0001ce70: 6174 683d 7061 7468 2c0a 2020 2020 2020  ath=path,.      
-0001ce80: 2020 2020 2020 7061 7261 6d73 3d7b 0a20        params={. 
-0001ce90: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0001cea0: 7374 6172 7422 3a20 7374 6172 742c 0a20  start": start,. 
-0001ceb0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0001cec0: 656e 6422 3a20 656e 642c 0a20 2020 2020  end": end,.     
-0001ced0: 2020 2020 2020 2020 2020 2022 6d65 7472             "metr
-0001cee0: 6963 223a 206d 6574 7269 6373 206f 7220  ic": metrics or 
-0001cef0: 5b5d 2c0a 2020 2020 2020 2020 2020 2020  [],.            
-0001cf00: 2020 2020 2266 6561 7475 7265 5f61 6e61      "feature_ana
-0001cf10: 6c79 7369 7322 3a20 6665 6174 7572 655f  lysis": feature_
-0001cf20: 616e 616c 7973 6973 2c0a 2020 2020 2020  analysis,.      
-0001cf30: 2020 2020 2020 7d2c 0a20 2020 2020 2020        },.       
-0001cf40: 2029 0a0a 2020 2020 2020 2020 7265 7475   )..        retu
-0001cf50: 726e 206d 6c72 756e 2e6d 6f64 656c 5f6d  rn mlrun.model_m
-0001cf60: 6f6e 6974 6f72 696e 672e 6d6f 6465 6c5f  onitoring.model_
-0001cf70: 656e 6470 6f69 6e74 2e4d 6f64 656c 456e  endpoint.ModelEn
-0001cf80: 6470 6f69 6e74 2e66 726f 6d5f 6469 6374  dpoint.from_dict
-0001cf90: 280a 2020 2020 2020 2020 2020 2020 7265  (.            re
-0001cfa0: 7370 6f6e 7365 2e6a 736f 6e28 290a 2020  sponse.json().  
-0001cfb0: 2020 2020 2020 290a 0a20 2020 2064 6566        )..    def
-0001cfc0: 2070 6174 6368 5f6d 6f64 656c 5f65 6e64   patch_model_end
-0001cfd0: 706f 696e 7428 0a20 2020 2020 2020 2073  point(.        s
-0001cfe0: 656c 662c 0a20 2020 2020 2020 2070 726f  elf,.        pro
-0001cff0: 6a65 6374 3a20 7374 722c 0a20 2020 2020  ject: str,.     
-0001d000: 2020 2065 6e64 706f 696e 745f 6964 3a20     endpoint_id: 
-0001d010: 7374 722c 0a20 2020 2020 2020 2061 7474  str,.        att
-0001d020: 7269 6275 7465 733a 2064 6963 742c 0a20  ributes: dict,. 
-0001d030: 2020 2029 3a0a 2020 2020 2020 2020 2222     ):.        ""
-0001d040: 220a 2020 2020 2020 2020 5570 6461 7465  ".        Update
-0001d050: 7320 6d6f 6465 6c20 656e 6470 6f69 6e74  s model endpoint
-0001d060: 2077 6974 6820 7072 6f76 6964 6564 2061   with provided a
-0001d070: 7474 7269 6275 7465 732e 0a0a 2020 2020  ttributes...    
-0001d080: 2020 2020 3a70 6172 616d 2070 726f 6a65      :param proje
-0001d090: 6374 3a20 5468 6520 6e61 6d65 206f 6620  ct: The name of 
-0001d0a0: 7468 6520 7072 6f6a 6563 742e 0a20 2020  the project..   
-0001d0b0: 2020 2020 203a 7061 7261 6d20 656e 6470       :param endp
-0001d0c0: 6f69 6e74 5f69 643a 2054 6865 2069 6420  oint_id: The id 
-0001d0d0: 6f66 2074 6865 2065 6e64 706f 696e 742e  of the endpoint.
-0001d0e0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0001d0f0: 6174 7472 6962 7574 6573 3a20 4469 6374  attributes: Dict
-0001d100: 696f 6e61 7279 206f 6620 6174 7472 6962  ionary of attrib
-0001d110: 7574 6573 2074 6861 7420 7769 6c6c 2062  utes that will b
-0001d120: 6520 7573 6564 2066 6f72 2075 7064 6174  e used for updat
-0001d130: 6520 7468 6520 6d6f 6465 6c20 656e 6470  e the model endp
-0001d140: 6f69 6e74 2e20 5468 6520 6b65 7973 0a20  oint. The keys. 
+0001cd70: 2062 6520 6164 6465 6420 746f 2074 6865   be added to the
+0001cd80: 206f 7574 7075 7420 6f66 2074 6865 2072   output of the r
+0001cd90: 6573 756c 7469 6e67 206f 626a 6563 742e  esulting object.
+0001cda0: 0a0a 2020 2020 2020 2020 3a72 6574 7572  ..        :retur
+0001cdb0: 6e3a 2041 2060 4d6f 6465 6c45 6e64 706f  n: A `ModelEndpo
+0001cdc0: 696e 7460 206f 626a 6563 742e 0a20 2020  int` object..   
+0001cdd0: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
+0001cde0: 2020 7061 7468 203d 2066 2270 726f 6a65    path = f"proje
+0001cdf0: 6374 732f 7b70 726f 6a65 6374 7d2f 6d6f  cts/{project}/mo
+0001ce00: 6465 6c2d 656e 6470 6f69 6e74 732f 7b65  del-endpoints/{e
+0001ce10: 6e64 706f 696e 745f 6964 7d22 0a20 2020  ndpoint_id}".   
+0001ce20: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
+0001ce30: 7365 6c66 2e61 7069 5f63 616c 6c28 0a20  self.api_call(. 
+0001ce40: 2020 2020 2020 2020 2020 206d 6574 686f             metho
+0001ce50: 643d 2247 4554 222c 0a20 2020 2020 2020  d="GET",.       
+0001ce60: 2020 2020 2070 6174 683d 7061 7468 2c0a       path=path,.
+0001ce70: 2020 2020 2020 2020 2020 2020 7061 7261              para
+0001ce80: 6d73 3d7b 0a20 2020 2020 2020 2020 2020  ms={.           
+0001ce90: 2020 2020 2022 7374 6172 7422 3a20 7374       "start": st
+0001cea0: 6172 742c 0a20 2020 2020 2020 2020 2020  art,.           
+0001ceb0: 2020 2020 2022 656e 6422 3a20 656e 642c       "end": end,
+0001cec0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ced0: 2022 6d65 7472 6963 223a 206d 6574 7269   "metric": metri
+0001cee0: 6373 206f 7220 5b5d 2c0a 2020 2020 2020  cs or [],.      
+0001cef0: 2020 2020 2020 2020 2020 2266 6561 7475            "featu
+0001cf00: 7265 5f61 6e61 6c79 7369 7322 3a20 6665  re_analysis": fe
+0001cf10: 6174 7572 655f 616e 616c 7973 6973 2c0a  ature_analysis,.
+0001cf20: 2020 2020 2020 2020 2020 2020 7d2c 0a20              },. 
+0001cf30: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+0001cf40: 2020 7265 7475 726e 206d 6c72 756e 2e6d    return mlrun.m
+0001cf50: 6f64 656c 5f6d 6f6e 6974 6f72 696e 672e  odel_monitoring.
+0001cf60: 6d6f 6465 6c5f 656e 6470 6f69 6e74 2e4d  model_endpoint.M
+0001cf70: 6f64 656c 456e 6470 6f69 6e74 2e66 726f  odelEndpoint.fro
+0001cf80: 6d5f 6469 6374 280a 2020 2020 2020 2020  m_dict(.        
+0001cf90: 2020 2020 7265 7370 6f6e 7365 2e6a 736f      response.jso
+0001cfa0: 6e28 290a 2020 2020 2020 2020 290a 0a20  n().        ).. 
+0001cfb0: 2020 2064 6566 2070 6174 6368 5f6d 6f64     def patch_mod
+0001cfc0: 656c 5f65 6e64 706f 696e 7428 0a20 2020  el_endpoint(.   
+0001cfd0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0001cfe0: 2020 2070 726f 6a65 6374 3a20 7374 722c     project: str,
+0001cff0: 0a20 2020 2020 2020 2065 6e64 706f 696e  .        endpoin
+0001d000: 745f 6964 3a20 7374 722c 0a20 2020 2020  t_id: str,.     
+0001d010: 2020 2061 7474 7269 6275 7465 733a 2064     attributes: d
+0001d020: 6963 742c 0a20 2020 2029 3a0a 2020 2020  ict,.    ):.    
+0001d030: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001d040: 5570 6461 7465 7320 6d6f 6465 6c20 656e  Updates model en
+0001d050: 6470 6f69 6e74 2077 6974 6820 7072 6f76  dpoint with prov
+0001d060: 6964 6564 2061 7474 7269 6275 7465 732e  ided attributes.
+0001d070: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+0001d080: 2070 726f 6a65 6374 3a20 5468 6520 6e61   project: The na
+0001d090: 6d65 206f 6620 7468 6520 7072 6f6a 6563  me of the projec
+0001d0a0: 742e 0a20 2020 2020 2020 203a 7061 7261  t..        :para
+0001d0b0: 6d20 656e 6470 6f69 6e74 5f69 643a 2054  m endpoint_id: T
+0001d0c0: 6865 2069 6420 6f66 2074 6865 2065 6e64  he id of the end
+0001d0d0: 706f 696e 742e 0a20 2020 2020 2020 203a  point..        :
+0001d0e0: 7061 7261 6d20 6174 7472 6962 7574 6573  param attributes
+0001d0f0: 3a20 4469 6374 696f 6e61 7279 206f 6620  : Dictionary of 
+0001d100: 6174 7472 6962 7574 6573 2074 6861 7420  attributes that 
+0001d110: 7769 6c6c 2062 6520 7573 6564 2066 6f72  will be used for
+0001d120: 2075 7064 6174 6520 7468 6520 6d6f 6465   update the mode
+0001d130: 6c20 656e 6470 6f69 6e74 2e20 5468 6520  l endpoint. The 
+0001d140: 6b65 7973 0a20 2020 2020 2020 2020 2020  keys.           
 0001d150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d160: 2020 2020 2020 2020 2020 6f66 2074 6869            of thi
-0001d170: 7320 6469 6374 696f 6e61 7279 2073 686f  s dictionary sho
-0001d180: 756c 6420 6578 6973 7420 696e 2074 6865  uld exist in the
-0001d190: 2074 6172 6765 7420 7461 626c 652e 204e   target table. N
-0001d1a0: 6f74 6520 7468 6174 2074 6865 2076 616c  ote that the val
-0001d1b0: 7565 7320 7368 6f75 6c64 2062 650a 2020  ues should be.  
-0001d1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d1d0: 2020 2020 2020 2020 2066 726f 6d20 7479           from ty
-0001d1e0: 7065 2073 7472 696e 6720 6f72 2066 726f  pe string or fro
-0001d1f0: 6d20 6120 7661 6c69 6420 6e75 6d65 7269  m a valid numeri
-0001d200: 6361 6c20 7479 7065 2073 7563 6820 6173  cal type such as
-0001d210: 2069 6e74 206f 7220 666c 6f61 742e 0a20   int or float.. 
+0001d160: 6f66 2074 6869 7320 6469 6374 696f 6e61  of this dictiona
+0001d170: 7279 2073 686f 756c 6420 6578 6973 7420  ry should exist 
+0001d180: 696e 2074 6865 2074 6172 6765 7420 7461  in the target ta
+0001d190: 626c 652e 204e 6f74 6520 7468 6174 2074  ble. Note that t
+0001d1a0: 6865 2076 616c 7565 7320 7368 6f75 6c64  he values should
+0001d1b0: 2062 650a 2020 2020 2020 2020 2020 2020   be.            
+0001d1c0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0001d1d0: 726f 6d20 7479 7065 2073 7472 696e 6720  rom type string 
+0001d1e0: 6f72 2066 726f 6d20 6120 7661 6c69 6420  or from a valid 
+0001d1f0: 6e75 6d65 7269 6361 6c20 7479 7065 2073  numerical type s
+0001d200: 7563 6820 6173 2069 6e74 206f 7220 666c  uch as int or fl
+0001d210: 6f61 742e 0a20 2020 2020 2020 2020 2020  oat..           
 0001d220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d230: 2020 2020 2020 2020 2020 204d 6f72 6520             More 
-0001d240: 6465 7461 696c 7320 6162 6f75 7420 7468  details about th
-0001d250: 6520 6d6f 6465 6c20 656e 6470 6f69 6e74  e model endpoint
-0001d260: 2061 7661 696c 6162 6c65 2061 7474 7269   available attri
-0001d270: 6275 7465 7320 6361 6e20 6265 2066 6f75  butes can be fou
-0001d280: 6e64 2075 6e64 6572 0a20 2020 2020 2020  nd under.       
-0001d290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d2a0: 2020 2020 3a70 793a 636c 6173 733a 607e      :py:class:`~
-0001d2b0: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
-0001d2c0: 656d 6173 2e4d 6f64 656c 456e 6470 6f69  emas.ModelEndpoi
-0001d2d0: 6e74 602e 0a0a 2020 2020 2020 2020 2020  nt`...          
-0001d2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d2f0: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
+0001d230: 204d 6f72 6520 6465 7461 696c 7320 6162   More details ab
+0001d240: 6f75 7420 7468 6520 6d6f 6465 6c20 656e  out the model en
+0001d250: 6470 6f69 6e74 2061 7661 696c 6162 6c65  dpoint available
+0001d260: 2061 7474 7269 6275 7465 7320 6361 6e20   attributes can 
+0001d270: 6265 2066 6f75 6e64 2075 6e64 6572 0a20  be found under. 
+0001d280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d290: 2020 2020 2020 2020 2020 3a70 793a 636c            :py:cl
+0001d2a0: 6173 733a 607e 6d6c 7275 6e2e 636f 6d6d  ass:`~mlrun.comm
+0001d2b0: 6f6e 2e73 6368 656d 6173 2e4d 6f64 656c  on.schemas.Model
+0001d2c0: 456e 6470 6f69 6e74 602e 0a0a 2020 2020  Endpoint`...    
+0001d2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d2e0: 2020 2020 2020 2045 7861 6d70 6c65 3a3a         Example::
+0001d2f0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
 0001d300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d310: 2020 2020 2020 2020 2020 2020 2320 4765              # Ge
-0001d320: 6e65 7261 7465 2063 7572 7265 6e74 2073  nerate current s
-0001d330: 7461 7473 2066 6f72 2074 776f 2066 6561  tats for two fea
-0001d340: 7475 7265 730a 2020 2020 2020 2020 2020  tures.          
-0001d350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d360: 2020 2020 2020 6375 7272 656e 745f 7374        current_st
-0001d370: 6174 7320 3d20 7b27 7476 645f 7375 6d27  ats = {'tvd_sum'
-0001d380: 3a20 322e 322c 0a20 2020 2020 2020 2020  : 2.2,.         
+0001d310: 2020 2320 4765 6e65 7261 7465 2063 7572    # Generate cur
+0001d320: 7265 6e74 2073 7461 7473 2066 6f72 2074  rent stats for t
+0001d330: 776f 2066 6561 7475 7265 730a 2020 2020  wo features.    
+0001d340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d350: 2020 2020 2020 2020 2020 2020 6375 7272              curr
+0001d360: 656e 745f 7374 6174 7320 3d20 7b27 7476  ent_stats = {'tv
+0001d370: 645f 7375 6d27 3a20 322e 322c 0a20 2020  d_sum': 2.2,.   
+0001d380: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001d390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d3b0: 2020 2020 2020 2020 2774 7664 5f6d 6561          'tvd_mea
-0001d3c0: 6e27 3a20 302e 352c 0a20 2020 2020 2020  n': 0.5,.       
+0001d3a0: 2020 2020 2020 2020 2020 2020 2020 2774                't
+0001d3b0: 7664 5f6d 6561 6e27 3a20 302e 352c 0a20  vd_mean': 0.5,. 
+0001d3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001d3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001d3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d3f0: 2020 2020 2020 2020 2020 2768 656c 6c69            'helli
-0001d400: 6e67 6572 5f73 756d 273a 2033 2e36 2c0a  nger_sum': 3.6,.
+0001d3f0: 2768 656c 6c69 6e67 6572 5f73 756d 273a  'hellinger_sum':
+0001d400: 2033 2e36 2c0a 2020 2020 2020 2020 2020   3.6,.          
 0001d410: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001d420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d440: 2027 6865 6c6c 696e 6765 725f 6d65 616e   'hellinger_mean
-0001d450: 273a 2030 2e39 2c0a 2020 2020 2020 2020  ': 0.9,.        
+0001d430: 2020 2020 2020 2027 6865 6c6c 696e 6765         'hellinge
+0001d440: 725f 6d65 616e 273a 2030 2e39 2c0a 2020  r_mean': 0.9,.  
+0001d450: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001d460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d480: 2020 2020 2020 2020 2027 6b6c 645f 7375           'kld_su
-0001d490: 6d27 3a20 3234 2e32 2c0a 2020 2020 2020  m': 24.2,.      
+0001d470: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0001d480: 6b6c 645f 7375 6d27 3a20 3234 2e32 2c0a  kld_sum': 24.2,.
+0001d490: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001d4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001d4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d4c0: 2020 2020 2020 2020 2020 2027 6b6c 645f             'kld_
-0001d4d0: 6d65 616e 273a 2036 2e30 2c0a 2020 2020  mean': 6.0,.    
+0001d4c0: 2027 6b6c 645f 6d65 616e 273a 2036 2e30   'kld_mean': 6.0
+0001d4d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
 0001d4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001d4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d500: 2020 2020 2020 2020 2020 2020 2027 6631               'f1
-0001d510: 273a 207b 2774 7664 273a 2030 2e35 2c20  ': {'tvd': 0.5, 
-0001d520: 2768 656c 6c69 6e67 6572 273a 2031 2e30  'hellinger': 1.0
-0001d530: 2c20 276b 6c64 273a 2036 2e34 7d2c 0a20  , 'kld': 6.4},. 
+0001d500: 2020 2027 6631 273a 207b 2774 7664 273a     'f1': {'tvd':
+0001d510: 2030 2e35 2c20 2768 656c 6c69 6e67 6572   0.5, 'hellinger
+0001d520: 273a 2031 2e30 2c20 276b 6c64 273a 2036  ': 1.0, 'kld': 6
+0001d530: 2e34 7d2c 0a20 2020 2020 2020 2020 2020  .4},.           
 0001d540: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001d550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d570: 2766 3227 3a20 7b27 7476 6427 3a20 302e  'f2': {'tvd': 0.
-0001d580: 352c 2027 6865 6c6c 696e 6765 7227 3a20  5, 'hellinger': 
-0001d590: 312e 302c 2027 6b6c 6427 3a20 362e 357d  1.0, 'kld': 6.5}
-0001d5a0: 7d0a 0a20 2020 2020 2020 2020 2020 2020  }..             
-0001d5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d5c0: 2020 2023 2043 7265 6174 6520 6174 7472     # Create attr
-0001d5d0: 6962 7574 6573 2064 6963 7469 6f6e 6172  ibutes dictionar
-0001d5e0: 7920 6163 636f 7264 696e 6720 746f 2074  y according to t
-0001d5f0: 6865 2072 6571 7569 7265 6420 666f 726d  he required form
-0001d600: 6174 0a20 2020 2020 2020 2020 2020 2020  at.             
-0001d610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d620: 2020 2061 7474 7269 6275 7465 7320 3d20     attributes = 
-0001d630: 7b60 6375 7272 656e 745f 7374 6174 7360  {`current_stats`
-0001d640: 3a20 6a73 6f6e 2e64 756d 7073 2863 7572  : json.dumps(cur
-0001d650: 7265 6e74 5f73 7461 7473 292c 0a20 2020  rent_stats),.   
+0001d560: 2020 2020 2020 2766 3227 3a20 7b27 7476        'f2': {'tv
+0001d570: 6427 3a20 302e 352c 2027 6865 6c6c 696e  d': 0.5, 'hellin
+0001d580: 6765 7227 3a20 312e 302c 2027 6b6c 6427  ger': 1.0, 'kld'
+0001d590: 3a20 362e 357d 7d0a 0a20 2020 2020 2020  : 6.5}}..       
+0001d5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d5b0: 2020 2020 2020 2020 2023 2043 7265 6174           # Creat
+0001d5c0: 6520 6174 7472 6962 7574 6573 2064 6963  e attributes dic
+0001d5d0: 7469 6f6e 6172 7920 6163 636f 7264 696e  tionary accordin
+0001d5e0: 6720 746f 2074 6865 2072 6571 7569 7265  g to the require
+0001d5f0: 6420 666f 726d 6174 0a20 2020 2020 2020  d format.       
+0001d600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d610: 2020 2020 2020 2020 2061 7474 7269 6275           attribu
+0001d620: 7465 7320 3d20 7b60 6375 7272 656e 745f  tes = {`current_
+0001d630: 7374 6174 7360 3a20 6a73 6f6e 2e64 756d  stats`: json.dum
+0001d640: 7073 2863 7572 7265 6e74 5f73 7461 7473  ps(current_stats
+0001d650: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
 0001d660: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001d670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d680: 2020 2020 2020 2020 2020 2060 6472 6966             `drif
-0001d690: 745f 7374 6174 7573 603a 2022 4452 4946  t_status`: "DRIF
-0001d6a0: 545f 4445 5445 4354 4544 227d 0a0a 2020  T_DETECTED"}..  
-0001d6b0: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
-0001d6c0: 2020 2061 7474 7269 6275 7465 7320 3d20     attributes = 
-0001d6d0: 7b22 6174 7472 6962 7574 6573 223a 205f  {"attributes": _
-0001d6e0: 6173 5f6a 736f 6e28 6174 7472 6962 7574  as_json(attribut
-0001d6f0: 6573 297d 0a20 2020 2020 2020 2070 6174  es)}.        pat
-0001d700: 6820 3d20 6622 7072 6f6a 6563 7473 2f7b  h = f"projects/{
-0001d710: 7072 6f6a 6563 747d 2f6d 6f64 656c 2d65  project}/model-e
-0001d720: 6e64 706f 696e 7473 2f7b 656e 6470 6f69  ndpoints/{endpoi
-0001d730: 6e74 5f69 647d 220a 2020 2020 2020 2020  nt_id}".        
-0001d740: 7365 6c66 2e61 7069 5f63 616c 6c28 0a20  self.api_call(. 
-0001d750: 2020 2020 2020 2020 2020 206d 6574 686f             metho
-0001d760: 643d 2250 4154 4348 222c 0a20 2020 2020  d="PATCH",.     
-0001d770: 2020 2020 2020 2070 6174 683d 7061 7468         path=path
-0001d780: 2c0a 2020 2020 2020 2020 2020 2020 7061  ,.            pa
-0001d790: 7261 6d73 3d61 7474 7269 6275 7465 732c  rams=attributes,
-0001d7a0: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
-0001d7b0: 6465 6620 6372 6561 7465 5f68 7562 5f73  def create_hub_s
-0001d7c0: 6f75 7263 6528 0a20 2020 2020 2020 2073  ource(.        s
-0001d7d0: 656c 662c 2073 6f75 7263 653a 2055 6e69  elf, source: Uni
-0001d7e0: 6f6e 5b64 6963 742c 206d 6c72 756e 2e63  on[dict, mlrun.c
-0001d7f0: 6f6d 6d6f 6e2e 7363 6865 6d61 732e 496e  ommon.schemas.In
-0001d800: 6465 7865 6448 7562 536f 7572 6365 5d0a  dexedHubSource].
-0001d810: 2020 2020 293a 0a20 2020 2020 2020 2022      ):.        "
-0001d820: 2222 0a20 2020 2020 2020 2041 6464 2061  "".        Add a
-0001d830: 206e 6577 2068 7562 2073 6f75 7263 652e   new hub source.
-0001d840: 0a0a 2020 2020 2020 2020 4d4c 5275 6e20  ..        MLRun 
-0001d850: 6d61 696e 7461 696e 7320 616e 206f 7264  maintains an ord
-0001d860: 6572 6564 206c 6973 7420 6f66 2068 7562  ered list of hub
-0001d870: 2073 6f75 7263 6573 2028 e280 9c73 6f75   sources (...sou
-0001d880: 7263 6573 e280 9d29 2045 6163 6820 736f  rces...) Each so
-0001d890: 7572 6365 2068 6173 0a20 2020 2020 2020  urce has.       
-0001d8a0: 2069 7473 2064 6574 6169 6c73 2072 6567   its details reg
-0001d8b0: 6973 7465 7265 6420 616e 6420 6974 7320  istered and its 
-0001d8c0: 6f72 6465 7220 7769 7468 696e 2074 6865  order within the
-0001d8d0: 206c 6973 742e 2057 6865 6e20 6372 6561   list. When crea
-0001d8e0: 7469 6e67 2061 206e 6577 2073 6f75 7263  ting a new sourc
-0001d8f0: 652c 2074 6865 2073 7065 6369 616c 206f  e, the special o
-0001d900: 7264 6572 2060 602d 3160 600a 2020 2020  rder ``-1``.    
-0001d910: 2020 2020 6361 6e20 6265 2075 7365 6420      can be used 
-0001d920: 746f 206d 6172 6b20 7468 6973 2073 6f75  to mark this sou
-0001d930: 7263 6520 6173 206c 6173 7420 696e 2074  rce as last in t
-0001d940: 6865 206c 6973 742e 2048 6f77 6576 6572  he list. However
-0001d950: 2c20 6f6e 6365 2074 6865 2073 6f75 7263  , once the sourc
-0001d960: 6520 6973 2069 6e20 7468 6520 4d4c 5275  e is in the MLRu
-0001d970: 6e20 6c69 7374 2c0a 2020 2020 2020 2020  n list,.        
-0001d980: 6974 7320 6f72 6465 7220 7769 6c6c 2061  its order will a
-0001d990: 6c77 6179 7320 6265 2060 603e 3060 602e  lways be ``>0``.
-0001d9a0: 0a0a 2020 2020 2020 2020 5468 6520 676c  ..        The gl
-0001d9b0: 6f62 616c 2068 7562 2073 6f75 7263 6520  obal hub source 
-0001d9c0: 616c 7761 7973 2065 7869 7374 7320 696e  always exists in
-0001d9d0: 2074 6865 206c 6973 742c 2061 6e64 2069   the list, and i
-0001d9e0: 7320 616c 7761 7973 2074 6865 206c 6173  s always the las
-0001d9f0: 7420 736f 7572 6365 0a20 2020 2020 2020  t source.       
-0001da00: 2028 6060 6f72 6465 7220 3d20 2d31 6060   (``order = -1``
-0001da10: 292e 2049 7420 6361 6e6e 6f74 2062 6520  ). It cannot be 
-0001da20: 6d6f 6469 6669 6564 206e 6f72 2063 616e  modified nor can
-0001da30: 2069 7420 6265 206d 6f76 6564 2074 6f20   it be moved to 
-0001da40: 616e 6f74 6865 7220 6f72 6465 7220 696e  another order in
-0001da50: 2074 6865 206c 6973 742e 0a0a 2020 2020   the list...    
-0001da60: 2020 2020 5468 6520 736f 7572 6365 206f      The source o
-0001da70: 626a 6563 7420 6d61 7920 636f 6e74 6169  bject may contai
-0001da80: 6e20 6372 6564 656e 7469 616c 7320 7768  n credentials wh
-0001da90: 6963 6820 6172 6520 6e65 6564 6564 2074  ich are needed t
-0001daa0: 6f20 6163 6365 7373 2074 6865 2064 6174  o access the dat
-0001dab0: 6173 746f 7265 2077 6865 7265 2074 6865  astore where the
-0001dac0: 2073 6f75 7263 6520 6973 2073 746f 7265   source is store
-0001dad0: 642e 0a20 2020 2020 2020 2054 6865 7365  d..        These
-0001dae0: 2063 7265 6465 6e74 6961 6c73 2061 7265   credentials are
-0001daf0: 206e 6f74 206b 6570 7420 696e 2074 6865   not kept in the
-0001db00: 204d 4c52 756e 2044 422c 2062 7574 2061   MLRun DB, but a
-0001db10: 7265 2073 746f 7265 6420 696e 7369 6465  re stored inside
-0001db20: 2061 206b 7562 6572 6e65 7465 7320 7365   a kubernetes se
-0001db30: 6372 6574 206f 626a 6563 7420 6d61 696e  cret object main
-0001db40: 7461 696e 6564 2062 790a 2020 2020 2020  tained by.      
-0001db50: 2020 4d4c 5275 6e2e 2054 6865 7920 6172    MLRun. They ar
-0001db60: 6520 6e6f 7420 7265 7475 726e 6564 2074  e not returned t
-0001db70: 6872 6f75 6768 2061 6e79 2041 5049 2066  hrough any API f
-0001db80: 726f 6d20 4d4c 5275 6e2e 0a0a 2020 2020  rom MLRun...    
-0001db90: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
-0001dba0: 2020 2020 2020 2020 2020 2069 6d70 6f72             impor
-0001dbb0: 7420 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73  t mlrun.common.s
-0001dbc0: 6368 656d 6173 0a0a 2020 2020 2020 2020  chemas..        
-0001dbd0: 2020 2020 2320 4164 6420 6120 7072 6976      # Add a priv
-0001dbe0: 6174 6520 736f 7572 6365 2061 7320 7468  ate source as th
-0001dbf0: 6520 6c61 7374 206f 6e65 2028 7769 6c6c  e last one (will
-0001dc00: 2062 6520 2331 2069 6e20 7468 6520 6c69   be #1 in the li
-0001dc10: 7374 290a 2020 2020 2020 2020 2020 2020  st).            
-0001dc20: 7072 6976 6174 655f 736f 7572 6365 203d  private_source =
-0001dc30: 206d 6c72 756e 2e63 6f6d 6d6f 6e2e 7363   mlrun.common.sc
-0001dc40: 6865 6d61 732e 496e 6465 7865 6448 7562  hemas.IndexedHub
-0001dc50: 6553 6f75 7263 6528 0a20 2020 2020 2020  eSource(.       
-0001dc60: 2020 2020 2020 2020 206f 7264 6572 3d2d           order=-
-0001dc70: 312c 0a20 2020 2020 2020 2020 2020 2020  1,.             
-0001dc80: 2020 2073 6f75 7263 653d 6d6c 7275 6e2e     source=mlrun.
-0001dc90: 636f 6d6d 6f6e 2e73 6368 656d 6173 2e48  common.schemas.H
-0001dca0: 7562 536f 7572 6365 280a 2020 2020 2020  ubSource(.      
-0001dcb0: 2020 2020 2020 2020 2020 2020 2020 6d65                me
-0001dcc0: 7461 6461 7461 3d6d 6c72 756e 2e63 6f6d  tadata=mlrun.com
-0001dcd0: 6d6f 6e2e 7363 6865 6d61 732e 4875 624f  mon.schemas.HubO
-0001dce0: 626a 6563 744d 6574 6164 6174 6128 0a20  bjectMetadata(. 
-0001dcf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001dd00: 2020 2020 2020 206e 616d 653d 2270 7269         name="pri
-0001dd10: 7622 2c20 6465 7363 7269 7074 696f 6e3d  v", description=
-0001dd20: 2261 2070 7269 7661 7465 2073 6f75 7263  "a private sourc
-0001dd30: 6522 0a20 2020 2020 2020 2020 2020 2020  e".             
-0001dd40: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
-0001dd50: 2020 2020 2020 2020 2020 2020 2020 7370                sp
-0001dd60: 6563 3d6d 6c72 756e 2e63 6f6d 6d6f 6e2e  ec=mlrun.common.
-0001dd70: 7363 6865 6d61 732e 4875 6253 6f75 7263  schemas.HubSourc
-0001dd80: 6553 7065 6328 7061 7468 3d22 2f6c 6f63  eSpec(path="/loc
-0001dd90: 616c 2f70 6174 682f 746f 2f73 6f75 7263  al/path/to/sourc
-0001dda0: 6522 2c20 6368 616e 6e65 6c3d 2264 6576  e", channel="dev
-0001ddb0: 656c 6f70 6d65 6e74 2229 0a20 2020 2020  elopment").     
-0001ddc0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-0001ddd0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0001dde0: 2020 2020 2020 2064 622e 6372 6561 7465         db.create
-0001ddf0: 5f68 7562 5f73 6f75 7263 6528 7072 6976  _hub_source(priv
-0001de00: 6174 655f 736f 7572 6365 290a 0a20 2020  ate_source)..   
-0001de10: 2020 2020 2020 2020 2023 2041 6464 2061           # Add a
-0001de20: 6e6f 7468 6572 2073 6f75 7263 6520 6173  nother source as
-0001de30: 2031 7374 2069 6e20 7468 6520 6c69 7374   1st in the list
-0001de40: 202d 2077 696c 6c20 7075 7368 2070 7265   - will push pre
-0001de50: 7669 6f75 7320 6f6e 6520 746f 2062 6520  vious one to be 
-0001de60: 2332 0a20 2020 2020 2020 2020 2020 2061  #2.            a
-0001de70: 6e6f 7468 6572 5f73 6f75 7263 6520 3d20  nother_source = 
-0001de80: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
-0001de90: 656d 6173 2e49 6e64 6578 6564 4875 6253  emas.IndexedHubS
-0001dea0: 6f75 7263 6528 0a20 2020 2020 2020 2020  ource(.         
-0001deb0: 2020 2020 2020 206f 7264 6572 3d31 2c0a         order=1,.
-0001dec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ded0: 736f 7572 6365 3d6d 6c72 756e 2e63 6f6d  source=mlrun.com
-0001dee0: 6d6f 6e2e 7363 6865 6d61 732e 4875 6253  mon.schemas.HubS
-0001def0: 6f75 7263 6528 0a20 2020 2020 2020 2020  ource(.         
-0001df00: 2020 2020 2020 2020 2020 206d 6574 6164             metad
-0001df10: 6174 613d 6d6c 7275 6e2e 636f 6d6d 6f6e  ata=mlrun.common
-0001df20: 2e73 6368 656d 6173 2e48 7562 4f62 6a65  .schemas.HubObje
-0001df30: 6374 4d65 7461 6461 7461 280a 2020 2020  ctMetadata(.    
-0001df40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001df50: 2020 2020 6e61 6d65 3d22 7072 6976 2d32      name="priv-2
-0001df60: 222c 2064 6573 6372 6970 7469 6f6e 3d22  ", description="
-0001df70: 616e 6f74 6865 7220 736f 7572 6365 220a  another source".
-0001df80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001df90: 2020 2020 292c 0a20 2020 2020 2020 2020      ),.         
-0001dfa0: 2020 2020 2020 2020 2020 2073 7065 633d             spec=
-0001dfb0: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
-0001dfc0: 656d 6173 2e48 7562 536f 7572 6365 5370  emas.HubSourceSp
-0001dfd0: 6563 280a 2020 2020 2020 2020 2020 2020  ec(.            
-0001dfe0: 2020 2020 2020 2020 2020 2020 7061 7468              path
-0001dff0: 3d22 2f6c 6f63 616c 2f70 6174 682f 746f  ="/local/path/to
-0001e000: 2f73 6f75 7263 652f 3222 2c0a 2020 2020  /source/2",.    
-0001e010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e020: 2020 2020 6368 616e 6e65 6c3d 2264 6576      channel="dev
-0001e030: 656c 6f70 6d65 6e74 222c 0a20 2020 2020  elopment",.     
-0001e040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e050: 2020 2063 7265 6465 6e74 6961 6c73 3d7b     credentials={
-0001e060: 2e2e 2e7d 0a20 2020 2020 2020 2020 2020  ...}.           
-0001e070: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0001e080: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-0001e090: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0001e0a0: 2020 2020 2020 2064 622e 6372 6561 7465         db.create
-0001e0b0: 5f68 7562 5f73 6f75 7263 6528 616e 6f74  _hub_source(anot
-0001e0c0: 6865 725f 736f 7572 6365 290a 0a20 2020  her_source)..   
-0001e0d0: 2020 2020 203a 7061 7261 6d20 736f 7572       :param sour
-0001e0e0: 6365 3a20 5468 6520 736f 7572 6365 2061  ce: The source a
-0001e0f0: 6e64 2069 7473 206f 7264 6572 2c20 6f66  nd its order, of
-0001e100: 2074 7970 650a 2020 2020 2020 2020 2020   type.          
-0001e110: 2020 3a70 793a 636c 6173 733a 607e 6d6c    :py:class:`~ml
-0001e120: 7275 6e2e 636f 6d6d 6f6e 2e73 6368 656d  run.common.schem
-0001e130: 6173 2e68 7562 2e49 6e64 6578 6564 4875  as.hub.IndexedHu
-0001e140: 6253 6f75 7263 6560 2c20 6f72 2069 6e20  bSource`, or in 
-0001e150: 6469 6374 696f 6e61 7279 2066 6f72 6d2e  dictionary form.
-0001e160: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-0001e170: 733a 2054 6865 2073 6f75 7263 6520 6f62  s: The source ob
-0001e180: 6a65 6374 2061 7320 696e 7365 7274 6564  ject as inserted
-0001e190: 2069 6e74 6f20 7468 6520 6461 7461 6261   into the databa
-0001e1a0: 7365 2c20 7769 7468 2063 7265 6465 6e74  se, with credent
-0001e1b0: 6961 6c73 2073 7472 6970 7065 642e 0a20  ials stripped.. 
-0001e1c0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0001e1d0: 2020 2070 6174 6820 3d20 2268 7562 2f73     path = "hub/s
-0001e1e0: 6f75 7263 6573 220a 2020 2020 2020 2020  ources".        
-0001e1f0: 6966 2069 7369 6e73 7461 6e63 6528 736f  if isinstance(so
-0001e200: 7572 6365 2c20 6d6c 7275 6e2e 636f 6d6d  urce, mlrun.comm
-0001e210: 6f6e 2e73 6368 656d 6173 2e49 6e64 6578  on.schemas.Index
-0001e220: 6564 4875 6253 6f75 7263 6529 3a0a 2020  edHubSource):.  
-0001e230: 2020 2020 2020 2020 2020 736f 7572 6365            source
-0001e240: 203d 2073 6f75 7263 652e 6469 6374 2829   = source.dict()
-0001e250: 0a20 2020 2020 2020 2072 6573 706f 6e73  .        respons
-0001e260: 6520 3d20 7365 6c66 2e61 7069 5f63 616c  e = self.api_cal
-0001e270: 6c28 6d65 7468 6f64 3d22 504f 5354 222c  l(method="POST",
-0001e280: 2070 6174 683d 7061 7468 2c20 6a73 6f6e   path=path, json
-0001e290: 3d73 6f75 7263 6529 0a20 2020 2020 2020  =source).       
-0001e2a0: 2072 6574 7572 6e20 6d6c 7275 6e2e 636f   return mlrun.co
-0001e2b0: 6d6d 6f6e 2e73 6368 656d 6173 2e49 6e64  mmon.schemas.Ind
-0001e2c0: 6578 6564 4875 6253 6f75 7263 6528 2a2a  exedHubSource(**
-0001e2d0: 7265 7370 6f6e 7365 2e6a 736f 6e28 2929  response.json())
-0001e2e0: 0a0a 2020 2020 6465 6620 7374 6f72 655f  ..    def store_
-0001e2f0: 6875 625f 736f 7572 6365 280a 2020 2020  hub_source(.    
-0001e300: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-0001e310: 2020 736f 7572 6365 5f6e 616d 653a 2073    source_name: s
-0001e320: 7472 2c0a 2020 2020 2020 2020 736f 7572  tr,.        sour
-0001e330: 6365 3a20 556e 696f 6e5b 6469 6374 2c20  ce: Union[dict, 
-0001e340: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
-0001e350: 656d 6173 2e49 6e64 6578 6564 4875 6253  emas.IndexedHubS
-0001e360: 6f75 7263 655d 2c0a 2020 2020 293a 0a20  ource],.    ):. 
-0001e370: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0001e380: 2020 2043 7265 6174 6520 6f72 2072 6570     Create or rep
-0001e390: 6c61 6365 2061 2068 7562 2073 6f75 7263  lace a hub sourc
-0001e3a0: 652e 0a20 2020 2020 2020 2046 6f72 2061  e..        For a
-0001e3b0: 6e20 6578 616d 706c 6520 6f66 2074 6865  n example of the
-0001e3c0: 2073 6f75 7263 6520 666f 726d 6174 2061   source format a
-0001e3d0: 6e64 2065 7870 6c61 6e61 7469 6f6e 206f  nd explanation o
-0001e3e0: 6620 7468 6520 736f 7572 6365 206f 7264  f the source ord
-0001e3f0: 6572 206c 6f67 6963 2c0a 2020 2020 2020  er logic,.      
-0001e400: 2020 706c 6561 7365 2073 6565 203a 7079    please see :py
-0001e410: 3a66 756e 633a 607e 6372 6561 7465 5f68  :func:`~create_h
-0001e420: 7562 5f73 6f75 7263 6560 2e20 5468 6973  ub_source`. This
-0001e430: 206d 6574 686f 6420 6361 6e20 6265 2075   method can be u
-0001e440: 7365 6420 746f 206d 6f64 6966 7920 7468  sed to modify th
-0001e450: 6520 736f 7572 6365 2069 7473 656c 6620  e source itself 
-0001e460: 6f72 2069 7473 0a20 2020 2020 2020 206f  or its.        o
-0001e470: 7264 6572 2069 6e20 7468 6520 6c69 7374  rder in the list
-0001e480: 206f 6620 736f 7572 6365 732e 0a0a 2020   of sources...  
-0001e490: 2020 2020 2020 3a70 6172 616d 2073 6f75        :param sou
-0001e4a0: 7263 655f 6e61 6d65 3a20 4e61 6d65 206f  rce_name: Name o
-0001e4b0: 6620 7468 6520 736f 7572 6365 206f 626a  f the source obj
-0001e4c0: 6563 7420 746f 206d 6f64 6966 792f 6372  ect to modify/cr
-0001e4d0: 6561 7465 2e20 4974 206d 7573 7420 6d61  eate. It must ma
-0001e4e0: 7463 6820 7468 6520 6060 736f 7572 6365  tch the ``source
-0001e4f0: 2e6d 6574 6164 6174 612e 6e61 6d65 6060  .metadata.name``
-0001e500: 0a20 2020 2020 2020 2020 2020 2070 6172  .            par
-0001e510: 616d 6574 6572 2069 6e20 7468 6520 736f  ameter in the so
-0001e520: 7572 6365 2069 7473 656c 662e 0a20 2020  urce itself..   
-0001e530: 2020 2020 203a 7061 7261 6d20 736f 7572       :param sour
-0001e540: 6365 3a20 536f 7572 6365 206f 626a 6563  ce: Source objec
-0001e550: 7420 746f 2073 746f 7265 2069 6e20 7468  t to store in th
-0001e560: 6520 6461 7461 6261 7365 2e0a 2020 2020  e database..    
-0001e570: 2020 2020 3a72 6574 7572 6e73 3a20 5468      :returns: Th
-0001e580: 6520 736f 7572 6365 206f 626a 6563 7420  e source object 
-0001e590: 6173 2073 746f 7265 6420 696e 2074 6865  as stored in the
-0001e5a0: 2044 422e 0a20 2020 2020 2020 2022 2222   DB..        """
-0001e5b0: 0a20 2020 2020 2020 2070 6174 6820 3d20  .        path = 
-0001e5c0: 6622 6875 622f 736f 7572 6365 732f 7b73  f"hub/sources/{s
-0001e5d0: 6f75 7263 655f 6e61 6d65 7d22 0a20 2020  ource_name}".   
-0001e5e0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0001e5f0: 6365 2873 6f75 7263 652c 206d 6c72 756e  ce(source, mlrun
-0001e600: 2e63 6f6d 6d6f 6e2e 7363 6865 6d61 732e  .common.schemas.
-0001e610: 496e 6465 7865 6448 7562 536f 7572 6365  IndexedHubSource
-0001e620: 293a 0a20 2020 2020 2020 2020 2020 2073  ):.            s
-0001e630: 6f75 7263 6520 3d20 736f 7572 6365 2e64  ource = source.d
-0001e640: 6963 7428 290a 0a20 2020 2020 2020 2072  ict()..        r
-0001e650: 6573 706f 6e73 6520 3d20 7365 6c66 2e61  esponse = self.a
-0001e660: 7069 5f63 616c 6c28 6d65 7468 6f64 3d22  pi_call(method="
-0001e670: 5055 5422 2c20 7061 7468 3d70 6174 682c  PUT", path=path,
-0001e680: 206a 736f 6e3d 736f 7572 6365 290a 2020   json=source).  
-0001e690: 2020 2020 2020 7265 7475 726e 206d 6c72        return mlr
-0001e6a0: 756e 2e63 6f6d 6d6f 6e2e 7363 6865 6d61  un.common.schema
-0001e6b0: 732e 496e 6465 7865 6448 7562 536f 7572  s.IndexedHubSour
-0001e6c0: 6365 282a 2a72 6573 706f 6e73 652e 6a73  ce(**response.js
-0001e6d0: 6f6e 2829 290a 0a20 2020 2064 6566 206c  on())..    def l
-0001e6e0: 6973 745f 6875 625f 736f 7572 6365 7328  ist_hub_sources(
-0001e6f0: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
-0001e700: 2222 0a20 2020 2020 2020 204c 6973 7420  "".        List 
-0001e710: 6875 6220 736f 7572 6365 7320 696e 2074  hub sources in t
-0001e720: 6865 204d 4c52 756e 2044 422e 0a20 2020  he MLRun DB..   
-0001e730: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001e740: 2070 6174 6820 3d20 2268 7562 2f73 6f75   path = "hub/sou
-0001e750: 7263 6573 220a 2020 2020 2020 2020 7265  rces".        re
-0001e760: 7370 6f6e 7365 203d 2073 656c 662e 6170  sponse = self.ap
-0001e770: 695f 6361 6c6c 286d 6574 686f 643d 2247  i_call(method="G
-0001e780: 4554 222c 2070 6174 683d 7061 7468 292e  ET", path=path).
-0001e790: 6a73 6f6e 2829 0a20 2020 2020 2020 2072  json().        r
-0001e7a0: 6573 756c 7473 203d 205b 5d0a 2020 2020  esults = [].    
-0001e7b0: 2020 2020 666f 7220 6974 656d 2069 6e20      for item in 
-0001e7c0: 7265 7370 6f6e 7365 3a0a 2020 2020 2020  response:.      
-0001e7d0: 2020 2020 2020 7265 7375 6c74 732e 6170        results.ap
-0001e7e0: 7065 6e64 286d 6c72 756e 2e63 6f6d 6d6f  pend(mlrun.commo
-0001e7f0: 6e2e 7363 6865 6d61 732e 496e 6465 7865  n.schemas.Indexe
-0001e800: 6448 7562 536f 7572 6365 282a 2a69 7465  dHubSource(**ite
-0001e810: 6d29 290a 2020 2020 2020 2020 7265 7475  m)).        retu
-0001e820: 726e 2072 6573 756c 7473 0a0a 2020 2020  rn results..    
-0001e830: 6465 6620 6765 745f 6875 625f 736f 7572  def get_hub_sour
-0001e840: 6365 2873 656c 662c 2073 6f75 7263 655f  ce(self, source_
-0001e850: 6e61 6d65 3a20 7374 7229 3a0a 2020 2020  name: str):.    
-0001e860: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001e870: 5265 7472 6965 7665 2061 2068 7562 2073  Retrieve a hub s
-0001e880: 6f75 7263 6520 6672 6f6d 2074 6865 2044  ource from the D
-0001e890: 422e 0a0a 2020 2020 2020 2020 3a70 6172  B...        :par
-0001e8a0: 616d 2073 6f75 7263 655f 6e61 6d65 3a20  am source_name: 
-0001e8b0: 4e61 6d65 206f 6620 7468 6520 6875 6220  Name of the hub 
-0001e8c0: 736f 7572 6365 2074 6f20 7265 7472 6965  source to retrie
-0001e8d0: 7665 2e0a 2020 2020 2020 2020 2222 220a  ve..        """.
-0001e8e0: 2020 2020 2020 2020 7061 7468 203d 2066          path = f
-0001e8f0: 2268 7562 2f73 6f75 7263 6573 2f7b 736f  "hub/sources/{so
-0001e900: 7572 6365 5f6e 616d 657d 220a 2020 2020  urce_name}".    
-0001e910: 2020 2020 7265 7370 6f6e 7365 203d 2073      response = s
-0001e920: 656c 662e 6170 695f 6361 6c6c 286d 6574  elf.api_call(met
-0001e930: 686f 643d 2247 4554 222c 2070 6174 683d  hod="GET", path=
-0001e940: 7061 7468 290a 2020 2020 2020 2020 7265  path).        re
-0001e950: 7475 726e 206d 6c72 756e 2e63 6f6d 6d6f  turn mlrun.commo
-0001e960: 6e2e 7363 6865 6d61 732e 496e 6465 7865  n.schemas.Indexe
-0001e970: 6448 7562 536f 7572 6365 282a 2a72 6573  dHubSource(**res
-0001e980: 706f 6e73 652e 6a73 6f6e 2829 290a 0a20  ponse.json()).. 
-0001e990: 2020 2064 6566 2064 656c 6574 655f 6875     def delete_hu
-0001e9a0: 625f 736f 7572 6365 2873 656c 662c 2073  b_source(self, s
-0001e9b0: 6f75 7263 655f 6e61 6d65 3a20 7374 7229  ource_name: str)
-0001e9c0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0001e9d0: 2020 2020 2020 4465 6c65 7465 2061 2068        Delete a h
-0001e9e0: 7562 2073 6f75 7263 6520 6672 6f6d 2074  ub source from t
-0001e9f0: 6865 2044 422e 0a20 2020 2020 2020 2054  he DB..        T
-0001ea00: 6865 2073 6f75 7263 6520 7769 6c6c 2062  he source will b
-0001ea10: 6520 6465 6c65 7465 6420 6672 6f6d 2074  e deleted from t
-0001ea20: 6865 206c 6973 742c 2061 6e64 2061 6e79  he list, and any
-0001ea30: 2066 6f6c 6c6f 7769 6e67 2073 6f75 7263   following sourc
-0001ea40: 6573 2077 696c 6c20 6265 2070 726f 6d6f  es will be promo
-0001ea50: 7465 6420 2d20 666f 7220 6578 616d 706c  ted - for exampl
-0001ea60: 652c 2069 6620 7468 650a 2020 2020 2020  e, if the.      
-0001ea70: 2020 3173 7420 736f 7572 6365 2069 7320    1st source is 
-0001ea80: 6465 6c65 7465 642c 2074 6865 2032 6e64  deleted, the 2nd
-0001ea90: 2073 6f75 7263 6520 7769 6c6c 2062 6563   source will bec
-0001eaa0: 6f6d 6520 2331 2069 6e20 7468 6520 6c69  ome #1 in the li
-0001eab0: 7374 2e0a 2020 2020 2020 2020 5468 6520  st..        The 
-0001eac0: 676c 6f62 616c 2068 7562 2073 6f75 7263  global hub sourc
-0001ead0: 6520 6361 6e6e 6f74 2062 6520 6465 6c65  e cannot be dele
-0001eae0: 7465 642e 0a0a 2020 2020 2020 2020 3a70  ted...        :p
-0001eaf0: 6172 616d 2073 6f75 7263 655f 6e61 6d65  aram source_name
-0001eb00: 3a20 4e61 6d65 206f 6620 7468 6520 6875  : Name of the hu
-0001eb10: 6220 736f 7572 6365 2074 6f20 6465 6c65  b source to dele
-0001eb20: 7465 2e0a 2020 2020 2020 2020 2222 220a  te..        """.
-0001eb30: 2020 2020 2020 2020 7061 7468 203d 2066          path = f
-0001eb40: 2268 7562 2f73 6f75 7263 6573 2f7b 736f  "hub/sources/{so
-0001eb50: 7572 6365 5f6e 616d 657d 220a 2020 2020  urce_name}".    
-0001eb60: 2020 2020 7365 6c66 2e61 7069 5f63 616c      self.api_cal
-0001eb70: 6c28 6d65 7468 6f64 3d22 4445 4c45 5445  l(method="DELETE
-0001eb80: 222c 2070 6174 683d 7061 7468 290a 0a20  ", path=path).. 
-0001eb90: 2020 2064 6566 2067 6574 5f68 7562 5f63     def get_hub_c
-0001eba0: 6174 616c 6f67 280a 2020 2020 2020 2020  atalog(.        
-0001ebb0: 7365 6c66 2c0a 2020 2020 2020 2020 736f  self,.        so
-0001ebc0: 7572 6365 5f6e 616d 653a 2073 7472 2c0a  urce_name: str,.
-0001ebd0: 2020 2020 2020 2020 7665 7273 696f 6e3a          version:
-0001ebe0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0001ebf0: 2020 2020 2074 6167 3a20 7374 7220 3d20       tag: str = 
-0001ec00: 4e6f 6e65 2c0a 2020 2020 2020 2020 666f  None,.        fo
-0001ec10: 7263 655f 7265 6672 6573 683a 2062 6f6f  rce_refresh: boo
-0001ec20: 6c20 3d20 4661 6c73 652c 0a20 2020 2029  l = False,.    )
-0001ec30: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0001ec40: 2020 2020 2020 5265 7472 6965 7665 2074        Retrieve t
-0001ec50: 6865 2069 7465 6d20 6361 7461 6c6f 6720  he item catalog 
-0001ec60: 666f 7220 6120 7370 6563 6966 6965 6420  for a specified 
-0001ec70: 6875 6220 736f 7572 6365 2e0a 2020 2020  hub source..    
-0001ec80: 2020 2020 5468 6520 6c69 7374 206f 6620      The list of 
-0001ec90: 6974 656d 7320 6361 6e20 6265 2066 696c  items can be fil
-0001eca0: 7465 7265 6420 6163 636f 7264 696e 6720  tered according 
-0001ecb0: 746f 2076 6172 696f 7573 2066 696c 7465  to various filte
-0001ecc0: 7273 2c20 7573 696e 6720 6974 656d 2773  rs, using item's
-0001ecd0: 206d 6574 6164 6174 6120 746f 2066 696c   metadata to fil
-0001ece0: 7465 722e 0a0a 2020 2020 2020 2020 3a70  ter...        :p
-0001ecf0: 6172 616d 2073 6f75 7263 655f 6e61 6d65  aram source_name
-0001ed00: 3a20 4e61 6d65 206f 6620 7468 6520 736f  : Name of the so
-0001ed10: 7572 6365 2e0a 2020 2020 2020 2020 3a70  urce..        :p
-0001ed20: 6172 616d 2076 6572 7369 6f6e 3a20 4669  aram version: Fi
-0001ed30: 6c74 6572 2069 7465 6d73 2061 6363 6f72  lter items accor
-0001ed40: 6469 6e67 2074 6f20 7468 6569 7220 7665  ding to their ve
-0001ed50: 7273 696f 6e2e 0a20 2020 2020 2020 203a  rsion..        :
-0001ed60: 7061 7261 6d20 7461 673a 2046 696c 7465  param tag: Filte
-0001ed70: 7220 6974 656d 7320 6261 7365 6420 6f6e  r items based on
-0001ed80: 2074 6167 2e0a 2020 2020 2020 2020 3a70   tag..        :p
-0001ed90: 6172 616d 2066 6f72 6365 5f72 6566 7265  aram force_refre
-0001eda0: 7368 3a20 4d61 6b65 2074 6865 2073 6572  sh: Make the ser
-0001edb0: 7665 7220 6665 7463 6820 7468 6520 6361  ver fetch the ca
-0001edc0: 7461 6c6f 6720 6672 6f6d 2074 6865 2061  talog from the a
-0001edd0: 6374 7561 6c20 6875 6220 736f 7572 6365  ctual hub source
-0001ede0: 2c0a 2020 2020 2020 2020 2020 2020 7261  ,.            ra
-0001edf0: 7468 6572 2074 6861 6e20 7265 6c79 206f  ther than rely o
-0001ee00: 6e20 6361 6368 6564 2069 6e66 6f72 6d61  n cached informa
-0001ee10: 7469 6f6e 2077 6869 6368 206d 6179 2065  tion which may e
-0001ee20: 7869 7374 2066 726f 6d20 7072 6576 696f  xist from previo
-0001ee30: 7573 2067 6574 2072 6571 7565 7374 732e  us get requests.
-0001ee40: 2046 6f72 2065 7861 6d70 6c65 2c0a 2020   For example,.  
-0001ee50: 2020 2020 2020 2020 2020 6966 2074 6865            if the
-0001ee60: 2073 6f75 7263 6520 7761 7320 7265 2d62   source was re-b
-0001ee70: 7569 6c74 2c0a 2020 2020 2020 2020 2020  uilt,.          
-0001ee80: 2020 7468 6973 2077 696c 6c20 6d61 6b65    this will make
-0001ee90: 2074 6865 2073 6572 7665 7220 6765 7420   the server get 
-0001eea0: 7468 6520 7570 6461 7465 6420 696e 666f  the updated info
-0001eeb0: 726d 6174 696f 6e2e 2044 6566 6175 6c74  rmation. Default
-0001eec0: 2069 7320 6060 4661 6c73 6560 602e 0a20   is ``False``.. 
-0001eed0: 2020 2020 2020 203a 7265 7475 726e 733a         :returns:
-0001eee0: 203a 7079 3a63 6c61 7373 3a60 7e6d 6c72   :py:class:`~mlr
-0001eef0: 756e 2e63 6f6d 6d6f 6e2e 7363 6865 6d61  un.common.schema
-0001ef00: 732e 6875 622e 4875 6243 6174 616c 6f67  s.hub.HubCatalog
-0001ef10: 6020 6f62 6a65 6374 2c20 7768 6963 6820  ` object, which 
-0001ef20: 6973 2065 7373 656e 7469 616c 6c79 2061  is essentially a
-0001ef30: 206c 6973 740a 2020 2020 2020 2020 2020   list.          
-0001ef40: 2020 6f66 203a 7079 3a63 6c61 7373 3a60    of :py:class:`
-0001ef50: 7e6d 6c72 756e 2e63 6f6d 6d6f 6e2e 7363  ~mlrun.common.sc
-0001ef60: 6865 6d61 732e 6875 622e 4875 6249 7465  hemas.hub.HubIte
-0001ef70: 6d60 2065 6e74 7269 6573 2e0a 2020 2020  m` entries..    
-0001ef80: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001ef90: 7061 7468 203d 2028 6622 6875 622f 736f  path = (f"hub/so
-0001efa0: 7572 6365 732f 7b73 6f75 7263 655f 6e61  urces/{source_na
-0001efb0: 6d65 7d2f 6974 656d 7322 2c29 0a20 2020  me}/items",).   
-0001efc0: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-0001efd0: 2020 2020 2020 2020 2020 2020 2276 6572              "ver
-0001efe0: 7369 6f6e 223a 2076 6572 7369 6f6e 2c0a  sion": version,.
-0001eff0: 2020 2020 2020 2020 2020 2020 2274 6167              "tag
-0001f000: 223a 2074 6167 2c0a 2020 2020 2020 2020  ": tag,.        
-0001f010: 2020 2020 2266 6f72 6365 2d72 6566 7265      "force-refre
-0001f020: 7368 223a 2066 6f72 6365 5f72 6566 7265  sh": force_refre
-0001f030: 7368 2c0a 2020 2020 2020 2020 7d0a 2020  sh,.        }.  
-0001f040: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
-0001f050: 2073 656c 662e 6170 695f 6361 6c6c 286d   self.api_call(m
-0001f060: 6574 686f 643d 2247 4554 222c 2070 6174  ethod="GET", pat
-0001f070: 683d 7061 7468 2c20 7061 7261 6d73 3d70  h=path, params=p
-0001f080: 6172 616d 7329 0a20 2020 2020 2020 2072  arams).        r
-0001f090: 6574 7572 6e20 6d6c 7275 6e2e 636f 6d6d  eturn mlrun.comm
-0001f0a0: 6f6e 2e73 6368 656d 6173 2e48 7562 4361  on.schemas.HubCa
-0001f0b0: 7461 6c6f 6728 2a2a 7265 7370 6f6e 7365  talog(**response
-0001f0c0: 2e6a 736f 6e28 2929 0a0a 2020 2020 6465  .json())..    de
-0001f0d0: 6620 6765 745f 6875 625f 6974 656d 280a  f get_hub_item(.
-0001f0e0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-0001f0f0: 2020 2020 2020 736f 7572 6365 5f6e 616d        source_nam
-0001f100: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
-0001f110: 6974 656d 5f6e 616d 653a 2073 7472 2c0a  item_name: str,.
-0001f120: 2020 2020 2020 2020 7665 7273 696f 6e3a          version:
-0001f130: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0001f140: 2020 2020 2074 6167 3a20 7374 7220 3d20       tag: str = 
-0001f150: 226c 6174 6573 7422 2c0a 2020 2020 2020  "latest",.      
-0001f160: 2020 666f 7263 655f 7265 6672 6573 683a    force_refresh:
-0001f170: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-0001f180: 2020 2029 3a0a 2020 2020 2020 2020 2222     ):.        ""
-0001f190: 220a 2020 2020 2020 2020 5265 7472 6965  ".        Retrie
-0001f1a0: 7665 2061 2073 7065 6369 6669 6320 6875  ve a specific hu
-0001f1b0: 6220 6974 656d 2e0a 0a20 2020 2020 2020  b item...       
-0001f1c0: 203a 7061 7261 6d20 736f 7572 6365 5f6e   :param source_n
-0001f1d0: 616d 653a 204e 616d 6520 6f66 2073 6f75  ame: Name of sou
-0001f1e0: 7263 652e 0a20 2020 2020 2020 203a 7061  rce..        :pa
-0001f1f0: 7261 6d20 6974 656d 5f6e 616d 653a 204e  ram item_name: N
-0001f200: 616d 6520 6f66 2074 6865 2069 7465 6d20  ame of the item 
-0001f210: 746f 2072 6574 7269 6576 652c 2061 7320  to retrieve, as 
-0001f220: 6974 2061 7070 6561 7273 2069 6e20 7468  it appears in th
-0001f230: 6520 6361 7461 6c6f 672e 0a20 2020 2020  e catalog..     
-0001f240: 2020 203a 7061 7261 6d20 7665 7273 696f     :param versio
-0001f250: 6e3a 2047 6574 2061 2073 7065 6369 6669  n: Get a specifi
-0001f260: 6320 7665 7273 696f 6e20 6f66 2074 6865  c version of the
-0001f270: 2069 7465 6d2e 2044 6566 6175 6c74 2069   item. Default i
-0001f280: 7320 6060 4e6f 6e65 6060 2e0a 2020 2020  s ``None``..    
-0001f290: 2020 2020 3a70 6172 616d 2074 6167 3a20      :param tag: 
-0001f2a0: 4765 7420 6120 7370 6563 6966 6963 2076  Get a specific v
-0001f2b0: 6572 7369 6f6e 206f 6620 7468 6520 6974  ersion of the it
-0001f2c0: 656d 2069 6465 6e74 6966 6965 6420 6279  em identified by
-0001f2d0: 2074 6167 2e20 4465 6661 756c 7420 6973   tag. Default is
-0001f2e0: 2060 606c 6174 6573 7460 602e 0a20 2020   ``latest``..   
-0001f2f0: 2020 2020 203a 7061 7261 6d20 666f 7263       :param forc
-0001f300: 655f 7265 6672 6573 683a 204d 616b 6520  e_refresh: Make 
-0001f310: 7468 6520 7365 7276 6572 2066 6574 6368  the server fetch
-0001f320: 2074 6865 2069 6e66 6f72 6d61 7469 6f6e   the information
-0001f330: 2066 726f 6d20 7468 6520 6163 7475 616c   from the actual
-0001f340: 2068 7562 0a20 2020 2020 2020 2020 2020   hub.           
-0001f350: 2073 6f75 7263 652c 2072 6174 6865 7220   source, rather 
-0001f360: 7468 616e 0a20 2020 2020 2020 2020 2020  than.           
-0001f370: 2072 656c 7920 6f6e 2063 6163 6865 6420   rely on cached 
-0001f380: 696e 666f 726d 6174 696f 6e2e 2044 6566  information. Def
-0001f390: 6175 6c74 2069 7320 6060 4661 6c73 6560  ault is ``False`
-0001f3a0: 602e 0a20 2020 2020 2020 203a 7265 7475  `..        :retu
-0001f3b0: 726e 733a 203a 7079 3a63 6c61 7373 3a60  rns: :py:class:`
-0001f3c0: 7e6d 6c72 756e 2e63 6f6d 6d6f 6e2e 7363  ~mlrun.common.sc
-0001f3d0: 6865 6d61 732e 6875 622e 4875 6249 7465  hemas.hub.HubIte
-0001f3e0: 6d60 2e0a 2020 2020 2020 2020 2222 220a  m`..        """.
-0001f3f0: 2020 2020 2020 2020 7061 7468 203d 2028          path = (
-0001f400: 6622 6875 622f 736f 7572 6365 732f 7b73  f"hub/sources/{s
-0001f410: 6f75 7263 655f 6e61 6d65 7d2f 6974 656d  ource_name}/item
-0001f420: 732f 7b69 7465 6d5f 6e61 6d65 7d22 2c29  s/{item_name}",)
-0001f430: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-0001f440: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0001f450: 2276 6572 7369 6f6e 223a 2076 6572 7369  "version": versi
-0001f460: 6f6e 2c0a 2020 2020 2020 2020 2020 2020  on,.            
-0001f470: 2274 6167 223a 2074 6167 2c0a 2020 2020  "tag": tag,.    
-0001f480: 2020 2020 2020 2020 2266 6f72 6365 2d72          "force-r
-0001f490: 6566 7265 7368 223a 2066 6f72 6365 5f72  efresh": force_r
-0001f4a0: 6566 7265 7368 2c0a 2020 2020 2020 2020  efresh,.        
-0001f4b0: 7d0a 2020 2020 2020 2020 7265 7370 6f6e  }.        respon
-0001f4c0: 7365 203d 2073 656c 662e 6170 695f 6361  se = self.api_ca
-0001f4d0: 6c6c 286d 6574 686f 643d 2247 4554 222c  ll(method="GET",
-0001f4e0: 2070 6174 683d 7061 7468 2c20 7061 7261   path=path, para
-0001f4f0: 6d73 3d70 6172 616d 7329 0a20 2020 2020  ms=params).     
-0001f500: 2020 2072 6574 7572 6e20 6d6c 7275 6e2e     return mlrun.
-0001f510: 636f 6d6d 6f6e 2e73 6368 656d 6173 2e48  common.schemas.H
-0001f520: 7562 4974 656d 282a 2a72 6573 706f 6e73  ubItem(**respons
-0001f530: 652e 6a73 6f6e 2829 290a 0a20 2020 2064  e.json())..    d
-0001f540: 6566 2067 6574 5f68 7562 5f61 7373 6574  ef get_hub_asset
-0001f550: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-0001f560: 2020 2020 2020 2020 736f 7572 6365 5f6e          source_n
-0001f570: 616d 653a 2073 7472 2c0a 2020 2020 2020  ame: str,.      
-0001f580: 2020 6974 656d 5f6e 616d 653a 2073 7472    item_name: str
-0001f590: 2c0a 2020 2020 2020 2020 6173 7365 745f  ,.        asset_
-0001f5a0: 6e61 6d65 3a20 7374 722c 0a20 2020 2020  name: str,.     
-0001f5b0: 2020 2076 6572 7369 6f6e 3a20 7374 7220     version: str 
-0001f5c0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0001f5d0: 7461 673a 2073 7472 203d 2022 6c61 7465  tag: str = "late
-0001f5e0: 7374 222c 0a20 2020 2029 3a0a 2020 2020  st",.    ):.    
-0001f5f0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001f600: 4765 7420 6875 6220 6173 7365 7420 6672  Get hub asset fr
-0001f610: 6f6d 2069 7465 6d2e 0a0a 2020 2020 2020  om item...      
-0001f620: 2020 3a70 6172 616d 2073 6f75 7263 655f    :param source_
-0001f630: 6e61 6d65 3a20 4e61 6d65 206f 6620 736f  name: Name of so
-0001f640: 7572 6365 2e0a 2020 2020 2020 2020 3a70  urce..        :p
-0001f650: 6172 616d 2069 7465 6d5f 6e61 6d65 3a20  aram item_name: 
-0001f660: 2020 4e61 6d65 206f 6620 7468 6520 6974    Name of the it
-0001f670: 656d 2077 6869 6368 2068 6f6c 6473 2074  em which holds t
-0001f680: 6865 2061 7373 6574 2e0a 2020 2020 2020  he asset..      
-0001f690: 2020 3a70 6172 616d 2061 7373 6574 5f6e    :param asset_n
-0001f6a0: 616d 653a 2020 4e61 6d65 206f 6620 7468  ame:  Name of th
-0001f6b0: 6520 6173 7365 7420 746f 2072 6574 7269  e asset to retri
-0001f6c0: 6576 652e 0a20 2020 2020 2020 203a 7061  eve..        :pa
-0001f6d0: 7261 6d20 7665 7273 696f 6e3a 2047 6574  ram version: Get
-0001f6e0: 2061 2073 7065 6369 6669 6320 7665 7273   a specific vers
-0001f6f0: 696f 6e20 6f66 2074 6865 2069 7465 6d2e  ion of the item.
-0001f700: 2044 6566 6175 6c74 2069 7320 6060 4e6f   Default is ``No
-0001f710: 6e65 6060 2e0a 2020 2020 2020 2020 3a70  ne``..        :p
-0001f720: 6172 616d 2074 6167 3a20 4765 7420 6120  aram tag: Get a 
-0001f730: 7370 6563 6966 6963 2076 6572 7369 6f6e  specific version
-0001f740: 206f 6620 7468 6520 6974 656d 2069 6465   of the item ide
-0001f750: 6e74 6966 6965 6420 6279 2074 6167 2e20  ntified by tag. 
-0001f760: 4465 6661 756c 7420 6973 2060 606c 6174  Default is ``lat
-0001f770: 6573 7460 602e 0a0a 2020 2020 2020 2020  est``...        
-0001f780: 3a72 6574 7572 6e3a 2068 7474 7020 7265  :return: http re
-0001f790: 7370 6f6e 7365 2077 6974 6820 7468 6520  sponse with the 
-0001f7a0: 6173 7365 7420 696e 2074 6865 2063 6f6e  asset in the con
-0001f7b0: 7465 6e74 2061 7474 7269 6275 7465 0a20  tent attribute. 
-0001f7c0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0001f7d0: 2020 2070 6174 6820 3d20 2866 2268 7562     path = (f"hub
-0001f7e0: 2f73 6f75 7263 6573 2f7b 736f 7572 6365  /sources/{source
-0001f7f0: 5f6e 616d 657d 2f69 7465 6d73 2f7b 6974  _name}/items/{it
-0001f800: 656d 5f6e 616d 657d 2f61 7373 6574 732f  em_name}/assets/
-0001f810: 7b61 7373 6574 5f6e 616d 657d 222c 290a  {asset_name}",).
-0001f820: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-0001f830: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
-0001f840: 7665 7273 696f 6e22 3a20 7665 7273 696f  version": versio
-0001f850: 6e2c 0a20 2020 2020 2020 2020 2020 2022  n,.            "
-0001f860: 7461 6722 3a20 7461 672c 0a20 2020 2020  tag": tag,.     
-0001f870: 2020 207d 0a20 2020 2020 2020 2072 6573     }.        res
-0001f880: 706f 6e73 6520 3d20 7365 6c66 2e61 7069  ponse = self.api
-0001f890: 5f63 616c 6c28 6d65 7468 6f64 3d22 4745  _call(method="GE
-0001f8a0: 5422 2c20 7061 7468 3d70 6174 682c 2070  T", path=path, p
-0001f8b0: 6172 616d 733d 7061 7261 6d73 290a 2020  arams=params).  
-0001f8c0: 2020 2020 2020 7265 7475 726e 2072 6573        return res
-0001f8d0: 706f 6e73 650a 0a20 2020 2064 6566 2076  ponse..    def v
-0001f8e0: 6572 6966 795f 6175 7468 6f72 697a 6174  erify_authorizat
-0001f8f0: 696f 6e28 0a20 2020 2020 2020 2073 656c  ion(.        sel
-0001f900: 662c 0a20 2020 2020 2020 2061 7574 686f  f,.        autho
-0001f910: 7269 7a61 7469 6f6e 5f76 6572 6966 6963  rization_verific
-0001f920: 6174 696f 6e5f 696e 7075 743a 206d 6c72  ation_input: mlr
-0001f930: 756e 2e63 6f6d 6d6f 6e2e 7363 6865 6d61  un.common.schema
-0001f940: 732e 4175 7468 6f72 697a 6174 696f 6e56  s.AuthorizationV
-0001f950: 6572 6966 6963 6174 696f 6e49 6e70 7574  erificationInput
-0001f960: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
-0001f970: 2022 2222 5665 7269 6669 6573 2061 7574   """Verifies aut
-0001f980: 686f 7269 7a61 7469 6f6e 2066 6f72 2074  horization for t
-0001f990: 6865 2070 726f 7669 6465 6420 6163 7469  he provided acti
-0001f9a0: 6f6e 206f 6e20 7468 6520 7072 6f76 6964  on on the provid
-0001f9b0: 6564 2072 6573 6f75 7263 652e 0a0a 2020  ed resource...  
-0001f9c0: 2020 2020 2020 3a70 6172 616d 2061 7574        :param aut
-0001f9d0: 686f 7269 7a61 7469 6f6e 5f76 6572 6966  horization_verif
-0001f9e0: 6963 6174 696f 6e5f 696e 7075 743a 2049  ication_input: I
-0001f9f0: 6e73 7461 6e63 6520 6f66 0a20 2020 2020  nstance of.     
-0001fa00: 2020 2020 2020 203a 7079 3a63 6c61 7373         :py:class
-0001fa10: 3a60 7e6d 6c72 756e 2e63 6f6d 6d6f 6e2e  :`~mlrun.common.
-0001fa20: 7363 6865 6d61 732e 4175 7468 6f72 697a  schemas.Authoriz
-0001fa30: 6174 696f 6e56 6572 6966 6963 6174 696f  ationVerificatio
-0001fa40: 6e49 6e70 7574 6020 7468 6174 2069 6e63  nInput` that inc
-0001fa50: 6c75 6465 7320 616c 6c20 7468 6520 6e65  ludes all the ne
-0001fa60: 6564 6564 2070 6172 616d 6574 6572 7320  eded parameters 
-0001fa70: 666f 720a 2020 2020 2020 2020 2020 2020  for.            
-0001fa80: 7468 6520 6175 7468 2076 6572 6966 6963  the auth verific
-0001fa90: 6174 696f 6e0a 2020 2020 2020 2020 2222  ation.        ""
-0001faa0: 220a 2020 2020 2020 2020 6572 726f 725f  ".        error_
-0001fab0: 6d65 7373 6167 6520 3d20 2241 7574 686f  message = "Autho
-0001fac0: 7269 7a61 7469 6f6e 2063 6865 636b 2066  rization check f
-0001fad0: 6169 6c65 6422 0a20 2020 2020 2020 2073  ailed".        s
-0001fae0: 656c 662e 6170 695f 6361 6c6c 280a 2020  elf.api_call(.  
-0001faf0: 2020 2020 2020 2020 2020 2250 4f53 5422            "POST"
-0001fb00: 2c0a 2020 2020 2020 2020 2020 2020 2261  ,.            "a
-0001fb10: 7574 686f 7269 7a61 7469 6f6e 2f76 6572  uthorization/ver
-0001fb20: 6966 6963 6174 696f 6e73 222c 0a20 2020  ifications",.   
-0001fb30: 2020 2020 2020 2020 2065 7272 6f72 5f6d           error_m
-0001fb40: 6573 7361 6765 2c0a 2020 2020 2020 2020  essage,.        
-0001fb50: 2020 2020 626f 6479 3d64 6963 745f 746f      body=dict_to
-0001fb60: 5f6a 736f 6e28 6175 7468 6f72 697a 6174  _json(authorizat
-0001fb70: 696f 6e5f 7665 7269 6669 6361 7469 6f6e  ion_verification
-0001fb80: 5f69 6e70 7574 2e64 6963 7428 2929 2c0a  _input.dict()),.
-0001fb90: 2020 2020 2020 2020 290a 0a20 2020 2064          )..    d
-0001fba0: 6566 2074 7269 6767 6572 5f6d 6967 7261  ef trigger_migra
-0001fbb0: 7469 6f6e 7328 7365 6c66 2920 2d3e 204f  tions(self) -> O
-0001fbc0: 7074 696f 6e61 6c5b 6d6c 7275 6e2e 636f  ptional[mlrun.co
-0001fbd0: 6d6d 6f6e 2e73 6368 656d 6173 2e42 6163  mmon.schemas.Bac
-0001fbe0: 6b67 726f 756e 6454 6173 6b5d 3a0a 2020  kgroundTask]:.  
-0001fbf0: 2020 2020 2020 2222 2254 7269 6767 6572        """Trigger
-0001fc00: 206d 6967 7261 7469 6f6e 7320 2877 696c   migrations (wil
-0001fc10: 6c20 646f 206e 6f74 6869 6e67 2069 6620  l do nothing if 
-0001fc20: 6e6f 206d 6967 7261 7469 6f6e 7320 6172  no migrations ar
-0001fc30: 6520 6e65 6564 6564 2920 616e 6420 7761  e needed) and wa
-0001fc40: 6974 2066 6f72 2074 6865 6d20 746f 2066  it for them to f
-0001fc50: 696e 6973 6820 6966 2061 6374 7561 6c6c  inish if actuall
-0001fc60: 790a 2020 2020 2020 2020 7472 6967 6765  y.        trigge
-0001fc70: 7265 640a 2020 2020 2020 2020 3a72 6574  red.        :ret
-0001fc80: 7572 6e73 3a20 3a70 793a 636c 6173 733a  urns: :py:class:
-0001fc90: 607e 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73  `~mlrun.common.s
-0001fca0: 6368 656d 6173 2e42 6163 6b67 726f 756e  chemas.Backgroun
-0001fcb0: 6454 6173 6b60 2e0a 2020 2020 2020 2020  dTask`..        
-0001fcc0: 2222 220a 2020 2020 2020 2020 7265 7370  """.        resp
-0001fcd0: 6f6e 7365 203d 2073 656c 662e 6170 695f  onse = self.api_
-0001fce0: 6361 6c6c 280a 2020 2020 2020 2020 2020  call(.          
-0001fcf0: 2020 2250 4f53 5422 2c0a 2020 2020 2020    "POST",.      
-0001fd00: 2020 2020 2020 226f 7065 7261 7469 6f6e        "operation
-0001fd10: 732f 6d69 6772 6174 696f 6e73 222c 0a20  s/migrations",. 
-0001fd20: 2020 2020 2020 2020 2020 2022 4661 696c             "Fail
-0001fd30: 6564 2074 7269 6767 6572 696e 6720 6d69  ed triggering mi
-0001fd40: 6772 6174 696f 6e73 222c 0a20 2020 2020  grations",.     
-0001fd50: 2020 2029 0a20 2020 2020 2020 2069 6620     ).        if 
-0001fd60: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-0001fd70: 636f 6465 203d 3d20 6874 7470 2e48 5454  code == http.HTT
-0001fd80: 5053 7461 7475 732e 4143 4345 5054 4544  PStatus.ACCEPTED
-0001fd90: 3a0a 2020 2020 2020 2020 2020 2020 6261  :.            ba
-0001fda0: 636b 6772 6f75 6e64 5f74 6173 6b20 3d20  ckground_task = 
-0001fdb0: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
-0001fdc0: 656d 6173 2e42 6163 6b67 726f 756e 6454  emas.BackgroundT
-0001fdd0: 6173 6b28 2a2a 7265 7370 6f6e 7365 2e6a  ask(**response.j
-0001fde0: 736f 6e28 2929 0a20 2020 2020 2020 2020  son()).         
-0001fdf0: 2020 2072 6574 7572 6e20 7365 6c66 2e5f     return self._
-0001fe00: 7761 6974 5f66 6f72 5f62 6163 6b67 726f  wait_for_backgro
-0001fe10: 756e 645f 7461 736b 5f74 6f5f 7265 6163  und_task_to_reac
-0001fe20: 685f 7465 726d 696e 616c 5f73 7461 7465  h_terminal_state
-0001fe30: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0001fe40: 2020 6261 636b 6772 6f75 6e64 5f74 6173    background_tas
-0001fe50: 6b2e 6d65 7461 6461 7461 2e6e 616d 650a  k.metadata.name.
-0001fe60: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-0001fe70: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
-0001fe80: 650a 0a0a 6465 6620 5f61 735f 6a73 6f6e  e...def _as_json
-0001fe90: 286f 626a 293a 0a20 2020 2066 6e20 3d20  (obj):.    fn = 
-0001fea0: 6765 7461 7474 7228 6f62 6a2c 2022 746f  getattr(obj, "to
-0001feb0: 5f6a 736f 6e22 2c20 4e6f 6e65 290a 2020  _json", None).  
-0001fec0: 2020 6966 2066 6e3a 0a20 2020 2020 2020    if fn:.       
-0001fed0: 2072 6574 7572 6e20 666e 2829 0a20 2020   return fn().   
-0001fee0: 2072 6574 7572 6e20 6469 6374 5f74 6f5f   return dict_to_
-0001fef0: 6a73 6f6e 286f 626a 290a                 json(obj).
+0001d680: 2060 6472 6966 745f 7374 6174 7573 603a   `drift_status`:
+0001d690: 2022 4452 4946 545f 4445 5445 4354 4544   "DRIFT_DETECTED
+0001d6a0: 227d 0a0a 2020 2020 2020 2020 2222 220a  "}..        """.
+0001d6b0: 0a20 2020 2020 2020 2061 7474 7269 6275  .        attribu
+0001d6c0: 7465 7320 3d20 7b22 6174 7472 6962 7574  tes = {"attribut
+0001d6d0: 6573 223a 205f 6173 5f6a 736f 6e28 6174  es": _as_json(at
+0001d6e0: 7472 6962 7574 6573 297d 0a20 2020 2020  tributes)}.     
+0001d6f0: 2020 2070 6174 6820 3d20 6622 7072 6f6a     path = f"proj
+0001d700: 6563 7473 2f7b 7072 6f6a 6563 747d 2f6d  ects/{project}/m
+0001d710: 6f64 656c 2d65 6e64 706f 696e 7473 2f7b  odel-endpoints/{
+0001d720: 656e 6470 6f69 6e74 5f69 647d 220a 2020  endpoint_id}".  
+0001d730: 2020 2020 2020 7365 6c66 2e61 7069 5f63        self.api_c
+0001d740: 616c 6c28 0a20 2020 2020 2020 2020 2020  all(.           
+0001d750: 206d 6574 686f 643d 2250 4154 4348 222c   method="PATCH",
+0001d760: 0a20 2020 2020 2020 2020 2020 2070 6174  .            pat
+0001d770: 683d 7061 7468 2c0a 2020 2020 2020 2020  h=path,.        
+0001d780: 2020 2020 7061 7261 6d73 3d61 7474 7269      params=attri
+0001d790: 6275 7465 732c 0a20 2020 2020 2020 2029  butes,.        )
+0001d7a0: 0a0a 2020 2020 6465 6620 6372 6561 7465  ..    def create
+0001d7b0: 5f68 7562 5f73 6f75 7263 6528 0a20 2020  _hub_source(.   
+0001d7c0: 2020 2020 2073 656c 662c 2073 6f75 7263       self, sourc
+0001d7d0: 653a 2055 6e69 6f6e 5b64 6963 742c 206d  e: Union[dict, m
+0001d7e0: 6c72 756e 2e63 6f6d 6d6f 6e2e 7363 6865  lrun.common.sche
+0001d7f0: 6d61 732e 496e 6465 7865 6448 7562 536f  mas.IndexedHubSo
+0001d800: 7572 6365 5d0a 2020 2020 293a 0a20 2020  urce].    ):.   
+0001d810: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001d820: 2041 6464 2061 206e 6577 2068 7562 2073   Add a new hub s
+0001d830: 6f75 7263 652e 0a0a 2020 2020 2020 2020  ource...        
+0001d840: 4d4c 5275 6e20 6d61 696e 7461 696e 7320  MLRun maintains 
+0001d850: 616e 206f 7264 6572 6564 206c 6973 7420  an ordered list 
+0001d860: 6f66 2068 7562 2073 6f75 7263 6573 2028  of hub sources (
+0001d870: e280 9c73 6f75 7263 6573 e280 9d29 2045  ...sources...) E
+0001d880: 6163 6820 736f 7572 6365 2068 6173 0a20  ach source has. 
+0001d890: 2020 2020 2020 2069 7473 2064 6574 6169         its detai
+0001d8a0: 6c73 2072 6567 6973 7465 7265 6420 616e  ls registered an
+0001d8b0: 6420 6974 7320 6f72 6465 7220 7769 7468  d its order with
+0001d8c0: 696e 2074 6865 206c 6973 742e 2057 6865  in the list. Whe
+0001d8d0: 6e20 6372 6561 7469 6e67 2061 206e 6577  n creating a new
+0001d8e0: 2073 6f75 7263 652c 2074 6865 2073 7065   source, the spe
+0001d8f0: 6369 616c 206f 7264 6572 2060 602d 3160  cial order ``-1`
+0001d900: 600a 2020 2020 2020 2020 6361 6e20 6265  `.        can be
+0001d910: 2075 7365 6420 746f 206d 6172 6b20 7468   used to mark th
+0001d920: 6973 2073 6f75 7263 6520 6173 206c 6173  is source as las
+0001d930: 7420 696e 2074 6865 206c 6973 742e 2048  t in the list. H
+0001d940: 6f77 6576 6572 2c20 6f6e 6365 2074 6865  owever, once the
+0001d950: 2073 6f75 7263 6520 6973 2069 6e20 7468   source is in th
+0001d960: 6520 4d4c 5275 6e20 6c69 7374 2c0a 2020  e MLRun list,.  
+0001d970: 2020 2020 2020 6974 7320 6f72 6465 7220        its order 
+0001d980: 7769 6c6c 2061 6c77 6179 7320 6265 2060  will always be `
+0001d990: 603e 3060 602e 0a0a 2020 2020 2020 2020  `>0``...        
+0001d9a0: 5468 6520 676c 6f62 616c 2068 7562 2073  The global hub s
+0001d9b0: 6f75 7263 6520 616c 7761 7973 2065 7869  ource always exi
+0001d9c0: 7374 7320 696e 2074 6865 206c 6973 742c  sts in the list,
+0001d9d0: 2061 6e64 2069 7320 616c 7761 7973 2074   and is always t
+0001d9e0: 6865 206c 6173 7420 736f 7572 6365 0a20  he last source. 
+0001d9f0: 2020 2020 2020 2028 6060 6f72 6465 7220         (``order 
+0001da00: 3d20 2d31 6060 292e 2049 7420 6361 6e6e  = -1``). It cann
+0001da10: 6f74 2062 6520 6d6f 6469 6669 6564 206e  ot be modified n
+0001da20: 6f72 2063 616e 2069 7420 6265 206d 6f76  or can it be mov
+0001da30: 6564 2074 6f20 616e 6f74 6865 7220 6f72  ed to another or
+0001da40: 6465 7220 696e 2074 6865 206c 6973 742e  der in the list.
+0001da50: 0a0a 2020 2020 2020 2020 5468 6520 736f  ..        The so
+0001da60: 7572 6365 206f 626a 6563 7420 6d61 7920  urce object may 
+0001da70: 636f 6e74 6169 6e20 6372 6564 656e 7469  contain credenti
+0001da80: 616c 7320 7768 6963 6820 6172 6520 6e65  als which are ne
+0001da90: 6564 6564 2074 6f20 6163 6365 7373 2074  eded to access t
+0001daa0: 6865 2064 6174 6173 746f 7265 2077 6865  he datastore whe
+0001dab0: 7265 2074 6865 2073 6f75 7263 6520 6973  re the source is
+0001dac0: 2073 746f 7265 642e 0a20 2020 2020 2020   stored..       
+0001dad0: 2054 6865 7365 2063 7265 6465 6e74 6961   These credentia
+0001dae0: 6c73 2061 7265 206e 6f74 206b 6570 7420  ls are not kept 
+0001daf0: 696e 2074 6865 204d 4c52 756e 2044 422c  in the MLRun DB,
+0001db00: 2062 7574 2061 7265 2073 746f 7265 6420   but are stored 
+0001db10: 696e 7369 6465 2061 206b 7562 6572 6e65  inside a kuberne
+0001db20: 7465 7320 7365 6372 6574 206f 626a 6563  tes secret objec
+0001db30: 7420 6d61 696e 7461 696e 6564 2062 790a  t maintained by.
+0001db40: 2020 2020 2020 2020 4d4c 5275 6e2e 2054          MLRun. T
+0001db50: 6865 7920 6172 6520 6e6f 7420 7265 7475  hey are not retu
+0001db60: 726e 6564 2074 6872 6f75 6768 2061 6e79  rned through any
+0001db70: 2041 5049 2066 726f 6d20 4d4c 5275 6e2e   API from MLRun.
+0001db80: 0a0a 2020 2020 2020 2020 4578 616d 706c  ..        Exampl
+0001db90: 653a 3a0a 0a20 2020 2020 2020 2020 2020  e::..           
+0001dba0: 2069 6d70 6f72 7420 6d6c 7275 6e2e 636f   import mlrun.co
+0001dbb0: 6d6d 6f6e 2e73 6368 656d 6173 0a0a 2020  mmon.schemas..  
+0001dbc0: 2020 2020 2020 2020 2020 2320 4164 6420            # Add 
+0001dbd0: 6120 7072 6976 6174 6520 736f 7572 6365  a private source
+0001dbe0: 2061 7320 7468 6520 6c61 7374 206f 6e65   as the last one
+0001dbf0: 2028 7769 6c6c 2062 6520 2331 2069 6e20   (will be #1 in 
+0001dc00: 7468 6520 6c69 7374 290a 2020 2020 2020  the list).      
+0001dc10: 2020 2020 2020 7072 6976 6174 655f 736f        private_so
+0001dc20: 7572 6365 203d 206d 6c72 756e 2e63 6f6d  urce = mlrun.com
+0001dc30: 6d6f 6e2e 7363 6865 6d61 732e 496e 6465  mon.schemas.Inde
+0001dc40: 7865 6448 7562 6553 6f75 7263 6528 0a20  xedHubeSource(. 
+0001dc50: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+0001dc60: 7264 6572 3d2d 312c 0a20 2020 2020 2020  rder=-1,.       
+0001dc70: 2020 2020 2020 2020 2073 6f75 7263 653d           source=
+0001dc80: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
+0001dc90: 656d 6173 2e48 7562 536f 7572 6365 280a  emas.HubSource(.
+0001dca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dcb0: 2020 2020 6d65 7461 6461 7461 3d6d 6c72      metadata=mlr
+0001dcc0: 756e 2e63 6f6d 6d6f 6e2e 7363 6865 6d61  un.common.schema
+0001dcd0: 732e 4875 624f 626a 6563 744d 6574 6164  s.HubObjectMetad
+0001dce0: 6174 6128 0a20 2020 2020 2020 2020 2020  ata(.           
+0001dcf0: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+0001dd00: 653d 2270 7269 7622 2c20 6465 7363 7269  e="priv", descri
+0001dd10: 7074 696f 6e3d 2261 2070 7269 7661 7465  ption="a private
+0001dd20: 2073 6f75 7263 6522 0a20 2020 2020 2020   source".       
+0001dd30: 2020 2020 2020 2020 2020 2020 2029 2c0a               ),.
+0001dd40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dd50: 2020 2020 7370 6563 3d6d 6c72 756e 2e63      spec=mlrun.c
+0001dd60: 6f6d 6d6f 6e2e 7363 6865 6d61 732e 4875  ommon.schemas.Hu
+0001dd70: 6253 6f75 7263 6553 7065 6328 7061 7468  bSourceSpec(path
+0001dd80: 3d22 2f6c 6f63 616c 2f70 6174 682f 746f  ="/local/path/to
+0001dd90: 2f73 6f75 7263 6522 2c20 6368 616e 6e65  /source", channe
+0001dda0: 6c3d 2264 6576 656c 6f70 6d65 6e74 2229  l="development")
+0001ddb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ddc0: 2029 0a20 2020 2020 2020 2020 2020 2029   ).            )
+0001ddd0: 0a20 2020 2020 2020 2020 2020 2064 622e  .            db.
+0001dde0: 6372 6561 7465 5f68 7562 5f73 6f75 7263  create_hub_sourc
+0001ddf0: 6528 7072 6976 6174 655f 736f 7572 6365  e(private_source
+0001de00: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
+0001de10: 2041 6464 2061 6e6f 7468 6572 2073 6f75   Add another sou
+0001de20: 7263 6520 6173 2031 7374 2069 6e20 7468  rce as 1st in th
+0001de30: 6520 6c69 7374 202d 2077 696c 6c20 7075  e list - will pu
+0001de40: 7368 2070 7265 7669 6f75 7320 6f6e 6520  sh previous one 
+0001de50: 746f 2062 6520 2332 0a20 2020 2020 2020  to be #2.       
+0001de60: 2020 2020 2061 6e6f 7468 6572 5f73 6f75       another_sou
+0001de70: 7263 6520 3d20 6d6c 7275 6e2e 636f 6d6d  rce = mlrun.comm
+0001de80: 6f6e 2e73 6368 656d 6173 2e49 6e64 6578  on.schemas.Index
+0001de90: 6564 4875 6253 6f75 7263 6528 0a20 2020  edHubSource(.   
+0001dea0: 2020 2020 2020 2020 2020 2020 206f 7264               ord
+0001deb0: 6572 3d31 2c0a 2020 2020 2020 2020 2020  er=1,.          
+0001dec0: 2020 2020 2020 736f 7572 6365 3d6d 6c72        source=mlr
+0001ded0: 756e 2e63 6f6d 6d6f 6e2e 7363 6865 6d61  un.common.schema
+0001dee0: 732e 4875 6253 6f75 7263 6528 0a20 2020  s.HubSource(.   
+0001def0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001df00: 206d 6574 6164 6174 613d 6d6c 7275 6e2e   metadata=mlrun.
+0001df10: 636f 6d6d 6f6e 2e73 6368 656d 6173 2e48  common.schemas.H
+0001df20: 7562 4f62 6a65 6374 4d65 7461 6461 7461  ubObjectMetadata
+0001df30: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0001df40: 2020 2020 2020 2020 2020 6e61 6d65 3d22            name="
+0001df50: 7072 6976 2d32 222c 2064 6573 6372 6970  priv-2", descrip
+0001df60: 7469 6f6e 3d22 616e 6f74 6865 7220 736f  tion="another so
+0001df70: 7572 6365 220a 2020 2020 2020 2020 2020  urce".          
+0001df80: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+0001df90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dfa0: 2073 7065 633d 6d6c 7275 6e2e 636f 6d6d   spec=mlrun.comm
+0001dfb0: 6f6e 2e73 6368 656d 6173 2e48 7562 536f  on.schemas.HubSo
+0001dfc0: 7572 6365 5370 6563 280a 2020 2020 2020  urceSpec(.      
+0001dfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dfe0: 2020 7061 7468 3d22 2f6c 6f63 616c 2f70    path="/local/p
+0001dff0: 6174 682f 746f 2f73 6f75 7263 652f 3222  ath/to/source/2"
+0001e000: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001e010: 2020 2020 2020 2020 2020 6368 616e 6e65            channe
+0001e020: 6c3d 2264 6576 656c 6f70 6d65 6e74 222c  l="development",
+0001e030: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e040: 2020 2020 2020 2020 2063 7265 6465 6e74           credent
+0001e050: 6961 6c73 3d7b 2e2e 2e7d 0a20 2020 2020  ials={...}.     
+0001e060: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+0001e070: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e080: 2029 0a20 2020 2020 2020 2020 2020 2029   ).            )
+0001e090: 0a20 2020 2020 2020 2020 2020 2064 622e  .            db.
+0001e0a0: 6372 6561 7465 5f68 7562 5f73 6f75 7263  create_hub_sourc
+0001e0b0: 6528 616e 6f74 6865 725f 736f 7572 6365  e(another_source
+0001e0c0: 290a 0a20 2020 2020 2020 203a 7061 7261  )..        :para
+0001e0d0: 6d20 736f 7572 6365 3a20 5468 6520 736f  m source: The so
+0001e0e0: 7572 6365 2061 6e64 2069 7473 206f 7264  urce and its ord
+0001e0f0: 6572 2c20 6f66 2074 7970 650a 2020 2020  er, of type.    
+0001e100: 2020 2020 2020 2020 3a70 793a 636c 6173          :py:clas
+0001e110: 733a 607e 6d6c 7275 6e2e 636f 6d6d 6f6e  s:`~mlrun.common
+0001e120: 2e73 6368 656d 6173 2e68 7562 2e49 6e64  .schemas.hub.Ind
+0001e130: 6578 6564 4875 6253 6f75 7263 6560 2c20  exedHubSource`, 
+0001e140: 6f72 2069 6e20 6469 6374 696f 6e61 7279  or in dictionary
+0001e150: 2066 6f72 6d2e 0a20 2020 2020 2020 203a   form..        :
+0001e160: 7265 7475 726e 733a 2054 6865 2073 6f75  returns: The sou
+0001e170: 7263 6520 6f62 6a65 6374 2061 7320 696e  rce object as in
+0001e180: 7365 7274 6564 2069 6e74 6f20 7468 6520  serted into the 
+0001e190: 6461 7461 6261 7365 2c20 7769 7468 2063  database, with c
+0001e1a0: 7265 6465 6e74 6961 6c73 2073 7472 6970  redentials strip
+0001e1b0: 7065 642e 0a20 2020 2020 2020 2022 2222  ped..        """
+0001e1c0: 0a20 2020 2020 2020 2070 6174 6820 3d20  .        path = 
+0001e1d0: 2268 7562 2f73 6f75 7263 6573 220a 2020  "hub/sources".  
+0001e1e0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+0001e1f0: 6e63 6528 736f 7572 6365 2c20 6d6c 7275  nce(source, mlru
+0001e200: 6e2e 636f 6d6d 6f6e 2e73 6368 656d 6173  n.common.schemas
+0001e210: 2e49 6e64 6578 6564 4875 6253 6f75 7263  .IndexedHubSourc
+0001e220: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
+0001e230: 736f 7572 6365 203d 2073 6f75 7263 652e  source = source.
+0001e240: 6469 6374 2829 0a20 2020 2020 2020 2072  dict().        r
+0001e250: 6573 706f 6e73 6520 3d20 7365 6c66 2e61  esponse = self.a
+0001e260: 7069 5f63 616c 6c28 6d65 7468 6f64 3d22  pi_call(method="
+0001e270: 504f 5354 222c 2070 6174 683d 7061 7468  POST", path=path
+0001e280: 2c20 6a73 6f6e 3d73 6f75 7263 6529 0a20  , json=source). 
+0001e290: 2020 2020 2020 2072 6574 7572 6e20 6d6c         return ml
+0001e2a0: 7275 6e2e 636f 6d6d 6f6e 2e73 6368 656d  run.common.schem
+0001e2b0: 6173 2e49 6e64 6578 6564 4875 6253 6f75  as.IndexedHubSou
+0001e2c0: 7263 6528 2a2a 7265 7370 6f6e 7365 2e6a  rce(**response.j
+0001e2d0: 736f 6e28 2929 0a0a 2020 2020 6465 6620  son())..    def 
+0001e2e0: 7374 6f72 655f 6875 625f 736f 7572 6365  store_hub_source
+0001e2f0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+0001e300: 2020 2020 2020 2020 736f 7572 6365 5f6e          source_n
+0001e310: 616d 653a 2073 7472 2c0a 2020 2020 2020  ame: str,.      
+0001e320: 2020 736f 7572 6365 3a20 556e 696f 6e5b    source: Union[
+0001e330: 6469 6374 2c20 6d6c 7275 6e2e 636f 6d6d  dict, mlrun.comm
+0001e340: 6f6e 2e73 6368 656d 6173 2e49 6e64 6578  on.schemas.Index
+0001e350: 6564 4875 6253 6f75 7263 655d 2c0a 2020  edHubSource],.  
+0001e360: 2020 293a 0a20 2020 2020 2020 2022 2222    ):.        """
+0001e370: 0a20 2020 2020 2020 2043 7265 6174 6520  .        Create 
+0001e380: 6f72 2072 6570 6c61 6365 2061 2068 7562  or replace a hub
+0001e390: 2073 6f75 7263 652e 0a20 2020 2020 2020   source..       
+0001e3a0: 2046 6f72 2061 6e20 6578 616d 706c 6520   For an example 
+0001e3b0: 6f66 2074 6865 2073 6f75 7263 6520 666f  of the source fo
+0001e3c0: 726d 6174 2061 6e64 2065 7870 6c61 6e61  rmat and explana
+0001e3d0: 7469 6f6e 206f 6620 7468 6520 736f 7572  tion of the sour
+0001e3e0: 6365 206f 7264 6572 206c 6f67 6963 2c0a  ce order logic,.
+0001e3f0: 2020 2020 2020 2020 706c 6561 7365 2073          please s
+0001e400: 6565 203a 7079 3a66 756e 633a 607e 6372  ee :py:func:`~cr
+0001e410: 6561 7465 5f68 7562 5f73 6f75 7263 6560  eate_hub_source`
+0001e420: 2e20 5468 6973 206d 6574 686f 6420 6361  . This method ca
+0001e430: 6e20 6265 2075 7365 6420 746f 206d 6f64  n be used to mod
+0001e440: 6966 7920 7468 6520 736f 7572 6365 2069  ify the source i
+0001e450: 7473 656c 6620 6f72 2069 7473 0a20 2020  tself or its.   
+0001e460: 2020 2020 206f 7264 6572 2069 6e20 7468       order in th
+0001e470: 6520 6c69 7374 206f 6620 736f 7572 6365  e list of source
+0001e480: 732e 0a0a 2020 2020 2020 2020 3a70 6172  s...        :par
+0001e490: 616d 2073 6f75 7263 655f 6e61 6d65 3a20  am source_name: 
+0001e4a0: 4e61 6d65 206f 6620 7468 6520 736f 7572  Name of the sour
+0001e4b0: 6365 206f 626a 6563 7420 746f 206d 6f64  ce object to mod
+0001e4c0: 6966 792f 6372 6561 7465 2e20 4974 206d  ify/create. It m
+0001e4d0: 7573 7420 6d61 7463 6820 7468 6520 6060  ust match the ``
+0001e4e0: 736f 7572 6365 2e6d 6574 6164 6174 612e  source.metadata.
+0001e4f0: 6e61 6d65 6060 0a20 2020 2020 2020 2020  name``.         
+0001e500: 2020 2070 6172 616d 6574 6572 2069 6e20     parameter in 
+0001e510: 7468 6520 736f 7572 6365 2069 7473 656c  the source itsel
+0001e520: 662e 0a20 2020 2020 2020 203a 7061 7261  f..        :para
+0001e530: 6d20 736f 7572 6365 3a20 536f 7572 6365  m source: Source
+0001e540: 206f 626a 6563 7420 746f 2073 746f 7265   object to store
+0001e550: 2069 6e20 7468 6520 6461 7461 6261 7365   in the database
+0001e560: 2e0a 2020 2020 2020 2020 3a72 6574 7572  ..        :retur
+0001e570: 6e73 3a20 5468 6520 736f 7572 6365 206f  ns: The source o
+0001e580: 626a 6563 7420 6173 2073 746f 7265 6420  bject as stored 
+0001e590: 696e 2074 6865 2044 422e 0a20 2020 2020  in the DB..     
+0001e5a0: 2020 2022 2222 0a20 2020 2020 2020 2070     """.        p
+0001e5b0: 6174 6820 3d20 6622 6875 622f 736f 7572  ath = f"hub/sour
+0001e5c0: 6365 732f 7b73 6f75 7263 655f 6e61 6d65  ces/{source_name
+0001e5d0: 7d22 0a20 2020 2020 2020 2069 6620 6973  }".        if is
+0001e5e0: 696e 7374 616e 6365 2873 6f75 7263 652c  instance(source,
+0001e5f0: 206d 6c72 756e 2e63 6f6d 6d6f 6e2e 7363   mlrun.common.sc
+0001e600: 6865 6d61 732e 496e 6465 7865 6448 7562  hemas.IndexedHub
+0001e610: 536f 7572 6365 293a 0a20 2020 2020 2020  Source):.       
+0001e620: 2020 2020 2073 6f75 7263 6520 3d20 736f       source = so
+0001e630: 7572 6365 2e64 6963 7428 290a 0a20 2020  urce.dict()..   
+0001e640: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
+0001e650: 7365 6c66 2e61 7069 5f63 616c 6c28 6d65  self.api_call(me
+0001e660: 7468 6f64 3d22 5055 5422 2c20 7061 7468  thod="PUT", path
+0001e670: 3d70 6174 682c 206a 736f 6e3d 736f 7572  =path, json=sour
+0001e680: 6365 290a 2020 2020 2020 2020 7265 7475  ce).        retu
+0001e690: 726e 206d 6c72 756e 2e63 6f6d 6d6f 6e2e  rn mlrun.common.
+0001e6a0: 7363 6865 6d61 732e 496e 6465 7865 6448  schemas.IndexedH
+0001e6b0: 7562 536f 7572 6365 282a 2a72 6573 706f  ubSource(**respo
+0001e6c0: 6e73 652e 6a73 6f6e 2829 290a 0a20 2020  nse.json())..   
+0001e6d0: 2064 6566 206c 6973 745f 6875 625f 736f   def list_hub_so
+0001e6e0: 7572 6365 7328 7365 6c66 293a 0a20 2020  urces(self):.   
+0001e6f0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001e700: 204c 6973 7420 6875 6220 736f 7572 6365   List hub source
+0001e710: 7320 696e 2074 6865 204d 4c52 756e 2044  s in the MLRun D
+0001e720: 422e 0a20 2020 2020 2020 2022 2222 0a20  B..        """. 
+0001e730: 2020 2020 2020 2070 6174 6820 3d20 2268         path = "h
+0001e740: 7562 2f73 6f75 7263 6573 220a 2020 2020  ub/sources".    
+0001e750: 2020 2020 7265 7370 6f6e 7365 203d 2073      response = s
+0001e760: 656c 662e 6170 695f 6361 6c6c 286d 6574  elf.api_call(met
+0001e770: 686f 643d 2247 4554 222c 2070 6174 683d  hod="GET", path=
+0001e780: 7061 7468 292e 6a73 6f6e 2829 0a20 2020  path).json().   
+0001e790: 2020 2020 2072 6573 756c 7473 203d 205b       results = [
+0001e7a0: 5d0a 2020 2020 2020 2020 666f 7220 6974  ].        for it
+0001e7b0: 656d 2069 6e20 7265 7370 6f6e 7365 3a0a  em in response:.
+0001e7c0: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+0001e7d0: 6c74 732e 6170 7065 6e64 286d 6c72 756e  lts.append(mlrun
+0001e7e0: 2e63 6f6d 6d6f 6e2e 7363 6865 6d61 732e  .common.schemas.
+0001e7f0: 496e 6465 7865 6448 7562 536f 7572 6365  IndexedHubSource
+0001e800: 282a 2a69 7465 6d29 290a 2020 2020 2020  (**item)).      
+0001e810: 2020 7265 7475 726e 2072 6573 756c 7473    return results
+0001e820: 0a0a 2020 2020 6465 6620 6765 745f 6875  ..    def get_hu
+0001e830: 625f 736f 7572 6365 2873 656c 662c 2073  b_source(self, s
+0001e840: 6f75 7263 655f 6e61 6d65 3a20 7374 7229  ource_name: str)
+0001e850: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+0001e860: 2020 2020 2020 5265 7472 6965 7665 2061        Retrieve a
+0001e870: 2068 7562 2073 6f75 7263 6520 6672 6f6d   hub source from
+0001e880: 2074 6865 2044 422e 0a0a 2020 2020 2020   the DB...      
+0001e890: 2020 3a70 6172 616d 2073 6f75 7263 655f    :param source_
+0001e8a0: 6e61 6d65 3a20 4e61 6d65 206f 6620 7468  name: Name of th
+0001e8b0: 6520 6875 6220 736f 7572 6365 2074 6f20  e hub source to 
+0001e8c0: 7265 7472 6965 7665 2e0a 2020 2020 2020  retrieve..      
+0001e8d0: 2020 2222 220a 2020 2020 2020 2020 7061    """.        pa
+0001e8e0: 7468 203d 2066 2268 7562 2f73 6f75 7263  th = f"hub/sourc
+0001e8f0: 6573 2f7b 736f 7572 6365 5f6e 616d 657d  es/{source_name}
+0001e900: 220a 2020 2020 2020 2020 7265 7370 6f6e  ".        respon
+0001e910: 7365 203d 2073 656c 662e 6170 695f 6361  se = self.api_ca
+0001e920: 6c6c 286d 6574 686f 643d 2247 4554 222c  ll(method="GET",
+0001e930: 2070 6174 683d 7061 7468 290a 2020 2020   path=path).    
+0001e940: 2020 2020 7265 7475 726e 206d 6c72 756e      return mlrun
+0001e950: 2e63 6f6d 6d6f 6e2e 7363 6865 6d61 732e  .common.schemas.
+0001e960: 496e 6465 7865 6448 7562 536f 7572 6365  IndexedHubSource
+0001e970: 282a 2a72 6573 706f 6e73 652e 6a73 6f6e  (**response.json
+0001e980: 2829 290a 0a20 2020 2064 6566 2064 656c  ())..    def del
+0001e990: 6574 655f 6875 625f 736f 7572 6365 2873  ete_hub_source(s
+0001e9a0: 656c 662c 2073 6f75 7263 655f 6e61 6d65  elf, source_name
+0001e9b0: 3a20 7374 7229 3a0a 2020 2020 2020 2020  : str):.        
+0001e9c0: 2222 220a 2020 2020 2020 2020 4465 6c65  """.        Dele
+0001e9d0: 7465 2061 2068 7562 2073 6f75 7263 6520  te a hub source 
+0001e9e0: 6672 6f6d 2074 6865 2044 422e 0a20 2020  from the DB..   
+0001e9f0: 2020 2020 2054 6865 2073 6f75 7263 6520       The source 
+0001ea00: 7769 6c6c 2062 6520 6465 6c65 7465 6420  will be deleted 
+0001ea10: 6672 6f6d 2074 6865 206c 6973 742c 2061  from the list, a
+0001ea20: 6e64 2061 6e79 2066 6f6c 6c6f 7769 6e67  nd any following
+0001ea30: 2073 6f75 7263 6573 2077 696c 6c20 6265   sources will be
+0001ea40: 2070 726f 6d6f 7465 6420 2d20 666f 7220   promoted - for 
+0001ea50: 6578 616d 706c 652c 2069 6620 7468 650a  example, if the.
+0001ea60: 2020 2020 2020 2020 3173 7420 736f 7572          1st sour
+0001ea70: 6365 2069 7320 6465 6c65 7465 642c 2074  ce is deleted, t
+0001ea80: 6865 2032 6e64 2073 6f75 7263 6520 7769  he 2nd source wi
+0001ea90: 6c6c 2062 6563 6f6d 6520 2331 2069 6e20  ll become #1 in 
+0001eaa0: 7468 6520 6c69 7374 2e0a 2020 2020 2020  the list..      
+0001eab0: 2020 5468 6520 676c 6f62 616c 2068 7562    The global hub
+0001eac0: 2073 6f75 7263 6520 6361 6e6e 6f74 2062   source cannot b
+0001ead0: 6520 6465 6c65 7465 642e 0a0a 2020 2020  e deleted...    
+0001eae0: 2020 2020 3a70 6172 616d 2073 6f75 7263      :param sourc
+0001eaf0: 655f 6e61 6d65 3a20 4e61 6d65 206f 6620  e_name: Name of 
+0001eb00: 7468 6520 6875 6220 736f 7572 6365 2074  the hub source t
+0001eb10: 6f20 6465 6c65 7465 2e0a 2020 2020 2020  o delete..      
+0001eb20: 2020 2222 220a 2020 2020 2020 2020 7061    """.        pa
+0001eb30: 7468 203d 2066 2268 7562 2f73 6f75 7263  th = f"hub/sourc
+0001eb40: 6573 2f7b 736f 7572 6365 5f6e 616d 657d  es/{source_name}
+0001eb50: 220a 2020 2020 2020 2020 7365 6c66 2e61  ".        self.a
+0001eb60: 7069 5f63 616c 6c28 6d65 7468 6f64 3d22  pi_call(method="
+0001eb70: 4445 4c45 5445 222c 2070 6174 683d 7061  DELETE", path=pa
+0001eb80: 7468 290a 0a20 2020 2064 6566 2067 6574  th)..    def get
+0001eb90: 5f68 7562 5f63 6174 616c 6f67 280a 2020  _hub_catalog(.  
+0001eba0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+0001ebb0: 2020 2020 736f 7572 6365 5f6e 616d 653a      source_name:
+0001ebc0: 2073 7472 2c0a 2020 2020 2020 2020 7665   str,.        ve
+0001ebd0: 7273 696f 6e3a 2073 7472 203d 204e 6f6e  rsion: str = Non
+0001ebe0: 652c 0a20 2020 2020 2020 2074 6167 3a20  e,.        tag: 
+0001ebf0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0001ec00: 2020 2020 666f 7263 655f 7265 6672 6573      force_refres
+0001ec10: 683a 2062 6f6f 6c20 3d20 4661 6c73 652c  h: bool = False,
+0001ec20: 0a20 2020 2029 3a0a 2020 2020 2020 2020  .    ):.        
+0001ec30: 2222 220a 2020 2020 2020 2020 5265 7472  """.        Retr
+0001ec40: 6965 7665 2074 6865 2069 7465 6d20 6361  ieve the item ca
+0001ec50: 7461 6c6f 6720 666f 7220 6120 7370 6563  talog for a spec
+0001ec60: 6966 6965 6420 6875 6220 736f 7572 6365  ified hub source
+0001ec70: 2e0a 2020 2020 2020 2020 5468 6520 6c69  ..        The li
+0001ec80: 7374 206f 6620 6974 656d 7320 6361 6e20  st of items can 
+0001ec90: 6265 2066 696c 7465 7265 6420 6163 636f  be filtered acco
+0001eca0: 7264 696e 6720 746f 2076 6172 696f 7573  rding to various
+0001ecb0: 2066 696c 7465 7273 2c20 7573 696e 6720   filters, using 
+0001ecc0: 6974 656d 2773 206d 6574 6164 6174 6120  item's metadata 
+0001ecd0: 746f 2066 696c 7465 722e 0a0a 2020 2020  to filter...    
+0001ece0: 2020 2020 3a70 6172 616d 2073 6f75 7263      :param sourc
+0001ecf0: 655f 6e61 6d65 3a20 4e61 6d65 206f 6620  e_name: Name of 
+0001ed00: 7468 6520 736f 7572 6365 2e0a 2020 2020  the source..    
+0001ed10: 2020 2020 3a70 6172 616d 2076 6572 7369      :param versi
+0001ed20: 6f6e 3a20 4669 6c74 6572 2069 7465 6d73  on: Filter items
+0001ed30: 2061 6363 6f72 6469 6e67 2074 6f20 7468   according to th
+0001ed40: 6569 7220 7665 7273 696f 6e2e 0a20 2020  eir version..   
+0001ed50: 2020 2020 203a 7061 7261 6d20 7461 673a       :param tag:
+0001ed60: 2046 696c 7465 7220 6974 656d 7320 6261   Filter items ba
+0001ed70: 7365 6420 6f6e 2074 6167 2e0a 2020 2020  sed on tag..    
+0001ed80: 2020 2020 3a70 6172 616d 2066 6f72 6365      :param force
+0001ed90: 5f72 6566 7265 7368 3a20 4d61 6b65 2074  _refresh: Make t
+0001eda0: 6865 2073 6572 7665 7220 6665 7463 6820  he server fetch 
+0001edb0: 7468 6520 6361 7461 6c6f 6720 6672 6f6d  the catalog from
+0001edc0: 2074 6865 2061 6374 7561 6c20 6875 6220   the actual hub 
+0001edd0: 736f 7572 6365 2c0a 2020 2020 2020 2020  source,.        
+0001ede0: 2020 2020 7261 7468 6572 2074 6861 6e20      rather than 
+0001edf0: 7265 6c79 206f 6e20 6361 6368 6564 2069  rely on cached i
+0001ee00: 6e66 6f72 6d61 7469 6f6e 2077 6869 6368  nformation which
+0001ee10: 206d 6179 2065 7869 7374 2066 726f 6d20   may exist from 
+0001ee20: 7072 6576 696f 7573 2067 6574 2072 6571  previous get req
+0001ee30: 7565 7374 732e 2046 6f72 2065 7861 6d70  uests. For examp
+0001ee40: 6c65 2c0a 2020 2020 2020 2020 2020 2020  le,.            
+0001ee50: 6966 2074 6865 2073 6f75 7263 6520 7761  if the source wa
+0001ee60: 7320 7265 2d62 7569 6c74 2c0a 2020 2020  s re-built,.    
+0001ee70: 2020 2020 2020 2020 7468 6973 2077 696c          this wil
+0001ee80: 6c20 6d61 6b65 2074 6865 2073 6572 7665  l make the serve
+0001ee90: 7220 6765 7420 7468 6520 7570 6461 7465  r get the update
+0001eea0: 6420 696e 666f 726d 6174 696f 6e2e 2044  d information. D
+0001eeb0: 6566 6175 6c74 2069 7320 6060 4661 6c73  efault is ``Fals
+0001eec0: 6560 602e 0a20 2020 2020 2020 203a 7265  e``..        :re
+0001eed0: 7475 726e 733a 203a 7079 3a63 6c61 7373  turns: :py:class
+0001eee0: 3a60 7e6d 6c72 756e 2e63 6f6d 6d6f 6e2e  :`~mlrun.common.
+0001eef0: 7363 6865 6d61 732e 6875 622e 4875 6243  schemas.hub.HubC
+0001ef00: 6174 616c 6f67 6020 6f62 6a65 6374 2c20  atalog` object, 
+0001ef10: 7768 6963 6820 6973 2065 7373 656e 7469  which is essenti
+0001ef20: 616c 6c79 2061 206c 6973 740a 2020 2020  ally a list.    
+0001ef30: 2020 2020 2020 2020 6f66 203a 7079 3a63          of :py:c
+0001ef40: 6c61 7373 3a60 7e6d 6c72 756e 2e63 6f6d  lass:`~mlrun.com
+0001ef50: 6d6f 6e2e 7363 6865 6d61 732e 6875 622e  mon.schemas.hub.
+0001ef60: 4875 6249 7465 6d60 2065 6e74 7269 6573  HubItem` entries
+0001ef70: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
+0001ef80: 2020 2020 2020 7061 7468 203d 2028 6622        path = (f"
+0001ef90: 6875 622f 736f 7572 6365 732f 7b73 6f75  hub/sources/{sou
+0001efa0: 7263 655f 6e61 6d65 7d2f 6974 656d 7322  rce_name}/items"
+0001efb0: 2c29 0a20 2020 2020 2020 2070 6172 616d  ,).        param
+0001efc0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+0001efd0: 2020 2276 6572 7369 6f6e 223a 2076 6572    "version": ver
+0001efe0: 7369 6f6e 2c0a 2020 2020 2020 2020 2020  sion,.          
+0001eff0: 2020 2274 6167 223a 2074 6167 2c0a 2020    "tag": tag,.  
+0001f000: 2020 2020 2020 2020 2020 2266 6f72 6365            "force
+0001f010: 2d72 6566 7265 7368 223a 2066 6f72 6365  -refresh": force
+0001f020: 5f72 6566 7265 7368 2c0a 2020 2020 2020  _refresh,.      
+0001f030: 2020 7d0a 2020 2020 2020 2020 7265 7370    }.        resp
+0001f040: 6f6e 7365 203d 2073 656c 662e 6170 695f  onse = self.api_
+0001f050: 6361 6c6c 286d 6574 686f 643d 2247 4554  call(method="GET
+0001f060: 222c 2070 6174 683d 7061 7468 2c20 7061  ", path=path, pa
+0001f070: 7261 6d73 3d70 6172 616d 7329 0a20 2020  rams=params).   
+0001f080: 2020 2020 2072 6574 7572 6e20 6d6c 7275       return mlru
+0001f090: 6e2e 636f 6d6d 6f6e 2e73 6368 656d 6173  n.common.schemas
+0001f0a0: 2e48 7562 4361 7461 6c6f 6728 2a2a 7265  .HubCatalog(**re
+0001f0b0: 7370 6f6e 7365 2e6a 736f 6e28 2929 0a0a  sponse.json())..
+0001f0c0: 2020 2020 6465 6620 6765 745f 6875 625f      def get_hub_
+0001f0d0: 6974 656d 280a 2020 2020 2020 2020 7365  item(.        se
+0001f0e0: 6c66 2c0a 2020 2020 2020 2020 736f 7572  lf,.        sour
+0001f0f0: 6365 5f6e 616d 653a 2073 7472 2c0a 2020  ce_name: str,.  
+0001f100: 2020 2020 2020 6974 656d 5f6e 616d 653a        item_name:
+0001f110: 2073 7472 2c0a 2020 2020 2020 2020 7665   str,.        ve
+0001f120: 7273 696f 6e3a 2073 7472 203d 204e 6f6e  rsion: str = Non
+0001f130: 652c 0a20 2020 2020 2020 2074 6167 3a20  e,.        tag: 
+0001f140: 7374 7220 3d20 226c 6174 6573 7422 2c0a  str = "latest",.
+0001f150: 2020 2020 2020 2020 666f 7263 655f 7265          force_re
+0001f160: 6672 6573 683a 2062 6f6f 6c20 3d20 4661  fresh: bool = Fa
+0001f170: 6c73 652c 0a20 2020 2029 3a0a 2020 2020  lse,.    ):.    
+0001f180: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001f190: 5265 7472 6965 7665 2061 2073 7065 6369  Retrieve a speci
+0001f1a0: 6669 6320 6875 6220 6974 656d 2e0a 0a20  fic hub item... 
+0001f1b0: 2020 2020 2020 203a 7061 7261 6d20 736f         :param so
+0001f1c0: 7572 6365 5f6e 616d 653a 204e 616d 6520  urce_name: Name 
+0001f1d0: 6f66 2073 6f75 7263 652e 0a20 2020 2020  of source..     
+0001f1e0: 2020 203a 7061 7261 6d20 6974 656d 5f6e     :param item_n
+0001f1f0: 616d 653a 204e 616d 6520 6f66 2074 6865  ame: Name of the
+0001f200: 2069 7465 6d20 746f 2072 6574 7269 6576   item to retriev
+0001f210: 652c 2061 7320 6974 2061 7070 6561 7273  e, as it appears
+0001f220: 2069 6e20 7468 6520 6361 7461 6c6f 672e   in the catalog.
+0001f230: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0001f240: 7665 7273 696f 6e3a 2047 6574 2061 2073  version: Get a s
+0001f250: 7065 6369 6669 6320 7665 7273 696f 6e20  pecific version 
+0001f260: 6f66 2074 6865 2069 7465 6d2e 2044 6566  of the item. Def
+0001f270: 6175 6c74 2069 7320 6060 4e6f 6e65 6060  ault is ``None``
+0001f280: 2e0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+0001f290: 2074 6167 3a20 4765 7420 6120 7370 6563   tag: Get a spec
+0001f2a0: 6966 6963 2076 6572 7369 6f6e 206f 6620  ific version of 
+0001f2b0: 7468 6520 6974 656d 2069 6465 6e74 6966  the item identif
+0001f2c0: 6965 6420 6279 2074 6167 2e20 4465 6661  ied by tag. Defa
+0001f2d0: 756c 7420 6973 2060 606c 6174 6573 7460  ult is ``latest`
+0001f2e0: 602e 0a20 2020 2020 2020 203a 7061 7261  `..        :para
+0001f2f0: 6d20 666f 7263 655f 7265 6672 6573 683a  m force_refresh:
+0001f300: 204d 616b 6520 7468 6520 7365 7276 6572   Make the server
+0001f310: 2066 6574 6368 2074 6865 2069 6e66 6f72   fetch the infor
+0001f320: 6d61 7469 6f6e 2066 726f 6d20 7468 6520  mation from the 
+0001f330: 6163 7475 616c 2068 7562 0a20 2020 2020  actual hub.     
+0001f340: 2020 2020 2020 2073 6f75 7263 652c 2072         source, r
+0001f350: 6174 6865 7220 7468 616e 0a20 2020 2020  ather than.     
+0001f360: 2020 2020 2020 2072 656c 7920 6f6e 2063         rely on c
+0001f370: 6163 6865 6420 696e 666f 726d 6174 696f  ached informatio
+0001f380: 6e2e 2044 6566 6175 6c74 2069 7320 6060  n. Default is ``
+0001f390: 4661 6c73 6560 602e 0a20 2020 2020 2020  False``..       
+0001f3a0: 203a 7265 7475 726e 733a 203a 7079 3a63   :returns: :py:c
+0001f3b0: 6c61 7373 3a60 7e6d 6c72 756e 2e63 6f6d  lass:`~mlrun.com
+0001f3c0: 6d6f 6e2e 7363 6865 6d61 732e 6875 622e  mon.schemas.hub.
+0001f3d0: 4875 6249 7465 6d60 2e0a 2020 2020 2020  HubItem`..      
+0001f3e0: 2020 2222 220a 2020 2020 2020 2020 7061    """.        pa
+0001f3f0: 7468 203d 2028 6622 6875 622f 736f 7572  th = (f"hub/sour
+0001f400: 6365 732f 7b73 6f75 7263 655f 6e61 6d65  ces/{source_name
+0001f410: 7d2f 6974 656d 732f 7b69 7465 6d5f 6e61  }/items/{item_na
+0001f420: 6d65 7d22 2c29 0a20 2020 2020 2020 2070  me}",).        p
+0001f430: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+0001f440: 2020 2020 2020 2276 6572 7369 6f6e 223a        "version":
+0001f450: 2076 6572 7369 6f6e 2c0a 2020 2020 2020   version,.      
+0001f460: 2020 2020 2020 2274 6167 223a 2074 6167        "tag": tag
+0001f470: 2c0a 2020 2020 2020 2020 2020 2020 2266  ,.            "f
+0001f480: 6f72 6365 2d72 6566 7265 7368 223a 2066  orce-refresh": f
+0001f490: 6f72 6365 5f72 6566 7265 7368 2c0a 2020  orce_refresh,.  
+0001f4a0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0001f4b0: 7265 7370 6f6e 7365 203d 2073 656c 662e  response = self.
+0001f4c0: 6170 695f 6361 6c6c 286d 6574 686f 643d  api_call(method=
+0001f4d0: 2247 4554 222c 2070 6174 683d 7061 7468  "GET", path=path
+0001f4e0: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+0001f4f0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0001f500: 6d6c 7275 6e2e 636f 6d6d 6f6e 2e73 6368  mlrun.common.sch
+0001f510: 656d 6173 2e48 7562 4974 656d 282a 2a72  emas.HubItem(**r
+0001f520: 6573 706f 6e73 652e 6a73 6f6e 2829 290a  esponse.json()).
+0001f530: 0a20 2020 2064 6566 2067 6574 5f68 7562  .    def get_hub
+0001f540: 5f61 7373 6574 280a 2020 2020 2020 2020  _asset(.        
+0001f550: 7365 6c66 2c0a 2020 2020 2020 2020 736f  self,.        so
+0001f560: 7572 6365 5f6e 616d 653a 2073 7472 2c0a  urce_name: str,.
+0001f570: 2020 2020 2020 2020 6974 656d 5f6e 616d          item_nam
+0001f580: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
+0001f590: 6173 7365 745f 6e61 6d65 3a20 7374 722c  asset_name: str,
+0001f5a0: 0a20 2020 2020 2020 2076 6572 7369 6f6e  .        version
+0001f5b0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0001f5c0: 2020 2020 2020 7461 673a 2073 7472 203d        tag: str =
+0001f5d0: 2022 6c61 7465 7374 222c 0a20 2020 2029   "latest",.    )
+0001f5e0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+0001f5f0: 2020 2020 2020 4765 7420 6875 6220 6173        Get hub as
+0001f600: 7365 7420 6672 6f6d 2069 7465 6d2e 0a0a  set from item...
+0001f610: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
+0001f620: 6f75 7263 655f 6e61 6d65 3a20 4e61 6d65  ource_name: Name
+0001f630: 206f 6620 736f 7572 6365 2e0a 2020 2020   of source..    
+0001f640: 2020 2020 3a70 6172 616d 2069 7465 6d5f      :param item_
+0001f650: 6e61 6d65 3a20 2020 4e61 6d65 206f 6620  name:   Name of 
+0001f660: 7468 6520 6974 656d 2077 6869 6368 2068  the item which h
+0001f670: 6f6c 6473 2074 6865 2061 7373 6574 2e0a  olds the asset..
+0001f680: 2020 2020 2020 2020 3a70 6172 616d 2061          :param a
+0001f690: 7373 6574 5f6e 616d 653a 2020 4e61 6d65  sset_name:  Name
+0001f6a0: 206f 6620 7468 6520 6173 7365 7420 746f   of the asset to
+0001f6b0: 2072 6574 7269 6576 652e 0a20 2020 2020   retrieve..     
+0001f6c0: 2020 203a 7061 7261 6d20 7665 7273 696f     :param versio
+0001f6d0: 6e3a 2047 6574 2061 2073 7065 6369 6669  n: Get a specifi
+0001f6e0: 6320 7665 7273 696f 6e20 6f66 2074 6865  c version of the
+0001f6f0: 2069 7465 6d2e 2044 6566 6175 6c74 2069   item. Default i
+0001f700: 7320 6060 4e6f 6e65 6060 2e0a 2020 2020  s ``None``..    
+0001f710: 2020 2020 3a70 6172 616d 2074 6167 3a20      :param tag: 
+0001f720: 4765 7420 6120 7370 6563 6966 6963 2076  Get a specific v
+0001f730: 6572 7369 6f6e 206f 6620 7468 6520 6974  ersion of the it
+0001f740: 656d 2069 6465 6e74 6966 6965 6420 6279  em identified by
+0001f750: 2074 6167 2e20 4465 6661 756c 7420 6973   tag. Default is
+0001f760: 2060 606c 6174 6573 7460 602e 0a0a 2020   ``latest``...  
+0001f770: 2020 2020 2020 3a72 6574 7572 6e3a 2068        :return: h
+0001f780: 7474 7020 7265 7370 6f6e 7365 2077 6974  ttp response wit
+0001f790: 6820 7468 6520 6173 7365 7420 696e 2074  h the asset in t
+0001f7a0: 6865 2063 6f6e 7465 6e74 2061 7474 7269  he content attri
+0001f7b0: 6275 7465 0a20 2020 2020 2020 2022 2222  bute.        """
+0001f7c0: 0a20 2020 2020 2020 2070 6174 6820 3d20  .        path = 
+0001f7d0: 2866 2268 7562 2f73 6f75 7263 6573 2f7b  (f"hub/sources/{
+0001f7e0: 736f 7572 6365 5f6e 616d 657d 2f69 7465  source_name}/ite
+0001f7f0: 6d73 2f7b 6974 656d 5f6e 616d 657d 2f61  ms/{item_name}/a
+0001f800: 7373 6574 732f 7b61 7373 6574 5f6e 616d  ssets/{asset_nam
+0001f810: 657d 222c 290a 2020 2020 2020 2020 7061  e}",).        pa
+0001f820: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+0001f830: 2020 2020 2022 7665 7273 696f 6e22 3a20       "version": 
+0001f840: 7665 7273 696f 6e2c 0a20 2020 2020 2020  version,.       
+0001f850: 2020 2020 2022 7461 6722 3a20 7461 672c       "tag": tag,
+0001f860: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
+0001f870: 2020 2072 6573 706f 6e73 6520 3d20 7365     response = se
+0001f880: 6c66 2e61 7069 5f63 616c 6c28 6d65 7468  lf.api_call(meth
+0001f890: 6f64 3d22 4745 5422 2c20 7061 7468 3d70  od="GET", path=p
+0001f8a0: 6174 682c 2070 6172 616d 733d 7061 7261  ath, params=para
+0001f8b0: 6d73 290a 2020 2020 2020 2020 7265 7475  ms).        retu
+0001f8c0: 726e 2072 6573 706f 6e73 650a 0a20 2020  rn response..   
+0001f8d0: 2064 6566 2076 6572 6966 795f 6175 7468   def verify_auth
+0001f8e0: 6f72 697a 6174 696f 6e28 0a20 2020 2020  orization(.     
+0001f8f0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0001f900: 2061 7574 686f 7269 7a61 7469 6f6e 5f76   authorization_v
+0001f910: 6572 6966 6963 6174 696f 6e5f 696e 7075  erification_inpu
+0001f920: 743a 206d 6c72 756e 2e63 6f6d 6d6f 6e2e  t: mlrun.common.
+0001f930: 7363 6865 6d61 732e 4175 7468 6f72 697a  schemas.Authoriz
+0001f940: 6174 696f 6e56 6572 6966 6963 6174 696f  ationVerificatio
+0001f950: 6e49 6e70 7574 2c0a 2020 2020 293a 0a20  nInput,.    ):. 
+0001f960: 2020 2020 2020 2022 2222 5665 7269 6669         """Verifi
+0001f970: 6573 2061 7574 686f 7269 7a61 7469 6f6e  es authorization
+0001f980: 2066 6f72 2074 6865 2070 726f 7669 6465   for the provide
+0001f990: 6420 6163 7469 6f6e 206f 6e20 7468 6520  d action on the 
+0001f9a0: 7072 6f76 6964 6564 2072 6573 6f75 7263  provided resourc
+0001f9b0: 652e 0a0a 2020 2020 2020 2020 3a70 6172  e...        :par
+0001f9c0: 616d 2061 7574 686f 7269 7a61 7469 6f6e  am authorization
+0001f9d0: 5f76 6572 6966 6963 6174 696f 6e5f 696e  _verification_in
+0001f9e0: 7075 743a 2049 6e73 7461 6e63 6520 6f66  put: Instance of
+0001f9f0: 0a20 2020 2020 2020 2020 2020 203a 7079  .            :py
+0001fa00: 3a63 6c61 7373 3a60 7e6d 6c72 756e 2e63  :class:`~mlrun.c
+0001fa10: 6f6d 6d6f 6e2e 7363 6865 6d61 732e 4175  ommon.schemas.Au
+0001fa20: 7468 6f72 697a 6174 696f 6e56 6572 6966  thorizationVerif
+0001fa30: 6963 6174 696f 6e49 6e70 7574 6020 7468  icationInput` th
+0001fa40: 6174 2069 6e63 6c75 6465 7320 616c 6c20  at includes all 
+0001fa50: 7468 6520 6e65 6564 6564 2070 6172 616d  the needed param
+0001fa60: 6574 6572 7320 666f 720a 2020 2020 2020  eters for.      
+0001fa70: 2020 2020 2020 7468 6520 6175 7468 2076        the auth v
+0001fa80: 6572 6966 6963 6174 696f 6e0a 2020 2020  erification.    
+0001fa90: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001faa0: 6572 726f 725f 6d65 7373 6167 6520 3d20  error_message = 
+0001fab0: 2241 7574 686f 7269 7a61 7469 6f6e 2063  "Authorization c
+0001fac0: 6865 636b 2066 6169 6c65 6422 0a20 2020  heck failed".   
+0001fad0: 2020 2020 2073 656c 662e 6170 695f 6361       self.api_ca
+0001fae0: 6c6c 280a 2020 2020 2020 2020 2020 2020  ll(.            
+0001faf0: 2250 4f53 5422 2c0a 2020 2020 2020 2020  "POST",.        
+0001fb00: 2020 2020 2261 7574 686f 7269 7a61 7469      "authorizati
+0001fb10: 6f6e 2f76 6572 6966 6963 6174 696f 6e73  on/verifications
+0001fb20: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+0001fb30: 7272 6f72 5f6d 6573 7361 6765 2c0a 2020  rror_message,.  
+0001fb40: 2020 2020 2020 2020 2020 626f 6479 3d64            body=d
+0001fb50: 6963 745f 746f 5f6a 736f 6e28 6175 7468  ict_to_json(auth
+0001fb60: 6f72 697a 6174 696f 6e5f 7665 7269 6669  orization_verifi
+0001fb70: 6361 7469 6f6e 5f69 6e70 7574 2e64 6963  cation_input.dic
+0001fb80: 7428 2929 2c0a 2020 2020 2020 2020 290a  t()),.        ).
+0001fb90: 0a20 2020 2064 6566 2074 7269 6767 6572  .    def trigger
+0001fba0: 5f6d 6967 7261 7469 6f6e 7328 7365 6c66  _migrations(self
+0001fbb0: 2920 2d3e 204f 7074 696f 6e61 6c5b 6d6c  ) -> Optional[ml
+0001fbc0: 7275 6e2e 636f 6d6d 6f6e 2e73 6368 656d  run.common.schem
+0001fbd0: 6173 2e42 6163 6b67 726f 756e 6454 6173  as.BackgroundTas
+0001fbe0: 6b5d 3a0a 2020 2020 2020 2020 2222 2254  k]:.        """T
+0001fbf0: 7269 6767 6572 206d 6967 7261 7469 6f6e  rigger migration
+0001fc00: 7320 2877 696c 6c20 646f 206e 6f74 6869  s (will do nothi
+0001fc10: 6e67 2069 6620 6e6f 206d 6967 7261 7469  ng if no migrati
+0001fc20: 6f6e 7320 6172 6520 6e65 6564 6564 2920  ons are needed) 
+0001fc30: 616e 6420 7761 6974 2066 6f72 2074 6865  and wait for the
+0001fc40: 6d20 746f 2066 696e 6973 6820 6966 2061  m to finish if a
+0001fc50: 6374 7561 6c6c 790a 2020 2020 2020 2020  ctually.        
+0001fc60: 7472 6967 6765 7265 640a 2020 2020 2020  triggered.      
+0001fc70: 2020 3a72 6574 7572 6e73 3a20 3a70 793a    :returns: :py:
+0001fc80: 636c 6173 733a 607e 6d6c 7275 6e2e 636f  class:`~mlrun.co
+0001fc90: 6d6d 6f6e 2e73 6368 656d 6173 2e42 6163  mmon.schemas.Bac
+0001fca0: 6b67 726f 756e 6454 6173 6b60 2e0a 2020  kgroundTask`..  
+0001fcb0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0001fcc0: 2020 7265 7370 6f6e 7365 203d 2073 656c    response = sel
+0001fcd0: 662e 6170 695f 6361 6c6c 280a 2020 2020  f.api_call(.    
+0001fce0: 2020 2020 2020 2020 2250 4f53 5422 2c0a          "POST",.
+0001fcf0: 2020 2020 2020 2020 2020 2020 226f 7065              "ope
+0001fd00: 7261 7469 6f6e 732f 6d69 6772 6174 696f  rations/migratio
+0001fd10: 6e73 222c 0a20 2020 2020 2020 2020 2020  ns",.           
+0001fd20: 2022 4661 696c 6564 2074 7269 6767 6572   "Failed trigger
+0001fd30: 696e 6720 6d69 6772 6174 696f 6e73 222c  ing migrations",
+0001fd40: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+0001fd50: 2020 2069 6620 7265 7370 6f6e 7365 2e73     if response.s
+0001fd60: 7461 7475 735f 636f 6465 203d 3d20 6874  tatus_code == ht
+0001fd70: 7470 2e48 5454 5053 7461 7475 732e 4143  tp.HTTPStatus.AC
+0001fd80: 4345 5054 4544 3a0a 2020 2020 2020 2020  CEPTED:.        
+0001fd90: 2020 2020 6261 636b 6772 6f75 6e64 5f74      background_t
+0001fda0: 6173 6b20 3d20 6d6c 7275 6e2e 636f 6d6d  ask = mlrun.comm
+0001fdb0: 6f6e 2e73 6368 656d 6173 2e42 6163 6b67  on.schemas.Backg
+0001fdc0: 726f 756e 6454 6173 6b28 2a2a 7265 7370  roundTask(**resp
+0001fdd0: 6f6e 7365 2e6a 736f 6e28 2929 0a20 2020  onse.json()).   
+0001fde0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+0001fdf0: 7365 6c66 2e5f 7761 6974 5f66 6f72 5f62  self._wait_for_b
+0001fe00: 6163 6b67 726f 756e 645f 7461 736b 5f74  ackground_task_t
+0001fe10: 6f5f 7265 6163 685f 7465 726d 696e 616c  o_reach_terminal
+0001fe20: 5f73 7461 7465 280a 2020 2020 2020 2020  _state(.        
+0001fe30: 2020 2020 2020 2020 6261 636b 6772 6f75          backgrou
+0001fe40: 6e64 5f74 6173 6b2e 6d65 7461 6461 7461  nd_task.metadata
+0001fe50: 2e6e 616d 650a 2020 2020 2020 2020 2020  .name.          
+0001fe60: 2020 290a 2020 2020 2020 2020 7265 7475    ).        retu
+0001fe70: 726e 204e 6f6e 650a 0a0a 6465 6620 5f61  rn None...def _a
+0001fe80: 735f 6a73 6f6e 286f 626a 293a 0a20 2020  s_json(obj):.   
+0001fe90: 2066 6e20 3d20 6765 7461 7474 7228 6f62   fn = getattr(ob
+0001fea0: 6a2c 2022 746f 5f6a 736f 6e22 2c20 4e6f  j, "to_json", No
+0001feb0: 6e65 290a 2020 2020 6966 2066 6e3a 0a20  ne).    if fn:. 
+0001fec0: 2020 2020 2020 2072 6574 7572 6e20 666e         return fn
+0001fed0: 2829 0a20 2020 2072 6574 7572 6e20 6469  ().    return di
+0001fee0: 6374 5f74 6f5f 6a73 6f6e 286f 626a 290a  ct_to_json(obj).
```

## mlrun/db/sqldb.py

```diff
@@ -318,17 +318,15 @@
             self.db.list_artifact_tags, self.session, project
         )
 
     def tag_objects(
         self,
         project: str,
         tag_name: str,
-        tag_objects: Union[
-            mlrun.common.schemas.TagObjects, mlrun.common.schemas.TagObjects
-        ],
+        tag_objects: mlrun.common.schemas.TagObjects,
         replace: bool = False,
     ):
         import mlrun.api.crud
 
         if replace:
             return self._transform_db_error(
                 mlrun.api.crud.Tags().overwrite_object_tags_with_tag,
@@ -346,17 +344,15 @@
             tag_objects,
         )
 
     def delete_objects_tag(
         self,
         project: str,
         tag_name: str,
-        tag_objects: Union[
-            mlrun.common.schemas.TagObjects, mlrun.common.schemas.TagObjects
-        ],
+        tag_objects: mlrun.common.schemas.TagObjects,
     ):
         import mlrun.api.crud
 
         return self._transform_db_error(
             mlrun.api.crud.Tags().delete_tag_from_objects,
             self.session,
             project,
@@ -397,15 +393,15 @@
 
     def list_schedules(self):
         return self._transform_db_error(self.db.list_schedules, self.session)
 
     def store_project(
         self,
         name: str,
-        project: Union[mlrun.common.schemas.Project, mlrun.common.schemas.Project],
+        project: mlrun.common.schemas.Project,
     ) -> mlrun.common.schemas.Project:
         import mlrun.api.crud
 
         if isinstance(project, dict):
             project = mlrun.common.schemas.Project(**project)
 
         return self._transform_db_error(
@@ -415,47 +411,42 @@
             project=project,
         )
 
     def patch_project(
         self,
         name: str,
         project: dict,
-        patch_mode: Union[
-            mlrun.common.schemas.PatchMode, mlrun.common.schemas.PatchMode
-        ] = mlrun.common.schemas.PatchMode.replace,
+        patch_mode: mlrun.common.schemas.PatchMode = mlrun.common.schemas.PatchMode.replace,
     ) -> mlrun.common.schemas.Project:
         import mlrun.api.crud
 
         return self._transform_db_error(
             mlrun.api.crud.Projects().patch_project,
             self.session,
             name=name,
             project=project,
             patch_mode=patch_mode,
         )
 
     def create_project(
         self,
-        project: Union[mlrun.common.schemas.Project, mlrun.common.schemas.Project],
+        project: mlrun.common.schemas.Project,
     ) -> mlrun.common.schemas.Project:
         import mlrun.api.crud
 
         return self._transform_db_error(
             mlrun.api.crud.Projects().create_project,
             self.session,
             project=project,
         )
 
     def delete_project(
         self,
         name: str,
-        deletion_strategy: Union[
-            mlrun.common.schemas.DeletionStrategy,
-            mlrun.common.schemas.DeletionStrategy,
-        ] = mlrun.common.schemas.DeletionStrategy.default(),
+        deletion_strategy: mlrun.common.schemas.DeletionStrategy = mlrun.common.schemas.DeletionStrategy.default(),
     ):
         import mlrun.api.crud
 
         return self._transform_db_error(
             mlrun.api.crud.Projects().delete_project,
             self.session,
             name=name,
```

## mlrun/launcher/base.py

```diff
@@ -34,23 +34,14 @@
     """
     Abstract class for managing and running functions in different contexts
     This class is designed to encapsulate the logic of running a function in different contexts
     i.e. running a function locally, remotely or in a server
     Each context will have its own implementation of the abstract methods while the common logic resides in this class
     """
 
-    def __init__(self):
-        self._db = None
-
-    @property
-    def db(self) -> mlrun.db.base.RunDBInterface:
-        if not self._db:
-            self._db = mlrun.db.get_run_db()
-        return self._db
-
     def save_function(
         self,
         runtime: "mlrun.runtimes.BaseRuntime",
         tag: str = "",
         versioned: bool = False,
         refresh: bool = False,
     ) -> str:
@@ -59,27 +50,28 @@
         :param runtime:     runtime object
         :param tag:         function tag to store
         :param versioned:   whether we want to version this function object so that it will queryable by its hash key
         :param refresh:     refresh function metadata
 
         :return:            function uri
         """
-        if not self.db:
+        db = runtime._get_db()
+        if not db:
             raise mlrun.errors.MLRunPreconditionFailedError(
                 "Database connection is not configured"
             )
 
         if refresh:
             self._refresh_function_metadata(runtime)
 
         tag = tag or runtime.metadata.tag
 
         obj = runtime.to_dict()
         logger.debug("Saving function", runtime_name=runtime.metadata.name, tag=tag)
-        hash_key = self.db.store_function(
+        hash_key = db.store_function(
             obj, runtime.metadata.name, runtime.metadata.project, tag, versioned
         )
         hash_key = hash_key if versioned else None
         return "db://" + runtime._function_uri(hash_key=hash_key, tag=tag)
 
     def launch(
         self,
@@ -97,15 +89,14 @@
         schedule: Optional[
             Union[str, mlrun.common.schemas.schedule.ScheduleCronTrigger]
         ] = None,
         hyperparams: Dict[str, list] = None,
         hyper_param_options: Optional[mlrun.model.HyperParamOptions] = None,
         verbose: Optional[bool] = None,
         scrape_metrics: Optional[bool] = None,
-        local: Optional[bool] = False,
         local_code_path: Optional[str] = None,
         auto_build: Optional[bool] = None,
         param_file_secrets: Optional[Dict[str, str]] = None,
         notifications: Optional[List[mlrun.model.Notification]] = None,
         returns: Optional[List[Union[str, Dict[str, str]]]] = None,
     ) -> "mlrun.run.RunObject":
         """run the function from the server/client[local/remote]"""
@@ -189,16 +180,16 @@
             )
 
         if isinstance(task, mlrun.run.RunTemplate):
             return mlrun.run.RunObject.from_template(task)
         elif isinstance(task, dict):
             return mlrun.run.RunObject.from_dict(task)
 
-    @staticmethod
     def _enrich_run(
+        self,
         runtime,
         run,
         handler=None,
         project_name=None,
         name=None,
         params=None,
         inputs=None,
@@ -281,14 +272,15 @@
                     == mlrun.pipeline_context.project.metadata.name
                 ):
                     run.spec.output_path = (
                         mlrun.pipeline_context.project.spec.artifact_path
                         or mlrun.pipeline_context.workflow_artifact_path
                     )
 
+                # get_db might be None when no rundb is set on runtime
                 if not run.spec.output_path and runtime._get_db():
                     try:
                         # not passing or loading the DB before the enrichment on purpose, because we want to enrich the
                         # spec first as get_db() depends on it
                         project = runtime._get_db().get_project(run.metadata.project)
                         # this is mainly for tests, so we won't need to mock get_project for so many tests
                         # in normal use cases if no project is found we will get an error
@@ -356,15 +348,16 @@
                 if runtime._is_remote and not runtime.is_child:
                     logger.error(f"runtime error: {run.status.error}")
                 raise mlrun.runtimes.utils.RunError(run.status.error)
             return run
 
         return None
 
-    def _refresh_function_metadata(self, runtime: "mlrun.runtimes.BaseRuntime"):
+    @staticmethod
+    def _refresh_function_metadata(runtime: "mlrun.runtimes.BaseRuntime"):
         pass
 
     @staticmethod
     @abc.abstractmethod
     def verify_base_image(runtime):
         """resolves and sets the build base image if build is needed"""
         pass
@@ -374,17 +367,18 @@
     def _enrich_runtime(runtime):
         pass
 
     @abc.abstractmethod
     def _save_or_push_notifications(self, runobj):
         pass
 
+    @staticmethod
     @abc.abstractmethod
     def _store_function(
-        self, runtime: "mlrun.runtimes.BaseRuntime", run: "mlrun.run.RunObject"
+        runtime: "mlrun.runtimes.BaseRuntime", run: "mlrun.run.RunObject"
     ):
         pass
 
     @staticmethod
     def _log_track_results(
         runtime: "mlrun.runtimes.BaseRuntime", result: dict, run: "mlrun.run.RunObject"
     ):
```

## mlrun/launcher/client.py

```diff
@@ -31,38 +31,41 @@
     """
 
     @staticmethod
     def _enrich_runtime(runtime):
         runtime.try_auto_mount_based_on_config()
         runtime._fill_credentials()
 
+    @staticmethod
     def _store_function(
-        self, runtime: "mlrun.runtimes.BaseRuntime", run: "mlrun.run.RunObject"
+        runtime: "mlrun.runtimes.BaseRuntime", run: "mlrun.run.RunObject"
     ):
         run.metadata.labels["kind"] = runtime.kind
         if "owner" not in run.metadata.labels:
             run.metadata.labels["owner"] = (
                 os.environ.get("V3IO_USERNAME") or getpass.getuser()
             )
         if run.spec.output_path:
             run.spec.output_path = run.spec.output_path.replace(
                 "{{run.user}}", run.metadata.labels["owner"]
             )
-
-        if self.db and runtime.kind != "handler":
+        db = runtime._get_db()
+        if db and runtime.kind != "handler":
             struct = runtime.to_dict()
-            hash_key = self.db.store_function(
+            hash_key = db.store_function(
                 struct, runtime.metadata.name, runtime.metadata.project, versioned=True
             )
             run.spec.function = runtime._function_uri(hash_key=hash_key)
 
-    def _refresh_function_metadata(self, runtime: "mlrun.runtimes.BaseRuntime"):
+    @staticmethod
+    def _refresh_function_metadata(runtime: "mlrun.runtimes.BaseRuntime"):
         try:
             meta = runtime.metadata
-            db_func = self.db.get_function(meta.name, meta.project, meta.tag)
+            db = runtime._get_db()
+            db_func = db.get_function(meta.name, meta.project, meta.tag)
             if db_func and "status" in db_func:
                 runtime.status = db_func["status"]
                 if (
                     runtime.status.state
                     and runtime.status.state == "ready"
                     and runtime.kind
                     # We don't want to override the nuclio image here because the build happens in nuclio
```

## mlrun/launcher/local.py

```diff
@@ -60,15 +60,14 @@
         schedule: Optional[
             Union[str, mlrun.common.schemas.schedule.ScheduleCronTrigger]
         ] = None,
         hyperparams: Dict[str, list] = None,
         hyper_param_options: Optional[mlrun.model.HyperParamOptions] = None,
         verbose: Optional[bool] = None,
         scrape_metrics: Optional[bool] = None,
-        local: Optional[bool] = False,
         local_code_path: Optional[str] = None,
         auto_build: Optional[bool] = None,
         param_file_secrets: Optional[Dict[str, str]] = None,
         notifications: Optional[List[mlrun.model.Notification]] = None,
         returns: Optional[List[Union[str, Dict[str, str]]]] = None,
     ) -> "mlrun.run.RunObject":
 
@@ -145,15 +144,15 @@
             uid=run.metadata.uid,
             db=runtime.spec.rundb,
         )
         self._store_function(runtime, run)
 
         execution = mlrun.run.MLClientCtx.from_dict(
             run.to_dict(),
-            self.db,
+            runtime._get_db(),
             autocommit=False,
             is_api=False,
             store_run=False,
         )
 
         # create task generator (for child runs) from spec
         task_generator = mlrun.runtimes.generators.get_generator(run.spec, execution)
@@ -196,48 +195,53 @@
         # run post run hooks
         runtime._post_run(result, execution)  # hook for runtime specific cleanup
 
         return self._wrap_run_result(runtime, result, run, err=last_err)
 
     def _create_local_function_for_execution(
         self,
-        runtime,
-        run,
-        local_code_path,
-        project,
-        name,
-        workdir,
-        handler,
+        runtime: "mlrun.runtimes.BaseRuntime",
+        run: "mlrun.run.RunObject",
+        local_code_path: Optional[str] = None,
+        project: Optional[str] = "",
+        name: Optional[str] = "",
+        workdir: Optional[str] = "",
+        handler: Optional[str] = None,
     ):
 
         project = project or runtime.metadata.project
         function_name = name or runtime.metadata.name
         command, args = self._resolve_local_code_path(local_code_path)
         if command:
             function_name = name or pathlib.Path(command).stem
 
         meta = mlrun.model.BaseMetadata(function_name, project=project)
 
-        command, runtime = mlrun.run.load_func_code(
+        command, loaded_runtime = mlrun.run.load_func_code(
             command or runtime, workdir, name=name
         )
-        if runtime:
+        # loaded_runtime is loaded from runtime or yaml file, if passed a command it should be None,
+        # so we keep the current runtime for enrichment
+        runtime = loaded_runtime or runtime
+        if loaded_runtime:
             if run:
                 handler = handler or run.spec.handler
             handler = handler or runtime.spec.default_handler or ""
             meta = runtime.metadata.copy()
+            meta.name = function_name or meta.name
             meta.project = project or meta.project
 
         # if the handler has module prefix force "local" (vs "handler") runtime
         kind = "local" if isinstance(handler, str) and "." in handler else ""
         fn = mlrun.new_function(meta.name, command=command, args=args, kind=kind)
         fn.metadata = meta
         setattr(fn, "_is_run_local", True)
         if workdir:
             fn.spec.workdir = str(workdir)
+
         fn.spec.allow_empty_resources = runtime.spec.allow_empty_resources
         if runtime:
             # copy the code/base-spec to the local function (for the UI and code logging)
             fn.spec.description = runtime.spec.description
             fn.spec.build = runtime.spec.build
 
         run.spec.handler = handler
```

## mlrun/launcher/remote.py

```diff
@@ -49,15 +49,14 @@
         schedule: Optional[
             Union[str, mlrun.common.schemas.schedule.ScheduleCronTrigger]
         ] = None,
         hyperparams: Dict[str, list] = None,
         hyper_param_options: Optional[mlrun.model.HyperParamOptions] = None,
         verbose: Optional[bool] = None,
         scrape_metrics: Optional[bool] = None,
-        local: Optional[bool] = False,
         local_code_path: Optional[str] = None,
         auto_build: Optional[bool] = None,
         param_file_secrets: Optional[Dict[str, str]] = None,
         notifications: Optional[List[mlrun.model.Notification]] = None,
         returns: Optional[List[Union[str, Dict[str, str]]]] = None,
     ) -> "mlrun.run.RunObject":
         self._enrich_runtime(runtime)
@@ -117,15 +116,16 @@
         run: "mlrun.run.RunObject",
         schedule: Optional[mlrun.common.schemas.ScheduleCronTrigger] = None,
         watch: Optional[bool] = None,
     ):
         if runtime._secrets:
             run.spec.secret_sources = runtime._secrets.to_serial()
         try:
-            resp = self.db.submit_job(run, schedule=schedule)
+            db = runtime._get_db()
+            resp = db.submit_job(run, schedule=schedule)
             if schedule:
                 action = resp.pop("action", "created")
                 logger.info(f"task schedule {action}", **resp)
                 return
 
         except (requests.HTTPError, Exception) as err:
             logger.error(f"got remote run err, {mlrun.errors.err_to_str(err)}")
@@ -170,14 +170,14 @@
                 sleep=state_interval,
                 logs_interval=logs_interval,
                 raise_on_failure=False,
             )
             resp = runtime._get_db_run(run)
 
         elif watch or runtime.kfp:
-            run.logs(True, self.db)
+            run.logs(True, runtime._get_db())
             resp = runtime._get_db_run(run)
 
         return self._wrap_run_result(runtime, resp, run, schedule=schedule)
 
     def _save_or_push_notifications(self, runobj):
         pass
```

## mlrun/projects/project.py

```diff
@@ -1843,19 +1843,22 @@
         :param provider:  MLRun secrets provider
         """
         if (not secrets and not file_path) or (secrets and file_path):
             raise mlrun.errors.MLRunInvalidArgumentError(
                 "must specify secrets OR file_path"
             )
         if file_path:
-            secrets = dotenv.dotenv_values(file_path)
-            if None in secrets.values():
-                raise mlrun.errors.MLRunInvalidArgumentError(
-                    "env file lines must be in the form key=value"
-                )
+            if path.isfile(file_path):
+                secrets = dotenv.dotenv_values(file_path)
+                if None in secrets.values():
+                    raise mlrun.errors.MLRunInvalidArgumentError(
+                        "env file lines must be in the form key=value"
+                    )
+            else:
+                raise mlrun.errors.MLRunNotFoundError(f"{file_path} does not exist")
         # drop V3IO paths/credentials and MLrun service API address
         env_vars = {
             key: val
             for key, val in secrets.items()
             if key != "MLRUN_DBPATH" and not key.startswith("V3IO_")
         }
         provider = provider or mlrun.common.schemas.SecretProviderName.kubernetes
```

## mlrun/runtimes/base.py

```diff
@@ -12,15 +12,14 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import enum
 import getpass
 import http
 import traceback
 import typing
-import uuid
 from abc import ABC, abstractmethod
 from ast import literal_eval
 from base64 import b64encode
 from copy import deepcopy
 from datetime import datetime, timedelta, timezone
 from os import environ
 from typing import Dict, List, Optional, Tuple, Union
@@ -52,23 +51,21 @@
     BaseMetadata,
     HyperParamOptions,
     ImageBuilder,
     ModelObj,
     RunObject,
     RunTemplate,
 )
-from ..secrets import SecretsStore
 from ..utils import (
     dict_to_json,
     dict_to_yaml,
     enrich_image_url,
     get_in,
     get_parsed_docker_registry,
     logger,
-    normalize_name,
     now_date,
     update_in,
 )
 from .constants import PodPhases, RunStates
 from .funcdoc import update_function_entry_points
 from .utils import RunError, calc_hash, get_k8s
 
@@ -239,14 +236,15 @@
             hash_key=hash_key,
         )
 
     def _ensure_run_db(self):
         self.spec.rundb = self.spec.rundb or get_or_set_dburl()
 
     def _get_db(self):
+        # TODO: remove this function and use the launcher db instead
         self._ensure_run_db()
         if not self._db_conn:
             if self.spec.rundb:
                 self._db_conn = get_run_db(self.spec.rundb, secrets=self._secrets)
         return self._db_conn
 
     # This function is different than the auto_mount function, as it mounts to runtimes based on the configuration.
@@ -366,15 +364,14 @@
             artifact_path=artifact_path,
             watch=watch,
             schedule=schedule,
             hyperparams=hyperparams,
             hyper_param_options=hyper_param_options,
             verbose=verbose,
             scrape_metrics=scrape_metrics,
-            local=local,
             local_code_path=local_code_path,
             auto_build=auto_build,
             param_file_secrets=param_file_secrets,
             notifications=notifications,
             returns=returns,
         )
 
@@ -420,136 +417,14 @@
 
         if isinstance(runspec, RunTemplate):
             runspec = RunObject.from_template(runspec)
         if isinstance(runspec, dict) or runspec is None:
             runspec = RunObject.from_dict(runspec)
         return runspec
 
-    def _enrich_run(
-        self,
-        runspec,
-        handler,
-        project_name,
-        name,
-        params,
-        inputs,
-        returns,
-        hyperparams,
-        hyper_param_options,
-        verbose,
-        scrape_metrics,
-        out_path,
-        artifact_path,
-        workdir,
-        notifications: List[mlrun.model.Notification] = None,
-    ):
-        runspec.spec.handler = (
-            handler or runspec.spec.handler or self.spec.default_handler or ""
-        )
-        if runspec.spec.handler and self.kind not in ["handler", "dask"]:
-            runspec.spec.handler = runspec.spec.handler_name
-
-        def_name = self.metadata.name
-        if runspec.spec.handler_name:
-            short_name = runspec.spec.handler_name
-            for separator in ["#", "::", "."]:
-                # drop paths, module or class name from short name
-                if separator in short_name:
-                    short_name = short_name.split(separator)[-1]
-            def_name += "-" + short_name
-
-        runspec.metadata.name = normalize_name(
-            name=name or runspec.metadata.name or def_name,
-            # if name or runspec.metadata.name are set then it means that is user defined name and we want to warn the
-            # user that the passed name needs to be set without underscore, if its not user defined but rather enriched
-            # from the handler(function) name then we replace the underscore without warning the user.
-            # most of the time handlers will have `_` in the handler name (python convention is to separate function
-            # words with `_`), therefore we don't want to be noisy when normalizing the run name
-            verbose=bool(name or runspec.metadata.name),
-        )
-        verify_field_regex(
-            "run.metadata.name", runspec.metadata.name, mlrun.utils.regex.run_name
-        )
-        runspec.metadata.project = (
-            project_name
-            or runspec.metadata.project
-            or self.metadata.project
-            or config.default_project
-        )
-        runspec.spec.parameters = params or runspec.spec.parameters
-        runspec.spec.inputs = inputs or runspec.spec.inputs
-        runspec.spec.returns = returns or runspec.spec.returns
-        runspec.spec.hyperparams = hyperparams or runspec.spec.hyperparams
-        runspec.spec.hyper_param_options = (
-            hyper_param_options or runspec.spec.hyper_param_options
-        )
-        runspec.spec.verbose = verbose or runspec.spec.verbose
-        if scrape_metrics is None:
-            if runspec.spec.scrape_metrics is None:
-                scrape_metrics = config.scrape_metrics
-            else:
-                scrape_metrics = runspec.spec.scrape_metrics
-        runspec.spec.scrape_metrics = scrape_metrics
-        runspec.spec.input_path = (
-            workdir or runspec.spec.input_path or self.spec.workdir
-        )
-        if self.spec.allow_empty_resources:
-            runspec.spec.allow_empty_resources = self.spec.allow_empty_resources
-
-        spec = runspec.spec
-        if spec.secret_sources:
-            self._secrets = SecretsStore.from_list(spec.secret_sources)
-
-        # update run metadata (uid, labels) and store in DB
-        meta = runspec.metadata
-        meta.uid = meta.uid or uuid.uuid4().hex
-
-        runspec.spec.output_path = out_path or artifact_path or runspec.spec.output_path
-
-        if not runspec.spec.output_path:
-            if runspec.metadata.project:
-                if (
-                    mlrun.pipeline_context.project
-                    and runspec.metadata.project
-                    == mlrun.pipeline_context.project.metadata.name
-                ):
-                    runspec.spec.output_path = (
-                        mlrun.pipeline_context.project.spec.artifact_path
-                        or mlrun.pipeline_context.workflow_artifact_path
-                    )
-
-                if not runspec.spec.output_path and self._get_db():
-                    try:
-                        # not passing or loading the DB before the enrichment on purpose, because we want to enrich the
-                        # spec first as get_db() depends on it
-                        project = self._get_db().get_project(runspec.metadata.project)
-                        # this is mainly for tests, so we won't need to mock get_project for so many tests
-                        # in normal use cases if no project is found we will get an error
-                        if project:
-                            runspec.spec.output_path = project.spec.artifact_path
-                    except mlrun.errors.MLRunNotFoundError:
-                        logger.warning(
-                            f"project {project_name} is not saved in DB yet, "
-                            f"enriching output path with default artifact path: {config.artifact_path}"
-                        )
-
-            if not runspec.spec.output_path:
-                runspec.spec.output_path = config.artifact_path
-
-        if runspec.spec.output_path:
-            runspec.spec.output_path = runspec.spec.output_path.replace(
-                "{{run.uid}}", meta.uid
-            )
-            runspec.spec.output_path = mlrun.utils.helpers.fill_artifact_path_template(
-                runspec.spec.output_path, runspec.metadata.project
-            )
-
-        runspec.spec.notifications = notifications or runspec.spec.notifications or []
-        return runspec
-
     @staticmethod
     def _handle_submit_job_http_error(error: requests.HTTPError):
         # if we receive a 400 status code, this means the request was invalid and the run wasn't created in the DB.
         # so we don't need to update the run state and we can just raise the error.
         # more status code handling can be added here if needed
         if error.response.status_code == http.HTTPStatus.BAD_REQUEST.value:
             raise mlrun.errors.MLRunBadRequestError(
```

## mlrun/runtimes/local.py

```diff
@@ -469,21 +469,42 @@
 
 def get_func_arg(handler, runobj: RunObject, context: MLClientCtx, is_nuclio=False):
     params = runobj.spec.parameters or {}
     inputs = runobj.spec.inputs or {}
     kwargs = {}
     args = inspect.signature(handler).parameters
 
+    def _get_input_value(input_key: str):
+        input_obj = context.get_input(input_key, inputs[input_key])
+        if type(args[input_key].default) is str or args[input_key].annotation == str:
+            return input_obj.local()
+        else:
+            return input_obj
+
     for key in args.keys():
         if key == "context":
             kwargs[key] = context
         elif is_nuclio and key == "event":
             kwargs[key] = Event(runobj.to_dict())
         elif key in params:
             kwargs[key] = copy(params[key])
         elif key in inputs:
-            obj = context.get_input(key, inputs[key])
-            if type(args[key].default) is str or args[key].annotation == str:
-                kwargs[key] = obj.local()
-            else:
-                kwargs[key] = context.get_input(key, inputs[key])
+            kwargs[key] = _get_input_value(key)
+
+    list_of_params = list(args.values())
+    if len(list_of_params) == 0:
+        return kwargs
+
+    # get the last parameter, as **kwargs can only be last in the function's parameters list
+    last_param = list_of_params[-1]
+    # VAR_KEYWORD meaning : A dict of keyword arguments that aren’t bound to any other parameter.
+    # This corresponds to a **kwargs parameter in a Python function definition.
+    if last_param.kind == last_param.VAR_KEYWORD:
+        # if handler has **kwargs, pass all parameters provided by the user to the handler which were not already set
+        # as part of the previous loop which handled all parameters which were explicitly defined in the handler
+        for key in params:
+            if key not in kwargs:
+                kwargs[key] = copy(params[key])
+        for key in inputs:
+            if key not in kwargs:
+                kwargs[key] = _get_input_value(key)
     return kwargs
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## mlrun/runtimes/pod.py

```diff
@@ -988,20 +988,22 @@
         :param file_path: .env file with key=value lines
         """
         if (not env_vars and not file_path) or (env_vars and file_path):
             raise mlrun.errors.MLRunInvalidArgumentError(
                 "must specify env_vars OR file_path"
             )
         if file_path:
-            env_vars = dotenv.dotenv_values(file_path)
-            if None in env_vars.values():
-                raise mlrun.errors.MLRunInvalidArgumentError(
-                    "env file lines must be in the form key=value"
-                )
-
+            if os.path.isfile(file_path):
+                env_vars = dotenv.dotenv_values(file_path)
+                if None in env_vars.values():
+                    raise mlrun.errors.MLRunInvalidArgumentError(
+                        "env file lines must be in the form key=value"
+                    )
+            else:
+                raise mlrun.errors.MLRunNotFoundError(f"{file_path} does not exist")
         for name, value in env_vars.items():
             self.set_env(name, value)
         return self
 
     # TODO: Remove in 1.5.0
     @deprecated(
         version="1.3.0",
```

## mlrun/utils/version/version.json

### Pretty-printed

 * *Similarity: 0.5%*

 * *Differences: {"'git_commit'": "'85960a2a97c2d959f540d5909bb7de1381978fda'", "'version'": "'1.4.0-rc5'"}*

```diff
@@ -1,4 +1,4 @@
 {
-    "git_commit": "3618d468853e804de8f3e4ad15d1420efd5e8aac",
-    "version": "1.4.0-rc4"
+    "git_commit": "85960a2a97c2d959f540d5909bb7de1381978fda",
+    "version": "1.4.0-rc5"
 }
```

## Comparing `mlrun-1.4.0rc4.dist-info/LICENSE` & `mlrun-1.4.0rc5.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `mlrun-1.4.0rc4.dist-info/METADATA` & `mlrun-1.4.0rc5.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: mlrun
-Version: 1.4.0rc4
+Version: 1.4.0rc5
 Summary: Tracking and config of machine learning runs
 Home-page: https://github.com/mlrun/mlrun
 Author: Yaron Haviv
 Author-email: yaronh@iguazio.com
 License: MIT
 Platform: UNKNOWN
 Classifier: Development Status :: 4 - Beta
@@ -47,128 +47,124 @@
 Requires-Dist: v3io-frames (~=0.10.4)
 Requires-Dist: semver (~=2.13)
 Requires-Dist: dask (~=2021.11.2)
 Requires-Dist: distributed (~=2021.11.2)
 Requires-Dist: kubernetes (~=12.0)
 Requires-Dist: humanfriendly (~=8.2)
 Requires-Dist: fastapi (~=0.92.0)
-Requires-Dist: fsspec (~=2021.8.1)
+Requires-Dist: fsspec (~=2023.1.0)
 Requires-Dist: v3iofs (~=0.1.15)
 Requires-Dist: storey (~=1.3.19)
 Requires-Dist: deepdiff (~=5.0)
 Requires-Dist: pymysql (~=1.0)
 Requires-Dist: inflection (~=0.5.0)
 Requires-Dist: python-dotenv (~=0.17.0)
 Requires-Dist: setuptools (~=65.5)
 Requires-Dist: deprecated (~=1.2)
 Provides-Extra: all
-Requires-Dist: adlfs (~=2021.8.1) ; extra == 'all'
-Requires-Dist: aiobotocore (~=1.4.0) ; extra == 'all'
+Requires-Dist: adlfs (~=2022.2.0) ; extra == 'all'
+Requires-Dist: aiobotocore (~=2.4.2) ; extra == 'all'
 Requires-Dist: avro (~=1.11) ; extra == 'all'
 Requires-Dist: azure-core (~=1.24) ; extra == 'all'
 Requires-Dist: azure-identity (~=1.5) ; extra == 'all'
 Requires-Dist: azure-keyvault-secrets (~=4.2) ; extra == 'all'
 Requires-Dist: azure-storage-blob (~=12.13) ; extra == 'all'
 Requires-Dist: bokeh (>=2.4.2,~=2.4) ; extra == 'all'
-Requires-Dist: boto3 (<1.17.107,~=1.9) ; extra == 'all'
-Requires-Dist: botocore (<1.20.107,>=1.20.106) ; extra == 'all'
-Requires-Dist: gcsfs (~=2021.8.1) ; extra == 'all'
+Requires-Dist: boto3 (~=1.24.59) ; extra == 'all'
+Requires-Dist: gcsfs (~=2023.1.0) ; extra == 'all'
 Requires-Dist: google-cloud-bigquery[bqstorage,pandas] (~=3.2) ; extra == 'all'
 Requires-Dist: google-cloud-storage (~=1.20) ; extra == 'all'
 Requires-Dist: google-cloud (~=0.34) ; extra == 'all'
 Requires-Dist: graphviz (~=0.20.0) ; extra == 'all'
 Requires-Dist: kafka-python (~=2.0) ; extra == 'all'
 Requires-Dist: msrest (~=0.6.21) ; extra == 'all'
 Requires-Dist: plotly (<5.12.0,~=5.4) ; extra == 'all'
 Requires-Dist: pyopenssl (>=23) ; extra == 'all'
 Requires-Dist: redis (~=4.3) ; extra == 'all'
-Requires-Dist: s3fs (~=2021.8.1) ; extra == 'all'
+Requires-Dist: s3fs (~=2023.1.0) ; extra == 'all'
 Provides-Extra: api
 Requires-Dist: uvicorn (~=0.20.0) ; extra == 'api'
 Requires-Dist: dask-kubernetes (~=0.11.0) ; extra == 'api'
 Requires-Dist: apscheduler (~=3.6) ; extra == 'api'
 Requires-Dist: sqlite3-to-mysql (~=1.4) ; extra == 'api'
 Requires-Dist: objgraph (~=3.5) ; extra == 'api'
 Provides-Extra: azure-blob-storage
 Requires-Dist: msrest (~=0.6.21) ; extra == 'azure-blob-storage'
 Requires-Dist: azure-core (~=1.24) ; extra == 'azure-blob-storage'
 Requires-Dist: azure-storage-blob (~=12.13) ; extra == 'azure-blob-storage'
-Requires-Dist: adlfs (~=2021.8.1) ; extra == 'azure-blob-storage'
+Requires-Dist: adlfs (~=2022.2.0) ; extra == 'azure-blob-storage'
 Requires-Dist: pyopenssl (>=23) ; extra == 'azure-blob-storage'
 Provides-Extra: azure-key-vault
 Requires-Dist: azure-identity (~=1.5) ; extra == 'azure-key-vault'
 Requires-Dist: azure-keyvault-secrets (~=4.2) ; extra == 'azure-key-vault'
 Requires-Dist: pyopenssl (>=23) ; extra == 'azure-key-vault'
 Provides-Extra: bokeh
 Requires-Dist: bokeh (>=2.4.2,~=2.4) ; extra == 'bokeh'
 Provides-Extra: complete
-Requires-Dist: adlfs (~=2021.8.1) ; extra == 'complete'
-Requires-Dist: aiobotocore (~=1.4.0) ; extra == 'complete'
+Requires-Dist: adlfs (~=2022.2.0) ; extra == 'complete'
+Requires-Dist: aiobotocore (~=2.4.2) ; extra == 'complete'
 Requires-Dist: avro (~=1.11) ; extra == 'complete'
 Requires-Dist: azure-core (~=1.24) ; extra == 'complete'
 Requires-Dist: azure-identity (~=1.5) ; extra == 'complete'
 Requires-Dist: azure-keyvault-secrets (~=4.2) ; extra == 'complete'
 Requires-Dist: azure-storage-blob (~=12.13) ; extra == 'complete'
-Requires-Dist: boto3 (<1.17.107,~=1.9) ; extra == 'complete'
-Requires-Dist: botocore (<1.20.107,>=1.20.106) ; extra == 'complete'
-Requires-Dist: gcsfs (~=2021.8.1) ; extra == 'complete'
+Requires-Dist: boto3 (~=1.24.59) ; extra == 'complete'
+Requires-Dist: gcsfs (~=2023.1.0) ; extra == 'complete'
 Requires-Dist: google-cloud-bigquery[bqstorage,pandas] (~=3.2) ; extra == 'complete'
 Requires-Dist: graphviz (~=0.20.0) ; extra == 'complete'
 Requires-Dist: kafka-python (~=2.0) ; extra == 'complete'
 Requires-Dist: msrest (~=0.6.21) ; extra == 'complete'
 Requires-Dist: plotly (<5.12.0,~=5.4) ; extra == 'complete'
 Requires-Dist: pyopenssl (>=23) ; extra == 'complete'
 Requires-Dist: redis (~=4.3) ; extra == 'complete'
-Requires-Dist: s3fs (~=2021.8.1) ; extra == 'complete'
+Requires-Dist: s3fs (~=2023.1.0) ; extra == 'complete'
 Provides-Extra: complete-api
-Requires-Dist: adlfs (~=2021.8.1) ; extra == 'complete-api'
-Requires-Dist: aiobotocore (~=1.4.0) ; extra == 'complete-api'
+Requires-Dist: adlfs (~=2022.2.0) ; extra == 'complete-api'
+Requires-Dist: aiobotocore (~=2.4.2) ; extra == 'complete-api'
 Requires-Dist: apscheduler (~=3.6) ; extra == 'complete-api'
 Requires-Dist: avro (~=1.11) ; extra == 'complete-api'
 Requires-Dist: azure-core (~=1.24) ; extra == 'complete-api'
 Requires-Dist: azure-identity (~=1.5) ; extra == 'complete-api'
 Requires-Dist: azure-keyvault-secrets (~=4.2) ; extra == 'complete-api'
 Requires-Dist: azure-storage-blob (~=12.13) ; extra == 'complete-api'
-Requires-Dist: boto3 (<1.17.107,~=1.9) ; extra == 'complete-api'
-Requires-Dist: botocore (<1.20.107,>=1.20.106) ; extra == 'complete-api'
+Requires-Dist: boto3 (~=1.24.59) ; extra == 'complete-api'
 Requires-Dist: dask-kubernetes (~=0.11.0) ; extra == 'complete-api'
-Requires-Dist: gcsfs (~=2021.8.1) ; extra == 'complete-api'
+Requires-Dist: gcsfs (~=2023.1.0) ; extra == 'complete-api'
 Requires-Dist: google-cloud-bigquery[bqstorage,pandas] (~=3.2) ; extra == 'complete-api'
 Requires-Dist: graphviz (~=0.20.0) ; extra == 'complete-api'
 Requires-Dist: kafka-python (~=2.0) ; extra == 'complete-api'
 Requires-Dist: msrest (~=0.6.21) ; extra == 'complete-api'
 Requires-Dist: objgraph (~=3.5) ; extra == 'complete-api'
 Requires-Dist: plotly (<5.12.0,~=5.4) ; extra == 'complete-api'
 Requires-Dist: pyopenssl (>=23) ; extra == 'complete-api'
 Requires-Dist: redis (~=4.3) ; extra == 'complete-api'
-Requires-Dist: s3fs (~=2021.8.1) ; extra == 'complete-api'
+Requires-Dist: s3fs (~=2023.1.0) ; extra == 'complete-api'
 Requires-Dist: sqlite3-to-mysql (~=1.4) ; extra == 'complete-api'
 Requires-Dist: uvicorn (~=0.20.0) ; extra == 'complete-api'
 Provides-Extra: google-cloud
 Requires-Dist: google-cloud-storage (~=1.20) ; extra == 'google-cloud'
 Requires-Dist: google-cloud-bigquery[bqstorage,pandas] (~=3.2) ; extra == 'google-cloud'
 Requires-Dist: google-cloud (~=0.34) ; extra == 'google-cloud'
 Provides-Extra: google-cloud-bigquery
 Requires-Dist: google-cloud-bigquery[bqstorage,pandas] (~=3.2) ; extra == 'google-cloud-bigquery'
 Provides-Extra: google-cloud-storage
-Requires-Dist: gcsfs (~=2021.8.1) ; extra == 'google-cloud-storage'
+Requires-Dist: gcsfs (~=2023.1.0) ; extra == 'google-cloud-storage'
 Provides-Extra: graphviz
 Requires-Dist: graphviz (~=0.20.0) ; extra == 'graphviz'
 Provides-Extra: kafka
 Requires-Dist: kafka-python (~=2.0) ; extra == 'kafka'
 Requires-Dist: avro (~=1.11) ; extra == 'kafka'
 Provides-Extra: plotly
 Requires-Dist: plotly (<5.12.0,~=5.4) ; extra == 'plotly'
 Provides-Extra: redis
 Requires-Dist: redis (~=4.3) ; extra == 'redis'
 Provides-Extra: s3
-Requires-Dist: boto3 (<1.17.107,~=1.9) ; extra == 's3'
-Requires-Dist: botocore (<1.20.107,>=1.20.106) ; extra == 's3'
-Requires-Dist: aiobotocore (~=1.4.0) ; extra == 's3'
-Requires-Dist: s3fs (~=2021.8.1) ; extra == 's3'
+Requires-Dist: boto3 (~=1.24.59) ; extra == 's3'
+Requires-Dist: aiobotocore (~=2.4.2) ; extra == 's3'
+Requires-Dist: s3fs (~=2023.1.0) ; extra == 's3'
 
 <a id="top"></a>
 [![Build Status](https://github.com/mlrun/mlrun/workflows/CI/badge.svg)](https://github.com/mlrun/mlrun/actions)
 [![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
 [![PyPI version fury.io](https://badge.fury.io/py/mlrun.svg)](https://pypi.python.org/pypi/mlrun/)
 [![Documentation](https://readthedocs.org/projects/mlrun/badge/?version=latest)](https://mlrun.readthedocs.io/en/latest/?badge=latest)
 [![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
```

## Comparing `mlrun-1.4.0rc4.dist-info/RECORD` & `mlrun-1.4.0rc5.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -11,40 +11,40 @@
 mlrun/render.py,sha256=983QAYawKTFlwXLpUwGC1gWEjUQUFxl1lo8bPQuXIA0,11828
 mlrun/run.py,sha256=pBnu7Ca4Ct4cUmGPvGvG_EeybJGwsM-XGBqSYFEfQzY,64472
 mlrun/secrets.py,sha256=xr-Omz0j5qjLGPCG_Gn2vsCP0CbqJldAAKpy5N1KAiM,7783
 mlrun/api/__init__.py,sha256=B-yvMk7vTs3QqtlPkM4pnZk_B4QKTGnfNhYr2n4Z30M,571
 mlrun/api/alembic.ini,sha256=oeSJRHwBbF3c3-N_RJilcZD-diq3F-oPv21gDIkrZGs,2105
 mlrun/api/constants.py,sha256=fyTQXJe4sx4GK8vZxklivgJgaSyOftk_NezGKA1J-mo,685
 mlrun/api/initial_data.py,sha256=h4tY0xmv_kLApkJVCB1Ic9lNydVuCDQAxxMvbMuQy1w,25068
-mlrun/api/launcher.py,sha256=A5C6cYEtEDzr15f_yn2H9qURlBuK1icXGjyRaeGwY1I,7075
+mlrun/api/launcher.py,sha256=F-hhWqXqQ3qMOUj4FKL_XUcmI2kzrtC_rIAuX7VHjVw,7067
 mlrun/api/main.py,sha256=4u9h_vaYWnAK3Mps2f-7xBs_AptPxWWPy7XoTtZBXPg,26288
 mlrun/api/middlewares.py,sha256=D9d-3XudnhyK_J1EGdWexCCswiS4QuSWvhDvCH1LEEU,5247
 mlrun/api/api/__init__.py,sha256=B-yvMk7vTs3QqtlPkM4pnZk_B4QKTGnfNhYr2n4Z30M,571
 mlrun/api/api/api.py,sha256=N5QgIWwnm-wgeW_8bUqVTtnRqgOUJGKDUGpScHHs78Y,4243
 mlrun/api/api/deps.py,sha256=OZt6UxT9Yg0O6egcB7a_YbZkKYkk5Vh9tTMKQKxW8nI,3197
-mlrun/api/api/utils.py,sha256=1E0wpW9SzDcU3KZK4Xzbv7BcTGxTTBZ8bH8OVBNg1yA,36432
+mlrun/api/api/utils.py,sha256=vUtih16e1zpijAzivWiXut70TC0Dh9a_ba1xB451rEE,36404
 mlrun/api/api/endpoints/__init__.py,sha256=B-yvMk7vTs3QqtlPkM4pnZk_B4QKTGnfNhYr2n4Z30M,571
 mlrun/api/api/endpoints/artifacts.py,sha256=FQOa8trbO53b4w864VFU5kyd4AlaRdU5LdUMUrchJhA,9545
 mlrun/api/api/endpoints/auth.py,sha256=YmcYs5pl8Il4jKDVjUGH_S5VXzam06kweO_xXpdSyeg,1199
 mlrun/api/api/endpoints/background_tasks.py,sha256=EQ5zvps1mXaVoNeoyOwMmRTAp0_nwpXtFAItvTA6uo4,3618
 mlrun/api/api/endpoints/client_spec.py,sha256=2hzm_Sq9JyPTfWgaKIjN_vGQX3xLnCScUpuoQjm3NU4,1214
 mlrun/api/api/endpoints/clusterization_spec.py,sha256=eBQya6jeYYBEe7WoCMNmXbkDxgmeDP5DCISGCZ4eAio,1175
-mlrun/api/api/endpoints/feature_store.py,sha256=_tq5xFLvhc0xolrtrrVS95p-m0j13QrmbOTqocWRg5w,29675
+mlrun/api/api/endpoints/feature_store.py,sha256=CPISuRQeYuWyu0HiIQt35mOtJDQbDF6of7T7GGJsoiE,29543
 mlrun/api/api/endpoints/files.py,sha256=v_FwFb-29mqDlx2tI8D9VUHthyjnmUpGsWTnfVZR7cE,6104
 mlrun/api/api/endpoints/frontend_spec.py,sha256=5qVJF5T0A74zBi-7GOauPvylX4KGCTldItht3d0f2PE,5749
-mlrun/api/api/endpoints/functions.py,sha256=GNChhESlX8qrKTB4KGcblr0LXRCvpuY00jngMBy5hBI,34618
+mlrun/api/api/endpoints/functions.py,sha256=AHdrbYBH1PRT8F2Wze90bXpRtb4ZTMnRiYrl_ATSCN4,34542
 mlrun/api/api/endpoints/grafana_proxy.py,sha256=3tqafsudGF9Ru3VjZCRsXZuoLIEmIWnYJEQaIYWrqjg,5986
 mlrun/api/api/endpoints/healthz.py,sha256=rp_esZLesf92tiaFM_E50LR0m_EbsdZxuudYNMG9VVU,1344
 mlrun/api/api/endpoints/hub.py,sha256=D3hiBs4hYAjtqt6CTigM8kcQLT_Wkf0Gh_dAxTO8DEk,10399
 mlrun/api/api/endpoints/logs.py,sha256=CXKdbcQtEth2tqr8I6dEWVpb3kZjL7BNdlDHwNsDQ_s,2450
 mlrun/api/api/endpoints/model_endpoints.py,sha256=qeKxuocrubBARRu_EvHCIHly7WVgLrjMcHCjCpEmbi4,15817
 mlrun/api/api/endpoints/operations.py,sha256=lnfvQmZIcj1z6TgxCy5Tx5x7PiNls3DgE3Yzddvo-9Q,3756
 mlrun/api/api/endpoints/pipelines.py,sha256=eU0D_RFw6KYyL6hYuPjHfaIkXQ4_5u_ZTBxC3lSfJ1g,9220
 mlrun/api/api/endpoints/projects.py,sha256=sI1dYHBnBWjxqJqOVgRjs2bXML2SKfu8k6yE-2sHBPs,11494
-mlrun/api/api/endpoints/runs.py,sha256=3S6RdIsnMVfMMyT1cDyliWqNcd0xnKjbMsDrT3UBTFM,9151
+mlrun/api/api/endpoints/runs.py,sha256=S2kSYQnIliMMjDpo1-iyEGIZ46PWAwpzwUi7nY-IUTo,9078
 mlrun/api/api/endpoints/runtime_resources.py,sha256=YovL4c29KJOyln5xAdfJwv_XQEbzH3AmUVoAwkNW0T0,9063
 mlrun/api/api/endpoints/schedules.py,sha256=Ozke4eWnAAFMOmI9qsSNNKZHY9Rz0YvvkwzShzIQ42k,10731
 mlrun/api/api/endpoints/secrets.py,sha256=GHxl-w4TUq28kHp8HR9jHbgjnp4LtDpiKwfQufTJ800,6061
 mlrun/api/api/endpoints/submit.py,sha256=loLzF5p5L7Wu5R2TnuPNNtwxTN1WIg_ei0ZdoCoMRDI,5298
 mlrun/api/api/endpoints/tags.py,sha256=kWEIdg9QvmX4pQOyYUQsBlzMVqGsluioDkKBNwWDgX4,4894
 mlrun/api/api/endpoints/internal/__init__.py,sha256=Lq7QbwU5hFGCq6hzU28fA5t1soMesi7DVo99T21blU8,1203
 mlrun/api/api/endpoints/internal/config.py,sha256=kXnraXbXv029QZMMEjwvhsUWof69wTvFBLcRyB32JFc,1043
@@ -56,15 +56,15 @@
 mlrun/api/crud/feature_store.py,sha256=0XGBGuPiG8IStGmQroIOC18KtrpRXnnOyo3MqrHuLGY,18628
 mlrun/api/crud/functions.py,sha256=HHCpT9Rbn-kl5o2m12JOSEXovq23Vx_gBjjpbim7g8c,3556
 mlrun/api/crud/hub.py,sha256=rcTgrmV5-iqRLvBzjjNEolEiw7anoWizhx6neEL5eco,12025
 mlrun/api/crud/logs.py,sha256=_iKAt9deN5cNVJ8FqSb7Je0392p0YAccQUKMpnwZqRA,9729
 mlrun/api/crud/notifications.py,sha256=aEIx2ByVQzHxdmjePiYXxzUpZA1yZ8YXhR-nvIbet3o,2751
 mlrun/api/crud/pipelines.py,sha256=wDGPUmEq7slXkW2aOyNiq_x1aSaz0kl9xC71NUnmF20,14030
 mlrun/api/crud/projects.py,sha256=h9695fNAmZ9MnhDdbOhS0ljG1cgm8XiGMiq1K-Cl7tg,14269
-mlrun/api/crud/runs.py,sha256=Eteb7eN0pk7ep1L9JUFCg5KOCtZyu0mBSElZDzD1UNY,6020
+mlrun/api/crud/runs.py,sha256=xpsN6z_JhBZpptoGUvva173biMfDCsZaBmfaYNSofnM,5963
 mlrun/api/crud/runtime_resources.py,sha256=aJoWA1aInheitsLw02Fi7ohYPKTrk4pWXck7NwZF1yA,5575
 mlrun/api/crud/secrets.py,sha256=5eTyi3b8p398Y1yzX7NbbFJbXScEEDagA0tmbRGX9fY,20145
 mlrun/api/crud/tags.py,sha256=FEu6E0Srp7886ICAQfccf4h0ssHyvYP7-kSpB_oa9yE,3277
 mlrun/api/crud/model_monitoring/__init__.py,sha256=CAW_Xhm94IVid0yos0tLQUd_UdCRYz-_2s_rAloZEZw,722
 mlrun/api/crud/model_monitoring/grafana.py,sha256=peEPjIsu0xvGPEdRis4c16n5m3-jxa8lbqgwCiGNu2s,15692
 mlrun/api/crud/model_monitoring/model_endpoints.py,sha256=8W77_N0h-Uq130W7tlLtTkh4fMH9-ofOBcQiZTFXTpM,43000
 mlrun/api/crud/runtimes/__init__.py,sha256=B-yvMk7vTs3QqtlPkM4pnZk_B4QKTGnfNhYr2n4Z30M,571
@@ -72,15 +72,15 @@
 mlrun/api/crud/runtimes/nuclio/function.py,sha256=fEqGrM0yyyq8urUxzFcG43-m3txF-Oyxdhm6e4DCB4w,17168
 mlrun/api/crud/runtimes/nuclio/helpers.py,sha256=E3ThgKBZyPa-VVWv3rTRtQAdR9lIVLkYz8_hfyntocA,11398
 mlrun/api/db/__init__.py,sha256=B-yvMk7vTs3QqtlPkM4pnZk_B4QKTGnfNhYr2n4Z30M,571
 mlrun/api/db/base.py,sha256=ETSlJ24N0s63dLpDS5yVo7vFg3ap-ySwhaKyCOcqUZo,15056
 mlrun/api/db/init_db.py,sha256=5WSrojwOh79O3guN_7IEi9wjqzKj3H74DU2xbGtrElk,870
 mlrun/api/db/session.py,sha256=_5DVL4YyGGFG9sbtHx_Bq2C1aHrZC5V8MS7TJfNeWIk,993
 mlrun/api/db/sqldb/__init__.py,sha256=B-yvMk7vTs3QqtlPkM4pnZk_B4QKTGnfNhYr2n4Z30M,571
-mlrun/api/db/sqldb/db.py,sha256=NdANYfmHop9vS7vx9KLtcVr7Kmyq5bdTb6gZ8U1S8Ao,144136
+mlrun/api/db/sqldb/db.py,sha256=qhVBlTO-zmvgD0NVoEKNkz4pYzssDplGmEbZVu1bwtc,144515
 mlrun/api/db/sqldb/helpers.py,sha256=j8VK-l_qZ5vLUjGkFK3D3fBgDgPmi-U8hU1MkMIAhC0,2340
 mlrun/api/db/sqldb/session.py,sha256=97QcZc7EOhypk3ZMl0F5k1ogsgK834S3SxCj3UNry-s,2542
 mlrun/api/db/sqldb/models/__init__.py,sha256=0cHZKMpzqkC6u3WGPEYE8zPcahY6KxBrK2pwkzTCCME,1063
 mlrun/api/db/sqldb/models/models_mysql.py,sha256=zyFuS_tj6legl1QvJ5QBrLIgilAnDcZHSvHC-bXMqdQ,20642
 mlrun/api/db/sqldb/models/models_sqlite.py,sha256=10IzVBZ79Yj1vqFbWCocZ5QNrz1H91HzlzUFe6iu31k,18304
 mlrun/api/migrations_mysql/env.py,sha256=U5Fu1WLV5vggRYy4sa7d1ItJr1H3-T71BnkOw4ZjWIs,2906
 mlrun/api/migrations_mysql/versions/28383af526f3_market_place_to_hub.py,sha256=kcdNEMQHbTRGpzh4CfLlUJtClG_eHo-X0QNPOQEFBuI,1203
@@ -155,15 +155,15 @@
 mlrun/api/utils/singletons/k8s.py,sha256=R62wVYe-kf9SOKOQJxo2qnIzWS8rOskA68QSK49BBGc,22630
 mlrun/api/utils/singletons/logs_dir.py,sha256=zCALZ1N8IylkfvATfsbWfBtEPvWKl2AEQ2-QF-J0VWs,840
 mlrun/api/utils/singletons/project_member.py,sha256=1xlvJjbY-HvQuUV5rsQg9rMt-Y9MKU77Az5f98v-D28,1279
 mlrun/api/utils/singletons/scheduler.py,sha256=LmauJTsB69P_gkx4xTMzQrW1kaaN050txZzrrl08i_k,1063
 mlrun/artifacts/__init__.py,sha256=b86JkwaOMjN9gPzeL-RlkAtiITaVmGS9viNlvGG1lrs,1091
 mlrun/artifacts/base.py,sha256=l-dRIaK89NOIiBqiSbo1vbPks8CeRv83wSKndybJt0U,30849
 mlrun/artifacts/dataset.py,sha256=d4ZrxECaJ-CJSbFvcWYrAK34IAOD0UPxLY0xrPc-04w,20432
-mlrun/artifacts/manager.py,sha256=O3V_T7Tw6Q425N6SwbWs5M4pAngRa6wc2DQdrdpZfDM,12110
+mlrun/artifacts/manager.py,sha256=P5y92csdyr9VgXlqitaKWWldg93KaCjGRAWLeZHIYHI,12594
 mlrun/artifacts/model.py,sha256=SmzieOo7d78CPhVyyHMmI6WltkCSVn-d72jAxhHKd7E,23673
 mlrun/artifacts/plots.py,sha256=0Jq5OgDB1srtUlcISF696E_q3S_D-mqeMe6Wyn1S6ZQ,15383
 mlrun/common/__init__.py,sha256=B-yvMk7vTs3QqtlPkM4pnZk_B4QKTGnfNhYr2n4Z30M,571
 mlrun/common/constants.py,sha256=aAMfWLUO_W49XVi2Aj_seNuKJZ0uPyCwu5nX3Iy5xB8,660
 mlrun/common/model_monitoring.py,sha256=6woOZSKb308qfBc5Io4z8coOBwqMB0H6vRUxhkUHeCc,5670
 mlrun/common/types.py,sha256=pUKq8f0L4sjKoik5bCAl2ir3_dmmCZ6eKyurSV10u6I,790
 mlrun/common/schemas/__init__.py,sha256=sxDYvhoYVmLuc4sB1rDf7x_8T0sErGkZV2h4i-hohak,3973
@@ -176,49 +176,49 @@
 mlrun/common/schemas/feature_store.py,sha256=kX3Wd107ZfyGrDOcNmLEcgdVrFgtHTswzVhmH6VVWX4,3671
 mlrun/common/schemas/frontend_spec.py,sha256=EI5WjRlhvE1sFPECk-GICmFnYHsko1lM6sfLQyRR48E,2546
 mlrun/common/schemas/function.py,sha256=tuaD2M4RhiIJmL3p78FrbE6gG5nXRj_J-k6POUWzYx8,3971
 mlrun/common/schemas/http.py,sha256=2hKkmPqhZai5w_YgpjRMp8ZqlRjnUULwaUx5QF4SUmI,705
 mlrun/common/schemas/hub.py,sha256=bufhIim-G8NryGA26orpEvKfUEeTJ7601pCtVDz6bCU,4245
 mlrun/common/schemas/k8s.py,sha256=4ZHOZv2IrDquG5rRi41eWkJmHGdmjn-pV4gH6AF-tcI,1395
 mlrun/common/schemas/memory_reports.py,sha256=SlNJ-uya5RywEysm_IZMwF1t4j-zYsjOj8oPYwLRO08,920
-mlrun/common/schemas/model_endpoints.py,sha256=_UqgwnkBc25sD1PZV-NkDgI-uj7q_gbw2AJOGUeJ0J8,12528
+mlrun/common/schemas/model_endpoints.py,sha256=QC64kHZXb_Z3InvxUJWh1PbzcoztLjZFDiQzZkUmVG4,12593
 mlrun/common/schemas/notification.py,sha256=Bov6DqX2nmkn7daFnuFgTWHExuPwIbsGoz-pmsb6ohA,879
 mlrun/common/schemas/object.py,sha256=G4jqG8oO_r4T5gtvz_m39VNpdvCBTZ6didnccCWI0D0,1907
 mlrun/common/schemas/pipeline.py,sha256=u-WQjN3JQxDs1kG_r_tQ-mklj_pfPWXaMEXKHFSerO0,1184
 mlrun/common/schemas/project.py,sha256=EDlhuxRCBgwcUD6XLu2uFe7LBF8nzwB9oSFzbB7krHo,4094
 mlrun/common/schemas/runtime_resource.py,sha256=TqivuenSskqcXxBXJuFwung50oqFg-IdL_PBHg3YBpY,1636
 mlrun/common/schemas/schedule.py,sha256=bmCUXDa26dN8mncIE9GgPU4PlfXAyn84JRsD_ztA384,4188
 mlrun/common/schemas/secret.py,sha256=6Uk85-icEW6MWK1Euj-EhzJSyaQpkTMjmD0DBa0jIfw,1484
-mlrun/common/schemas/tag.py,sha256=x7l-nxJyjxqupu6-3CQLh_r6mD5-EST3KM-WyuTH-DM,919
+mlrun/common/schemas/tag.py,sha256=gWWw5PsjPzbOogS66n_setW-Kc-_ZTH-p_mg2ZmSz-0,905
 mlrun/data_types/__init__.py,sha256=hBd2-QsTqesw3HUDoIUaUtCR1mWEcRc4V7Z1V8lNP0s,1087
 mlrun/data_types/data_types.py,sha256=xjsnUw144Lbkg4JqYLYym8qQpucYQUjphxay_BIc7VA,4647
 mlrun/data_types/infer.py,sha256=ErGpXigp8bG6hkPJfbJt8cJZxsZvj-bK0dLSiTlUYzk,5813
 mlrun/data_types/spark.py,sha256=BVM_FeWh1mKYLu6QILYfZRCOGefQzRJ2t0LeHo-pqwA,9426
 mlrun/datastore/__init__.py,sha256=ScHRywI8M5BDdLfEFDZ57Gk1_Bnj22bj8TLK7Ea1juU,3443
 mlrun/datastore/azure_blob.py,sha256=XFBpXZfwMKvv0rrYVP2J6RDqziNPHW6KqCbsY-VLzto,6946
 mlrun/datastore/base.py,sha256=wnad4Fie0zeq_CLxKGN02bKHIDBmrYYxIHVMuHEsGFo,18274
 mlrun/datastore/datastore.py,sha256=l6CfmIYn7rdPQyRZ8kZu45cfyDZcDXDH5CwLKvsFlI8,7995
 mlrun/datastore/filestore.py,sha256=v9-BTJMgamGN_neoXNkIbNNr56UpgOewMEX70P8MTbc,3791
 mlrun/datastore/google_cloud_storage.py,sha256=9dtZt7Opytrra45urj6ObYa1fxf7UIOHXSoog4G9l7I,5114
 mlrun/datastore/inmem.py,sha256=o6Svv12k5PxJNT24nMgV9FBYEPCzD3OQzuuvU6OeCYY,2627
 mlrun/datastore/redis.py,sha256=pywWgjGJ51pmvKuwX1MI3ILWqh6WtgDs9igOQAhmIhc,4873
 mlrun/datastore/s3.py,sha256=fn1Yg5Rs33ugHlwTKvBfu_jMKqkSZWgHNw0ocQ5nO7A,7035
-mlrun/datastore/sources.py,sha256=SJyVr_X5hdVv4m4RfIzN_F255qWz5k8bXVNXxY5valY,34385
+mlrun/datastore/sources.py,sha256=vmJ2rngL0NYz-_0uBDzQ3yByYZbYCPwWLxDUMuL2jZ8,34305
 mlrun/datastore/spark_udf.py,sha256=xYw2EYO-jd7hKOlXXfJYH8dvRll4GktFM581K9m6ToE,1410
 mlrun/datastore/store_resources.py,sha256=Elvo33AVoDfOIFbTF_5NSf1VMzlgJTv5uzMgPkGTShw,6895
 mlrun/datastore/targets.py,sha256=IurALojY74ZaxiI3B3xMHEWeVM_blys6Dq1EGS9JOyc,62060
 mlrun/datastore/utils.py,sha256=nnHcC_XgUWZi70-aZ2y61aJcJttDQYiCDDTGqI_Y6V4,2900
 mlrun/datastore/v3io.py,sha256=ArEYq78irv5bwlRwcLeVfFJvcwtXEamGsZ2I0sVt7Qg,8097
 mlrun/datastore/wasbfs/__init__.py,sha256=4CK7vZeJmC4Ak9cJjG07cGnk7jlkBlpCxw-ANfbBmzk,1343
 mlrun/datastore/wasbfs/fs.py,sha256=DEZgwrmQSPeR93MNlC9OCwuU9wvTSmIM534p5ccQzAE,6152
 mlrun/db/__init__.py,sha256=HA6ahbEFrRd5I81eJQ1xrHmUch6JOy3JeEKMf7KrOTM,2816
 mlrun/db/base.py,sha256=7he8xfP09ZKLHjdWI2sZdgbfzV8Lw14kjYO-BJcp4VM,15968
-mlrun/db/httpdb.py,sha256=oYeuxEUVRy4dke6fgaujJDP6X0jywzPDvmTrx4NmJOE,130810
+mlrun/db/httpdb.py,sha256=5FlzuFJxdML_W2PDeAyCtq8PORqv9tz-ufRVdkjpxQY,130800
 mlrun/db/nopdb.py,sha256=mAEmOlxhnlk3DU8xTf2uWt_5QbDvo8YA9Jj-BKR_VtA,13197
-mlrun/db/sqldb.py,sha256=rgWLh2354qmc14AVGqzICcuphtM1_CKxI6PpVTmUzdw,25917
+mlrun/db/sqldb.py,sha256=7scsyukK7k6AhU2z9pB0cHrq-mzmhdFgJmfnkn_dO2o,25577
 mlrun/feature_store/__init__.py,sha256=guoak0hQTMoE4YsWwyoyso0CYE9NSPoP0eUal4crfVA,1501
 mlrun/feature_store/api.py,sha256=oL6x8ehykb-FGhwJAFkTTPn2EyvDx6vRKV3g8Astz3I,43820
 mlrun/feature_store/common.py,sha256=WR01cTgrJ88qRLKRz0U4VDOTg2vNzhYdch-jylkyoJ8,12781
 mlrun/feature_store/feature_set.py,sha256=_k-FBI8a97aKCL3IS9fXehD7cXUCsbMSEAXm4sq47K0,47273
 mlrun/feature_store/feature_vector.py,sha256=31kHErOGU_OhVauMK5svW50TKIDwKgdcDzst87JyB2c,21940
 mlrun/feature_store/ingestion.py,sha256=YQafLdoQmoWsEHLE8lMBBhhPe974TNJ6Tnq_Q0Xhpus,11681
 mlrun/feature_store/steps.py,sha256=khDqxTusXDtBNfS7ESZh-QEsWu3_8FTR5ep_AY_Nvdo,28635
@@ -310,19 +310,19 @@
 mlrun/frameworks/tf_keras/callbacks/mlrun_logging_callback.py,sha256=N1_lNXSig6FwSUt1P8ZNKf1Hie-9pMo2feFjV7AoJzg,8791
 mlrun/frameworks/tf_keras/callbacks/tensorboard_logging_callback.py,sha256=YM7gNuryhioDrvVPBhpIUo9lH-bhE5JdE-xSo-kriP4,28728
 mlrun/frameworks/xgboost/__init__.py,sha256=2-q_HGIgwzZUoBpxMC5OBYpn29qh84HHwZpHRcOke_I,10287
 mlrun/frameworks/xgboost/mlrun_interface.py,sha256=JwbFkYz97gmkjLN1V_zu8nTG9zSey1RtUmUO6XfaZ54,878
 mlrun/frameworks/xgboost/model_handler.py,sha256=3KSLoL_uBBhRPkGEgRxJz1MPxQbcbvuIxJawQConfrQ,11617
 mlrun/frameworks/xgboost/utils.py,sha256=Yz7vIfnFMqa2A0k2GweXL912-tt7JnQdYsNX-pFs45I,1069
 mlrun/launcher/__init__.py,sha256=pZgS6ZN126aJme4z5spCX-RmdchShxMnQeCPya8AsQI,577
-mlrun/launcher/base.py,sha256=nlnLy2DRSjwmBdnyqgWAFFFv54YF9PPrGEIph7Z1ck8,15021
-mlrun/launcher/client.py,sha256=lwJYUeKizNn54O9uQt6VXX9sq15MiX-F6RdlnP7ydy8,4717
+mlrun/launcher/base.py,sha256=5okscCWLT6PFeUZMnbhqwGxOKqJ404kE9yVvc4I17-s,14886
+mlrun/launcher/client.py,sha256=6ojdL3dck2NoaS5yBaEhSh_UnUdseaXSYj6fSaVydPo,4791
 mlrun/launcher/factory.py,sha256=Co7Y9WI9_CCbr5slKTVDbTV0uO4XQZ9ysC8d2YlTG94,1883
-mlrun/launcher/local.py,sha256=Y5VBwMqaqgUkG62_dFx4PcfOMrVYpHpdZxt3BDpzChw,10024
-mlrun/launcher/remote.py,sha256=mX35LvdvN8jycdf6Z8eW2ZVySZteMzWqUxzIQIR6wxc,6874
+mlrun/launcher/local.py,sha256=DtbYnL4j17cULbh6hgOzCYZfVCRDsF3pcd_MqcBhamM,10419
+mlrun/launcher/remote.py,sha256=lLG55TOkLukSgK0b3wby-CbAIaE-BD0eWk_U2YkWxrg,6875
 mlrun/mlutils/__init__.py,sha256=enRhuXMjuev4xr-0l1zLxtoDp79FHc-HXbUoagYomvk,760
 mlrun/mlutils/data.py,sha256=uQ45eaKYx3Jy93l2TqosFW68Kj_ZtVI06ilxGxydaUY,5325
 mlrun/mlutils/models.py,sha256=_CijiNJkLnWdz0HU3DAU6P8TbobY7R2QVpuCOHTJD-4,2598
 mlrun/mlutils/plots.py,sha256=0-Rih6th9WkgzZRPIPZwz08lv4bVSX7YbyGNgA02xdA,30120
 mlrun/model_monitoring/__init__.py,sha256=YIUIQs1hwX-PWBu23dH-IY9gQYXW8HA0oFX3izaG9d0,1208
 mlrun/model_monitoring/features_drift_table.py,sha256=DlMkc-GwRhIALXB0OdCQkvOZQUVNI69RpJ1PAwLqK9Y,23948
 mlrun/model_monitoring/helpers.py,sha256=6e7yA4a3tErirdSCuC-BIH8OqISzkFcx-h9-5K38STU,9756
@@ -339,27 +339,27 @@
 mlrun/model_monitoring/stores/models/sqlite.py,sha256=jLWkY8srgal7_aCL2eDPZIoceNGsi4Dec1T2rHNd0BI,3658
 mlrun/platforms/__init__.py,sha256=NNh9MSxgjdi7QftO3DHp4axQnBeO5IjxD8oR13_jp3A,2400
 mlrun/platforms/iguazio.py,sha256=qKglLKYVOJqlDG9JEZ9b1kOvrVmk5exey-2eh6ejfdw,24102
 mlrun/platforms/other.py,sha256=DwqbdbMNlkC2nEl1yJ0jF9WZJzjVu2IVPTC3bQ_W9Y0,11852
 mlrun/projects/__init__.py,sha256=dsXSDyqBhLi8OOfpdjLJpYOwC2fy_Q_Ki95Bk6gVSwc,1153
 mlrun/projects/operations.py,sha256=ifZGJidODXsnbJt7wG94upzkNOU24NQNhbivGWYTHRs,17480
 mlrun/projects/pipelines.py,sha256=MVYNxdubl0RiuILSY9z2v0fszngMYEtV81YJ_uQD8oE,38336
-mlrun/projects/project.py,sha256=wE5gDyWxJ5V6f5vPregix9qitvoMnKbidfHTnk-jWMQ,105214
+mlrun/projects/project.py,sha256=Lw0G_PB-6657S3fQdF-caErecu2FXAqQLNSfiZJg_5M,105376
 mlrun/runtimes/__init__.py,sha256=NpPeD7XxDNxmeOqLSEmb7tUN59cYZlvw-DnJxla_peE,8773
-mlrun/runtimes/base.py,sha256=4T1NlQZnrMP5Ls9KxD812xkxNOXRdruxuMEA1PbZamQ,95055
+mlrun/runtimes/base.py,sha256=4D4pFQkdKJAzetppgSMn885fkrGgftxhqS2hxlfXqIU,89589
 mlrun/runtimes/constants.py,sha256=Os_6YpWE8WMhigm1h3RKvn9Uo4LXNaEbA2xNSEDDEao,6689
 mlrun/runtimes/daskjob.py,sha256=4D0BCCRAb-JsLijZ_2LHzwGcZnxhyZ4gnst3HKENqQg,30520
 mlrun/runtimes/funcdoc.py,sha256=PAvbUFXLei7vFYPwlntJhnUgBqn38kMlaSbp_Y2Ice4,9561
 mlrun/runtimes/function.py,sha256=GH6XUVOAvnhARg_oV3BUyLEG5xaYZHtiwrBbZ2FwniE,45205
 mlrun/runtimes/function_reference.py,sha256=ikxeXeFPAn7PpfYR1DPBRFc9MSXXFM34uH5z6iRTz9M,4911
 mlrun/runtimes/generators.py,sha256=WvXzsfZZWqxLV1ncZ-lzFHZH2ITK6ICROgDv2vfQUs4,6530
 mlrun/runtimes/kubejob.py,sha256=1uCJAvs0FLxfAag4BykZEMzyHrefVELnZ9ht_Ctbzv0,15140
-mlrun/runtimes/local.py,sha256=gsLkfQSbvt1DjDuO6_9tjZC4AxOGBAypR3qJQomPqIY,18005
+mlrun/runtimes/local.py,sha256=R1QeKBkl0X9fCljdg3gBgvrpXv52Gbv6MOHbbDiq5qU,18982
 mlrun/runtimes/nuclio.py,sha256=ih2iwrJieeEom3iW0yU99QG4_u_Bdv7VWgs1CK4Q1P8,2885
-mlrun/runtimes/pod.py,sha256=QjOffy6atS5x7R96n8HP5pI6Rm24qyAYdJ4DdCb7Jvo,60644
+mlrun/runtimes/pod.py,sha256=foeea0tUMSWbH4_SS_biOIgEmUL3RP3NlQwNb62QGYk,60808
 mlrun/runtimes/remotesparkjob.py,sha256=Lp2EN32GQ1rY_34MEepdUzRTg-AP-OKyUM7xcy0Npb8,7695
 mlrun/runtimes/serving.py,sha256=jruUAxwi9PVHY-mlZkljMD7P5WGyfbSS8pJmzDqQI9E,29858
 mlrun/runtimes/utils.py,sha256=7RjhqZAfUnjnPk2shrR_pdpyaqu19q5ECCTmxJJv4MM,21222
 mlrun/runtimes/mpijob/__init__.py,sha256=E0oiOsSYsRBBR0HV6e_EGaL_j2_dYEJwAcICnF8mOYU,790
 mlrun/runtimes/mpijob/abstract.py,sha256=0BbIziHG5ITg3gNClLuBwL6-J4IXXPxjifppQciQwNU,14713
 mlrun/runtimes/mpijob/v1.py,sha256=o-ZDw3O0HOzTMZ3lI3gMjGG0NYY0Ux3RqL0Kz9K3eV4,13845
 mlrun/runtimes/mpijob/v1alpha1.py,sha256=4rMpJk1C_gL6QtOmEFcgcmaCkHcor9mdKvIL46fEKFw,8460
@@ -396,15 +396,15 @@
 mlrun/utils/notifications/notification/__init__.py,sha256=iNF31hiEkenkp1VmJ4keyjixS17-gZ0oGuWNO7tlnm4,1803
 mlrun/utils/notifications/notification/base.py,sha256=ddlf70Cd59bMvvWi2EFqzJQTXSRHw19E4r-oX2Tk8rk,2177
 mlrun/utils/notifications/notification/console.py,sha256=JggUV_Ql8lluvlONtkmQWk6SeSPY7gEhICAbkg0jYas,1971
 mlrun/utils/notifications/notification/git.py,sha256=gKBBb0_EZpv7PJFDi62hmxih9a8JoaU37i1IXUM46e0,4742
 mlrun/utils/notifications/notification/ipython.py,sha256=bYIUpzb2QnLPhacL8l20NU4suRjE0-lxeYYXpHuqiTw,2021
 mlrun/utils/notifications/notification/slack.py,sha256=hONSD43eLSxQ5n3x8HHqI-zhHc4ZxThR8lLcfkKoHfw,3751
 mlrun/utils/version/__init__.py,sha256=hwfJgGWYGWFpepVGI1GbuCPqqEFGRbgguJg5sC0v4TU,614
-mlrun/utils/version/version.json,sha256=uKa3ZO97PJO8ws2Cs-8l3NrYZKMSGATLwSgIJqo9yi0,88
+mlrun/utils/version/version.json,sha256=cF_CTre-pPrRf1djzVFoC8JjKWsMgeR2ORIikl5t9Ds,88
 mlrun/utils/version/version.py,sha256=O4Q4kwtKlI73oK7oBPuz4SVkUI8BC11E9DJIKHT91kU,1970
-mlrun-1.4.0rc4.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
-mlrun-1.4.0rc4.dist-info/METADATA,sha256=ABtxgiFOhZD8EQrrp-C-SMnA9kL1cnDKL1ZJ_fxNAI4,17185
-mlrun-1.4.0rc4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-mlrun-1.4.0rc4.dist-info/entry_points.txt,sha256=ZbXmb36B9JmK7EaleP8MIAbZSOQXQV0iwKR6si0HUWk,47
-mlrun-1.4.0rc4.dist-info/top_level.txt,sha256=NObLzw3maSF9wVrgSeYBv-fgnHkAJ1kEkh12DLdd5KM,6
-mlrun-1.4.0rc4.dist-info/RECORD,,
+mlrun-1.4.0rc5.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
+mlrun-1.4.0rc5.dist-info/METADATA,sha256=zp637M2cvJ0q8RLuRRWDe0pSpWIIzxXiWU7fsxtwGDY,16892
+mlrun-1.4.0rc5.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+mlrun-1.4.0rc5.dist-info/entry_points.txt,sha256=ZbXmb36B9JmK7EaleP8MIAbZSOQXQV0iwKR6si0HUWk,47
+mlrun-1.4.0rc5.dist-info/top_level.txt,sha256=NObLzw3maSF9wVrgSeYBv-fgnHkAJ1kEkh12DLdd5KM,6
+mlrun-1.4.0rc5.dist-info/RECORD,,
```

