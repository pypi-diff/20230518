# Comparing `tmp/neon_audio-1.3.3a2-py3-none-any.whl.zip` & `tmp/neon_audio-1.3.3a3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,20 +1,20 @@
-Zip file size: 28357 bytes, number of entries: 18
--rw-r--r--  2.0 unx     1831 b- defN 23-May-17 21:07 neon_audio/__init__.py
--rw-r--r--  2.0 unx     3211 b- defN 23-May-17 21:07 neon_audio/__main__.py
--rw-r--r--  2.0 unx     4817 b- defN 23-May-17 21:07 neon_audio/cli.py
--rw-r--r--  2.0 unx     6892 b- defN 23-May-17 21:07 neon_audio/service.py
--rw-r--r--  2.0 unx     4436 b- defN 23-May-17 21:07 neon_audio/utils.py
--rw-r--r--  2.0 unx     3049 b- defN 23-May-17 21:07 neon_audio/tts/__init__.py
--rw-r--r--  2.0 unx    14666 b- defN 23-May-17 21:07 neon_audio/tts/neon.py
--rw-r--r--  2.0 unx     1831 b- defN 23-May-17 21:07 tests/__init__.py
--rw-r--r--  2.0 unx    11254 b- defN 23-May-17 21:07 tests/api_method_tests.py
--rw-r--r--  2.0 unx     8966 b- defN 23-May-17 21:07 tests/unit_tests.py
--rw-r--r--  2.0 unx     2562 b- defN 23-May-17 21:07 tests/test_objects/__init__.py
--rw-r--r--  2.0 unx     1634 b- defN 23-May-17 21:08 neon_audio-1.3.3a2.dist-info/LICENSE.md
--rw-r--r--  2.0 unx     2457 b- defN 23-May-17 21:08 neon_audio-1.3.3a2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-17 21:08 neon_audio-1.3.3a2.dist-info/WHEEL
--rw-r--r--  2.0 unx      106 b- defN 23-May-17 21:08 neon_audio-1.3.3a2.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       17 b- defN 23-May-17 21:08 neon_audio-1.3.3a2.dist-info/top_level.txt
--rw-r--r--  2.0 unx        1 b- defN 23-May-17 21:08 neon_audio-1.3.3a2.dist-info/zip-safe
--rw-rw-r--  2.0 unx     1475 b- defN 23-May-17 21:08 neon_audio-1.3.3a2.dist-info/RECORD
-18 files, 69297 bytes uncompressed, 25949 bytes compressed:  62.6%
+Zip file size: 28440 bytes, number of entries: 18
+-rw-r--r--  2.0 unx     1831 b- defN 23-May-18 20:22 neon_audio/__init__.py
+-rw-r--r--  2.0 unx     3266 b- defN 23-May-18 20:22 neon_audio/__main__.py
+-rw-r--r--  2.0 unx     4898 b- defN 23-May-18 20:22 neon_audio/cli.py
+-rw-r--r--  2.0 unx     6935 b- defN 23-May-18 20:22 neon_audio/service.py
+-rw-r--r--  2.0 unx     4493 b- defN 23-May-18 20:22 neon_audio/utils.py
+-rw-r--r--  2.0 unx     3049 b- defN 23-May-18 20:22 neon_audio/tts/__init__.py
+-rw-r--r--  2.0 unx    14666 b- defN 23-May-18 20:22 neon_audio/tts/neon.py
+-rw-r--r--  2.0 unx     1831 b- defN 23-May-18 20:22 tests/__init__.py
+-rw-r--r--  2.0 unx    11254 b- defN 23-May-18 20:22 tests/api_method_tests.py
+-rw-r--r--  2.0 unx     8966 b- defN 23-May-18 20:22 tests/unit_tests.py
+-rw-r--r--  2.0 unx     2562 b- defN 23-May-18 20:22 tests/test_objects/__init__.py
+-rw-r--r--  2.0 unx     1634 b- defN 23-May-18 20:22 neon_audio-1.3.3a3.dist-info/LICENSE.md
+-rw-r--r--  2.0 unx     2457 b- defN 23-May-18 20:22 neon_audio-1.3.3a3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-18 20:22 neon_audio-1.3.3a3.dist-info/WHEEL
+-rw-r--r--  2.0 unx      106 b- defN 23-May-18 20:22 neon_audio-1.3.3a3.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       17 b- defN 23-May-18 20:22 neon_audio-1.3.3a3.dist-info/top_level.txt
+-rw-r--r--  2.0 unx        1 b- defN 23-May-18 20:22 neon_audio-1.3.3a3.dist-info/zip-safe
+-rw-rw-r--  2.0 unx     1475 b- defN 23-May-18 20:22 neon_audio-1.3.3a3.dist-info/RECORD
+18 files, 69533 bytes uncompressed, 26032 bytes compressed:  62.6%
```

## zipnote {}

```diff
@@ -27,29 +27,29 @@
 
 Filename: tests/unit_tests.py
 Comment: 
 
 Filename: tests/test_objects/__init__.py
 Comment: 
 
-Filename: neon_audio-1.3.3a2.dist-info/LICENSE.md
+Filename: neon_audio-1.3.3a3.dist-info/LICENSE.md
 Comment: 
 
-Filename: neon_audio-1.3.3a2.dist-info/METADATA
+Filename: neon_audio-1.3.3a3.dist-info/METADATA
 Comment: 
 
-Filename: neon_audio-1.3.3a2.dist-info/WHEEL
+Filename: neon_audio-1.3.3a3.dist-info/WHEEL
 Comment: 
 
-Filename: neon_audio-1.3.3a2.dist-info/entry_points.txt
+Filename: neon_audio-1.3.3a3.dist-info/entry_points.txt
 Comment: 
 
-Filename: neon_audio-1.3.3a2.dist-info/top_level.txt
+Filename: neon_audio-1.3.3a3.dist-info/top_level.txt
 Comment: 
 
-Filename: neon_audio-1.3.3a2.dist-info/zip-safe
+Filename: neon_audio-1.3.3a3.dist-info/zip-safe
 Comment: 
 
-Filename: neon_audio-1.3.3a2.dist-info/RECORD
+Filename: neon_audio-1.3.3a3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## neon_audio/__main__.py

```diff
@@ -23,40 +23,41 @@
 # PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 # OR PROFITS;  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 # LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE,  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 from neon_utils.messagebus_utils import get_messagebus
-from neon_utils.configuration_utils import init_config_dir
 from neon_utils.log_utils import init_log
 from neon_utils.process_utils import start_malloc, snapshot_malloc, print_malloc
+from neon_utils.signal_utils import init_signal_bus, \
+    init_signal_handlers, check_for_signal
 from ovos_utils import wait_for_exit_signal
 from ovos_utils.log import LOG
 from ovos_config.locale import setup_locale
 from ovos_utils.process_utils import reset_sigint_handler, PIDLock as Lock
 
+from neon_audio.service import NeonPlaybackService
+
 
 def main(*args, **kwargs):
     if kwargs.get("config"):
         LOG.warning("Found `config` kwarg, but expect `audio_config`")
         kwargs["audio_config"] = kwargs.pop("config")
-
-    init_config_dir()
+    if kwargs.get("audio_config"):
+        LOG.warning("Passed configuration should be written to disk before"
+                    "module launch")
     init_log(log_name="audio")
     malloc_running = start_malloc(stack_depth=4)
     bus = get_messagebus()
     kwargs["bus"] = bus
-    from neon_utils.signal_utils import init_signal_bus, \
-        init_signal_handlers, check_for_signal
+
     init_signal_bus(bus)
     init_signal_handlers()
 
-    from neon_audio.service import NeonPlaybackService
-
     reset_sigint_handler()
     check_for_signal("isSpeaking")
     Lock("audio")
     setup_locale()
     service = NeonPlaybackService(*args, **kwargs)
     service.start()
     wait_for_exit_signal()
```

## neon_audio/cli.py

```diff
@@ -26,14 +26,15 @@
 # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE,  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 import click
 
 from click_default_group import DefaultGroup
 from neon_utils.packaging_utils import get_package_version_spec
+from neon_utils.configuration_utils import init_config_dir
 from ovos_config.config import Configuration
 
 
 @click.group("neon-audio", cls=DefaultGroup,
              no_args_is_help=True, invoke_without_command=True,
              help="Neon Core Commands\n\n"
                   "See also: neon COMMAND --help")
@@ -49,14 +50,15 @@
 @click.option("--module", "-m", default=None,
               help="STT Plugin to configure")
 @click.option("--package", "-p", default=None,
               help="TTS package spec to install")
 @click.option("--force-install", "-f", default=False, is_flag=True,
               help="Force pip installation of configured module")
 def run(module, package, force_install):
+    init_config_dir()
     from neon_audio.__main__ import main
     audio_config = Configuration()
     if force_install or module or package:
         install_plugin(module, package, force_install)
     if module and module != audio_config["tts"]["module"]:
         click.echo("Updating runtime config with module and package")
         package = package or audio_config["tts"].get("package_spec")
```

## neon_audio/service.py

```diff
@@ -29,17 +29,18 @@
 import ovos_audio.tts
 import ovos_plugin_manager.templates.tts
 
 from threading import Event
 from ovos_utils.log import LOG
 from neon_audio.tts import TTSFactory
 from neon_utils.messagebus_utils import get_messagebus
+from ovos_audio.service import PlaybackService
 
 ovos_audio.tts.TTSFactory = TTSFactory
-from ovos_audio.service import PlaybackService
+ovos_audio.service.TTSFactory = TTSFactory
 
 
 def on_ready():
     LOG.info('Playback service is ready.')
 
 
 def on_stopping():
```

## neon_audio/utils.py

```diff
@@ -34,15 +34,15 @@
 def patch_config(config: dict = None):
     """
     Write the specified speech configuration to the global config file
     :param config: Mycroft-compatible configuration override
     """
     from ovos_config.config import LocalConf
     from ovos_config.locations import USER_CONFIG
-
+    LOG.warning(f"Patching configuration with: {config}")
     config = config or dict()
     local_config = LocalConf(USER_CONFIG)
     local_config.update(config)
     local_config.store()
 
 
 def _plugin_to_package(plugin: str) -> str:
```

## Comparing `neon_audio-1.3.3a2.dist-info/LICENSE.md` & `neon_audio-1.3.3a3.dist-info/LICENSE.md`

 * *Files identical despite different names*

## Comparing `neon_audio-1.3.3a2.dist-info/METADATA` & `neon_audio-1.3.3a3.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,20 +1,20 @@
 Metadata-Version: 2.1
 Name: neon-audio
-Version: 1.3.3a2
+Version: 1.3.3a3
 Summary: Neon Audio Module
 Home-page: https://github.com/NeonGeckoCom/neon_audio
 Author: Neongecko
 Author-email: developers@neon.ai
 License: BSD-3-Clause
 Classifier: Intended Audience :: Developers
 Classifier: Programming Language :: Python :: 3
 Description-Content-Type: text/markdown
 License-File: LICENSE.md
-Requires-Dist: ovos-audio (>=0.0.2a11,~=0.0.1)
+Requires-Dist: ovos-audio (>=0.0.2a12,~=0.0.1)
 Requires-Dist: ovos-utils (~=0.0.32)
 Requires-Dist: ovos-config (~=0.0.7)
 Requires-Dist: phoneme-guesser (~=0.1)
 Requires-Dist: ovos-plugin-manager (~=0.0.22)
 Requires-Dist: neon-utils[network] (>=1.5.0a5,~=1.4)
 Requires-Dist: click (~=8.0)
 Requires-Dist: click-default-group (~=1.2)
```

## Comparing `neon_audio-1.3.3a2.dist-info/RECORD` & `neon_audio-1.3.3a3.dist-info/RECORD`

 * *Files 23% similar despite different names*

```diff
@@ -1,18 +1,18 @@
 neon_audio/__init__.py,sha256=UDwbScPcnqA05m_zQmXnY6YeoL5j6NS_TaLj0mQdU_8,1831
-neon_audio/__main__.py,sha256=h25bKO_Qfw7WJPAc92tMwbi67le2IJaYTubQk6mC0Q8,3211
-neon_audio/cli.py,sha256=F3lJnLoFDT7vHhPYcLjtXyMVZekjs2-2AQlO7RYSMYo,4817
-neon_audio/service.py,sha256=bxB3pjYUHASRxe0n2jW6qJfuIWUnS0nU2dLt00rX9JM,6892
-neon_audio/utils.py,sha256=y6yjQLcp-DaZZZBwYh51OLxpQUQo0jMS-lTNxl79Tuw,4436
+neon_audio/__main__.py,sha256=0iqroKqq2ZE38yYU8UVclOfT2HB-lpLbusU8vz6j0bA,3266
+neon_audio/cli.py,sha256=DarHKh9r87h8f_n7g-iRDBxA5FeTuSTmWKwRbes25_0,4898
+neon_audio/service.py,sha256=1nVZmj9hoQUXTcLRxpl2h14kCvDfZTCoCLdnTsSiFow,6935
+neon_audio/utils.py,sha256=RTJohrD4t8p4junnJKuvA4K1wZsERazk2u00y40cndk,4493
 neon_audio/tts/__init__.py,sha256=jxzLq3fN0E73muC0fxZjJzOGP6yeZfjqk1irbAXpsRs,3049
 neon_audio/tts/neon.py,sha256=ml80us_k5e3ISt3Q0Pa4fCmSpFoZ_zQqfaDtGe82Ghw,14666
 tests/__init__.py,sha256=UDwbScPcnqA05m_zQmXnY6YeoL5j6NS_TaLj0mQdU_8,1831
 tests/api_method_tests.py,sha256=2njf3FxZiSBZ9K7YSkPUhAQtf0EHGr59YP9mMRCV3Vc,11254
 tests/unit_tests.py,sha256=GlR-MfQy5mckJfXuXkrwnBVc0pWzZduO0MqYxkhe_iU,8966
 tests/test_objects/__init__.py,sha256=vEN_4PSUKYHibiOtZ3xO6oePRMUZwRScpm1G2yRIOEc,2562
-neon_audio-1.3.3a2.dist-info/LICENSE.md,sha256=gxKa3HnxC7fSIlGFpLAiSAhQS22pIyVEyXmPQR2KlXM,1634
-neon_audio-1.3.3a2.dist-info/METADATA,sha256=-4xp4U2jM0YcuaDwzc8EmyNlZe18NVbcJpBo-8Kh6yk,2457
-neon_audio-1.3.3a2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-neon_audio-1.3.3a2.dist-info/entry_points.txt,sha256=AvUXW_KtH2c-0LX7sFPvPEmUKRL9LCF9JPds8Ahp7U0,106
-neon_audio-1.3.3a2.dist-info/top_level.txt,sha256=rtoTVAxbOedNpFa28teihiNrnGbmQga5GqkrN68hhj4,17
-neon_audio-1.3.3a2.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
-neon_audio-1.3.3a2.dist-info/RECORD,,
+neon_audio-1.3.3a3.dist-info/LICENSE.md,sha256=gxKa3HnxC7fSIlGFpLAiSAhQS22pIyVEyXmPQR2KlXM,1634
+neon_audio-1.3.3a3.dist-info/METADATA,sha256=NiIxbCj0hFaeHC7DbC0wUgjqQOjWTRWZDavX3p3f2Yw,2457
+neon_audio-1.3.3a3.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+neon_audio-1.3.3a3.dist-info/entry_points.txt,sha256=AvUXW_KtH2c-0LX7sFPvPEmUKRL9LCF9JPds8Ahp7U0,106
+neon_audio-1.3.3a3.dist-info/top_level.txt,sha256=rtoTVAxbOedNpFa28teihiNrnGbmQga5GqkrN68hhj4,17
+neon_audio-1.3.3a3.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
+neon_audio-1.3.3a3.dist-info/RECORD,,
```

