# Comparing `tmp/yawp-0.6.1.tar.gz` & `tmp/yawp-0.7.1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "yawp-0.6.1.tar", last modified: Fri May  6 15:55:33 2022, max compression
+gzip compressed data, was "yawp-0.7.1.tar", last modified: Sat Jun 25 19:00:51 2022, max compression
```

## Comparing `yawp-0.6.1.tar` & `yawp-0.7.1.tar`

### file list

```diff
@@ -1,6 +1,6 @@
--rw-r--r--   0        0        0     8944 2022-05-05 09:57:09.928689 yawp-0.6.1/README.md
--rwxr-xr-x   0        0        0      769 2022-04-06 16:28:56.000000 yawp-0.6.1/pyproject.toml
--rw-r--r--   0        0        0    23745 2022-05-05 09:54:21.259930 yawp-0.6.1/yawp/__init__.py
--rw-r--r--   0        0        0    41635 2022-05-05 09:36:37.110577 yawp-0.6.1/yawp/__main__.py
--rw-r--r--   0        0        0    71320 2022-05-05 12:48:27.084012 yawp-0.6.1/yawp/docs/yawp.pdf
--rw-r--r--   0        0        0     9680 1970-01-01 00:00:00.000000 yawp-0.6.1/PKG-INFO
+-rw-r--r--   0        0        0     9635 2022-06-25 18:53:03.193255 yawp-0.7.1/README.md
+-rwxr-xr-x   0        0        0      769 2022-06-07 07:43:28.190425 yawp-0.7.1/pyproject.toml
+-rw-r--r--   0        0        0    26731 2022-06-25 18:52:30.493042 yawp-0.7.1/yawp/__init__.py
+-rw-r--r--   0        0        0    46768 2022-06-25 18:52:56.041209 yawp-0.7.1/yawp/__main__.py
+-rw-r--r--   0        0        0    79131 2022-06-25 18:58:05.419207 yawp-0.7.1/yawp/docs/yawp.pdf
+-rw-r--r--   0        0        0    10371 1970-01-01 00:00:00.000000 yawp-0.7.1/PKG-INFO
```

### Comparing `yawp-0.6.1/README.md` & `yawp-0.7.1/README.md`

 * *Files 12% similar despite different names*

```diff
@@ -1,559 +1,603 @@
 00000000: 6060 600a 7573 6167 653a 2079 6177 7020  ```.usage: yawp 
 00000010: 5b2d 685d 205b 2d48 5d20 5b2d 565d 205b  [-h] [-H] [-V] [
-00000020: 2d76 5d20 5b2d 735d 205b 2d4e 5d20 5b2d  -v] [-s] [-N] [-
-00000030: 555d 205b 2d67 5d20 5b2d 705d 205b 2d77  U] [-g] [-p] [-w
-00000040: 2043 4841 5253 5f50 4552 5f4c 494e 455d   CHARS_PER_LINE]
-00000050: 0a20 2020 2020 2020 2020 2020 205b 2d6c  .            [-l
-00000060: 5d20 5b2d 6320 434f 4e54 454e 5453 5f54  ] [-c CONTENTS_T
-00000070: 4954 4c45 5d20 5b2d 6920 494e 4445 585f  ITLE] [-i INDEX_
-00000080: 5449 544c 455d 205b 2d66 5d20 5b2d 465d  TITLE] [-f] [-F]
-00000090: 205b 2d65 2045 5645 4e5f 4c45 4654 5d0a   [-e EVEN_LEFT].
-000000a0: 2020 2020 2020 2020 2020 2020 5b2d 4520              [-E 
-000000b0: 4556 454e 5f52 4947 4854 5d20 5b2d 6f20  EVEN_RIGHT] [-o 
-000000c0: 4f44 445f 4c45 4654 5d20 5b2d 4f20 4f44  ODD_LEFT] [-O OD
-000000d0: 445f 5249 4748 545d 205b 2d61 5d20 5b2d  D_RIGHT] [-a] [-
-000000e0: 5020 4649 4c45 5f50 4446 5d0a 2020 2020  P FILE_PDF].    
-000000f0: 2020 2020 2020 2020 5b2d 5720 4348 4152          [-W CHAR
-00000100: 5f57 4944 5448 5d20 5b2d 4120 4348 4152  _WIDTH] [-A CHAR
-00000110: 5f41 5350 4543 545d 205b 2d53 2050 4150  _ASPECT] [-S PAP
-00000120: 4552 5f53 495a 455d 205b 2d5a 5d0a 2020  ER_SIZE] [-Z].  
-00000130: 2020 2020 2020 2020 2020 5b2d 4c20 4c45            [-L LE
-00000140: 4654 5f4d 4152 4749 4e5d 205b 2d52 2052  FT_MARGIN] [-R R
-00000150: 4947 4854 5f4d 4152 4749 4e5d 205b 2d54  IGHT_MARGIN] [-T
-00000160: 2054 4f50 5f4d 4152 4749 4e5d 0a20 2020   TOP_MARGIN].   
-00000170: 2020 2020 2020 2020 205b 2d42 2042 4f54           [-B BOT
-00000180: 544f 4d5f 4d41 5247 494e 5d20 5b2d 435d  TOM_MARGIN] [-C]
-00000190: 0a20 2020 2020 2020 2020 2020 205b 6669  .            [fi
-000001a0: 6c65 5d0a 0a59 6574 2041 6e6f 7468 6572  le]..Yet Another
-000001b0: 2057 6f72 6420 5072 6f63 6573 736f 722c   Word Processor,
-000001c0: 2061 6e20 6175 746f 6d61 7469 6320 776f   an automatic wo
-000001d0: 7264 2070 726f 6365 7373 6f72 2066 6f72  rd processor for
-000001e0: 2074 6578 7420 6669 6c65 732c 2077 6974   text files, wit
-000001f0: 6820 5044 4620 6f75 7470 7574 0a0a 2020  h PDF output..  
-00000200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000210: 2020 2020 2049 2073 6f75 6e64 206d 7920       I sound my 
-00000220: 6261 7262 6172 6963 2079 6177 7020 6f76  barbaric yawp ov
-00000230: 6572 2074 6865 2072 6f6f 6673 206f 6620  er the roofs of 
-00000240: 7468 6520 776f 726c 640a 0a20 2020 2020  the world..     
-00000250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000280: 2020 2020 2020 2020 2020 5761 6c74 2057            Walt W
-00000290: 6869 746d 616e 0a0a 5468 6520 206e 616d  hitman..The  nam
-000002a0: 6520 2022 7961 7770 2220 2068 6572 6520  e  "yawp"  here 
-000002b0: 206d 6561 6e73 2020 5965 7420 2041 6e6f   means  Yet  Ano
-000002c0: 7468 6572 2057 6f72 6420 5072 6f63 6573  ther Word Proces
-000002d0: 736f 722c 2061 6e64 2079 6177 7020 6973  sor, and yawp is
-000002e0: 2061 6e0a 6175 746f 6d61 7469 6320 2077   an.automatic  w
-000002f0: 6f72 6420 2070 726f 6365 7373 6f72 2020  ord  processor  
-00000300: 666f 7220 2070 6c61 696e 2020 7465 7874  for  plain  text
-00000310: 2066 696c 6573 2c20 7769 7468 2050 4446   files, with PDF
-00000320: 206f 7574 7075 742e 2049 6620 796f 750a   output. If you.
-00000330: 7265 616c 6c79 2020 6e65 6564 2020 616c  really  need  al
-00000340: 6c20 2074 6865 2066 6561 7475 7265 7320  l  the features 
-00000350: 6f66 2061 2066 756c 6c2d 666c 6564 6765  of a full-fledge
-00000360: 6420 5759 5349 5759 4720 776f 7264 2070  d WYSIWYG word p
-00000370: 726f 6365 7373 6f72 2061 730a 4c69 6272  rocessor as.Libr
-00000380: 654f 6666 6963 6520 2057 7269 7465 722c  eOffice  Writer,
-00000390: 2020 7961 7770 2069 7320 6e6f 7420 666f    yawp is not fo
-000003a0: 7220 796f 752e 2042 7574 2069 6620 796f  r you. But if yo
-000003b0: 7520 6a75 7374 2077 616e 7420 746f 2063  u just want to c
-000003c0: 7265 6174 6520 610a 7369 6d70 6c65 2071  reate a.simple q
-000003d0: 7569 636b 2d61 6e64 2d64 6972 7479 206e  uick-and-dirty n
-000003e0: 6f2d 6672 696c 6c73 2064 6f63 756d 656e  o-frills documen
-000003f0: 742c 2077 6974 6820 7961 7770 2079 6f75  t, with yawp you
-00000400: 2063 616e 3a0a 0a20 2020 20e2 80a2 2065   can:..    ... e
-00000410: 6469 7420 6120 7465 7874 2066 696c 6520  dit a text file 
-00000420: 6279 2079 6f75 7220 6661 766f 7269 7465  by your favorite
-00000430: 2065 6469 746f 720a 2020 2020 e280 a220   editor.    ... 
-00000440: 7275 6e20 7961 7770 2069 6e20 6f72 6465  run yawp in orde
-00000450: 7220 746f 3a0a 2020 2020 2020 2020 e280  r to:.        ..
-00000460: a220 6261 636b 7570 2072 6561 6420 666f  . backup read fo
-00000470: 726d 6174 2061 6e64 2072 6577 7269 7465  rmat and rewrite
-00000480: 2074 6865 2074 6578 7420 6669 6c65 0a20   the text file. 
-00000490: 2020 2020 2020 20e2 80a2 2065 7870 6f72         ... expor
-000004a0: 7420 7468 6520 7465 7874 2066 696c 6520  t the text file 
-000004b0: 696e 2061 2050 4446 2066 696c 650a 2020  in a PDF file.  
-000004c0: 2020 2020 2020 e280 a220 6f70 656e 2074        ... open t
-000004d0: 6865 2050 4446 2066 696c 6520 666f 7220  he PDF file for 
-000004e0: 6368 6563 6b20 6f72 2070 7269 6e74 0a20  check or print. 
-000004f0: 2020 20e2 80a2 2070 6f73 7369 626c 7920     ... possibly 
-00000500: 676f 2062 6163 6b20 746f 2074 6865 2065  go back to the e
-00000510: 6469 746f 7220 616e 6420 7570 6461 7465  ditor and update
-00000520: 2074 6865 2074 6578 7420 6669 6c65 2c20   the text file, 
-00000530: 6f72 2066 696e 6973 680a 0a20 2020 2020  or finish..     
-00000540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000560: 2020 2020 2020 2020 20e2 948c e294 80e2           .......
-00000570: 9480 e294 80e2 9480 e294 80e2 9480 e294  ................
-00000580: 80e2 9490 0a20 2020 2020 2020 2020 2020  .....           
-00000590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000020: 2d76 5d20 5b2d 4e5d 205b 2d55 5d20 5b2d  -v] [-N] [-U] [-
+00000030: 675d 205b 2d77 2043 4841 5253 5f50 4552  g] [-w CHARS_PER
+00000040: 5f4c 494e 455d 205b 2d6c 5d0a 2020 2020  _LINE] [-l].    
+00000050: 2020 2020 2020 2020 5b2d 6320 434f 4e54          [-c CONT
+00000060: 454e 5453 5f54 4954 4c45 5d20 5b2d 6620  ENTS_TITLE] [-f 
+00000070: 4649 4755 5245 535f 5449 544c 455d 205b  FIGURES_TITLE] [
+00000080: 2d46 2043 4150 5449 4f4e 5f50 5245 4649  -F CAPTION_PREFI
+00000090: 585d 0a20 2020 2020 2020 2020 2020 205b  X].            [
+000000a0: 2d69 2049 4e44 4558 5f54 4954 4c45 5d20  -i INDEX_TITLE] 
+000000b0: 5b2d 6a5d 205b 2d4a 5d20 5b2d 6520 4556  [-j] [-J] [-e EV
+000000c0: 454e 5f4c 4546 545d 205b 2d45 2045 5645  EN_LEFT] [-E EVE
+000000d0: 4e5f 5249 4748 545d 0a20 2020 2020 2020  N_RIGHT].       
+000000e0: 2020 2020 205b 2d6f 204f 4444 5f4c 4546       [-o ODD_LEF
+000000f0: 545d 205b 2d4f 204f 4444 5f52 4947 4854  T] [-O ODD_RIGHT
+00000100: 5d20 5b2d 615d 205b 2d58 5d20 5b2d 5920  ] [-a] [-X] [-Y 
+00000110: 5649 4557 5f50 4446 5f42 595d 0a20 2020  VIEW_PDF_BY].   
+00000120: 2020 2020 2020 2020 205b 2d50 2046 494c           [-P FIL
+00000130: 455f 5044 465d 205b 2d57 2043 4841 525f  E_PDF] [-W CHAR_
+00000140: 5749 4454 485d 205b 2d41 2043 4841 525f  WIDTH] [-A CHAR_
+00000150: 4153 5045 4354 5d20 5b2d 5320 5041 5045  ASPECT] [-S PAPE
+00000160: 525f 5349 5a45 5d0a 2020 2020 2020 2020  R_SIZE].        
+00000170: 2020 2020 5b2d 5a5d 205b 2d4c 204c 4546      [-Z] [-L LEF
+00000180: 545f 4d41 5247 494e 5d20 5b2d 5220 5249  T_MARGIN] [-R RI
+00000190: 4748 545f 4d41 5247 494e 5d20 5b2d 5420  GHT_MARGIN] [-T 
+000001a0: 544f 505f 4d41 5247 494e 5d0a 2020 2020  TOP_MARGIN].    
+000001b0: 2020 2020 2020 2020 5b2d 4220 424f 5454          [-B BOTT
+000001c0: 4f4d 5f4d 4152 4749 4e5d 205b 2d43 5d0a  OM_MARGIN] [-C].
+000001d0: 2020 2020 2020 2020 2020 2020 5b66 696c              [fil
+000001e0: 655d 0a0a 5965 7420 416e 6f74 6865 7220  e]..Yet Another 
+000001f0: 576f 7264 2050 726f 6365 7373 6f72 2c20  Word Processor, 
+00000200: 616e 2061 7574 6f6d 6174 6963 2077 6f72  an automatic wor
+00000210: 6420 7072 6f63 6573 736f 7220 666f 7220  d processor for 
+00000220: 7465 7874 2066 696c 6573 2c20 7769 7468  text files, with
+00000230: 2050 4446 2065 7870 6f72 740a 0a20 2020   PDF export..   
+00000240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000250: 2020 2020 4920 736f 756e 6420 6d79 2062      I sound my b
+00000260: 6172 6261 7269 6320 7961 7770 206f 7665  arbaric yawp ove
+00000270: 7220 7468 6520 726f 6f66 7320 6f66 2074  r the roofs of t
+00000280: 6865 2077 6f72 6c64 0a0a 2020 2020 2020  he world..      
+00000290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002c0: 2020 2020 2020 2020 2057 616c 7420 5768           Walt Wh
+000002d0: 6974 6d61 6e0a 0a54 6865 2020 6e61 6d65  itman..The  name
+000002e0: 2020 2279 6177 7022 2020 6865 7265 2020    "yawp"  here  
+000002f0: 6d65 616e 7320 2059 6574 2020 416e 6f74  means  Yet  Anot
+00000300: 6865 7220 576f 7264 2050 726f 6365 7373  her Word Process
+00000310: 6f72 2c20 616e 6420 7961 7770 2069 7320  or, and yawp is 
+00000320: 616e 0a61 7574 6f6d 6174 6963 2020 2862  an.automatic  (b
+00000330: 6174 6368 2c20 206e 6f74 2020 696e 7465  atch,  not  inte
+00000340: 7261 6374 6976 6529 2020 776f 7264 2070  ractive)  word p
+00000350: 726f 6365 7373 6f72 2066 6f72 2070 6c61  rocessor for pla
+00000360: 696e 2074 6578 7420 6669 6c65 732c 0a77  in text files,.w
+00000370: 6974 6820 2050 4446 2020 6578 706f 7274  ith  PDF  export
+00000380: 2e20 2049 6620 2079 6f75 2020 7265 616c  .  If  you  real
+00000390: 6c79 206e 6565 6420 616c 6c20 7468 6520  ly need all the 
+000003a0: 6665 6174 7572 6573 206f 6620 6120 6675  features of a fu
+000003b0: 6c6c 2d66 6c65 6467 6564 0a57 5953 4957  ll-fledged.WYSIW
+000003c0: 5947 2020 776f 7264 2020 7072 6f63 6573  YG  word  proces
+000003d0: 736f 7220 6173 204c 6962 7265 4f66 6669  sor as LibreOffi
+000003e0: 6365 2057 7269 7465 722c 2079 6177 7020  ce Writer, yawp 
+000003f0: 6973 206e 6f74 2066 6f72 2079 6f75 2e20  is not for you. 
+00000400: 4275 7420 6966 0a79 6f75 2020 6a75 7374  But if.you  just
+00000410: 2020 7761 6e74 2074 6f20 6372 6561 7465    want to create
+00000420: 2061 2073 696d 706c 6520 7175 6963 6b2d   a simple quick-
+00000430: 616e 642d 6469 7274 7920 6e6f 2d66 7269  and-dirty no-fri
+00000440: 6c6c 7320 646f 6375 6d65 6e74 2c20 7769  lls document, wi
+00000450: 7468 0a79 6177 7020 796f 7520 6361 6e3a  th.yawp you can:
+00000460: 0a0a 2020 2020 e280 a220 6564 6974 2061  ..    ... edit a
+00000470: 2074 6578 7420 6669 6c65 2062 7920 796f   text file by yo
+00000480: 7572 2066 6176 6f72 6974 6520 6564 6974  ur favorite edit
+00000490: 6f72 0a20 2020 20e2 80a2 2072 756e 2079  or.    ... run y
+000004a0: 6177 7020 696e 206f 7264 6572 2074 6f3a  awp in order to:
+000004b0: 0a20 2020 2020 2020 20e2 80a2 2062 6163  .        ... bac
+000004c0: 6b75 7020 7265 6164 2066 6f72 6d61 7420  kup read format 
+000004d0: 616e 6420 7265 7772 6974 6520 7468 6520  and rewrite the 
+000004e0: 7465 7874 2066 696c 650a 2020 2020 2020  text file.      
+000004f0: 2020 e280 a220 6578 706f 7274 2074 6865    ... export the
+00000500: 2074 6578 7420 6669 6c65 2069 6e74 6f20   text file into 
+00000510: 6120 5044 4620 6669 6c65 0a20 2020 2020  a PDF file.     
+00000520: 2020 20e2 80a2 2076 6965 7720 7468 6520     ... view the 
+00000530: 5044 4620 6669 6c65 2066 6f72 2063 6865  PDF file for che
+00000540: 636b 206f 7220 7072 696e 740a 2020 2020  ck or print.    
+00000550: e280 a220 706f 7373 6962 6c79 2067 6f20  ... possibly go 
+00000560: 6261 636b 2074 6f20 7468 6520 6564 6974  back to the edit
+00000570: 6f72 2061 6e64 2075 7064 6174 6520 7468  or and update th
+00000580: 6520 7465 7874 2066 696c 652c 206f 7220  e text file, or 
+00000590: 6669 6e69 7368 0a0a 2020 2020 2020 2020  finish..        
 000005a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000005b0: 2020 20e2 9482 6261 636b 7570 20e2 9482     ...backup ...
-000005c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000005d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000005e0: 2020 2020 2020 2020 2020 2020 2020 20e2                 .
-000005f0: 9482 2020 2020 2020 20e2 9482 0a20 2020  ..       ....   
-00000600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000620: 2020 2020 2020 2020 2020 20e2 9482 2066             ... f
-00000630: 696c 6520 20e2 9482 0a20 2020 2020 2020  ile  ....       
-00000640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000660: 2020 2020 2020 20e2 9494 e294 80e2 9480         .........
-00000670: e294 80e2 9480 e294 80e2 94ac e294 80e2  ................
-00000680: 9498 0a20 2020 2020 2020 2020 2020 2020  ...             
+000005b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000005c0: 2020 20e2 948c e294 80e2 9480 e294 80e2     .............
+000005d0: 9480 e294 80e2 9480 e294 80e2 9490 0a20  ............... 
+000005e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000005f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000600: 2020 2020 2020 2020 2020 e294 8262 6163            ...bac
+00000610: 6b75 7020 e294 820a 2020 2020 2020 2020  kup ....        
+00000620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000640: 2020 20e2 9482 2020 2020 2020 20e2 9482     ...       ...
+00000650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000670: 2020 2020 2020 2020 2020 2020 e294 8220              ... 
+00000680: 6669 6c65 2020 e294 820a 2020 2020 2020  file  ....      
 00000690: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000006a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000006b0: 2020 20e2 96b3 2020 20e2 9482 0a20 2020     ...   ....   
-000006c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000006d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000006e0: 2020 2020 2020 2020 2020 2020 20e2 9482               ...
-000006f0: 2020 20e2 9482 7265 7374 6f72 650a 2020     ...restore.  
+000006b0: 2020 2020 20e2 9494 e294 80e2 9480 e294       ...........
+000006c0: 80e2 9480 e294 80e2 94ac e294 80e2 9498  ................
+000006d0: 2020 2020 e294 8ce2 9480 e294 80e2 9480      ............
+000006e0: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
+000006f0: 9480 e294 900a 2020 2020 2020 2020 2020  ......          
 00000700: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00000710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000720: 2020 2020 2020 2020 2020 2020 2020 e294                ..
-00000730: 8220 2020 e294 8220 2875 6e64 6f29 0a20  .   ... (undo). 
-00000740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000720: 2020 20e2 96b3 2020 20e2 9482 2020 2020     ...   ...    
+00000730: 2020 e294 826d 6573 7361 6765 7320 e294    ...messages ..
+00000740: 820a 2020 2020 2020 2020 2020 2020 2020  ..              
 00000750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000760: 2020 2020 2020 2020 2062 6163 6b75 70e2           backup.
-00000770: 9482 2020 20e2 9482 0a20 2020 2020 2020  ..   ....       
-00000780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007a0: 2020 2020 2020 2020 20e2 9482 2020 20e2           ...   .
-000007b0: 9482 0a20 2020 2020 2020 2020 2020 2020  ...             
-000007c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007e0: 2020 20e2 9482 2020 20e2 96bd 0a20 2020     ...   ....   
-000007f0: 20e2 948c e294 80e2 9480 e294 80e2 9480   ...............
-00000800: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
-00000810: 9480 e294 80e2 9490 2020 2020 2020 2020  ........        
-00000820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000830: 2020 20e2 948c e294 80e2 9480 e294 80e2     .............
-00000840: 94b4 e294 80e2 9480 e294 80e2 9480 e294  ................
-00000850: 80e2 9480 e294 80e2 9490 0a20 2020 20e2  ...........    .
-00000860: 9482 2020 2020 2020 2020 2020 20e2 9482  ..           ...
-00000870: 2020 2020 2020 2020 20e2 948c e294 80e2           .......
+00000760: 2020 2020 2020 2020 2020 2020 2020 20e2                 .
+00000770: 9482 2020 20e2 9482 756e 646f 2020 e294  ..   ...undo  ..
+00000780: 94e2 9480 e294 80e2 9480 e294 80e2 9480  ................
+00000790: e294 80e2 9480 e294 80e2 9480 e294 980a  ................
+000007a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000007b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000007c0: 2020 2020 2020 2062 6163 6b75 70e2 9482         backup...
+000007d0: 2020 20e2 9482 2020 2020 2020 2020 2020     ...          
+000007e0: 20e2 96b3 0a20 2020 2020 2020 2020 2020   ....           
+000007f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000810: 2020 e294 8220 2020 e296 bd20 2020 2020    ...   ...     
+00000820: 2020 2020 2020 e294 820a 20e2 948c e294        .... .....
+00000830: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
+00000840: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
+00000850: 9490 2020 2020 2020 2020 2020 2020 2020  ..              
+00000860: 2020 2020 2020 2020 2020 2020 20e2 948c               ...
+00000870: e294 80e2 9480 e294 80e2 94b4 e294 80e2  ................
 00000880: 9480 e294 80e2 9480 e294 80e2 9480 e294  ................
-00000890: 80e2 9490 2020 7265 6164 2020 20e2 9482  ....  read   ...
-000008a0: 2020 2020 2020 2020 2020 20e2 9482 2020             ...  
-000008b0: 2020 2020 2020 20e2 948c e294 80e2 9480         .........
+00000890: 80e2 9490 2020 2020 2020 20e2 9482 0a20  ....       .... 
+000008a0: e294 8220 2020 2020 2020 2020 2020 e294  ...           ..
+000008b0: 8220 2020 2020 2020 2020 e294 8ce2 9480  .         ......
 000008c0: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
-000008d0: 9490 0a20 2020 20e2 9482 2020 2020 2020  ...    ...      
-000008e0: 2020 2020 20e2 9482 2020 6564 6974 2020       ...  edit  
-000008f0: 20e2 9482 2074 6578 7420 20e2 949c e294   ... text  .....
-00000900: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
-00000910: e294 80e2 9480 e296 b7e2 9482 2020 2020  ............    
-00000920: 2020 2020 2020 20e2 9482 2065 7870 6f72         ... expor
-00000930: 7420 20e2 9482 2050 4446 2020 20e2 9482  t  ... PDF   ...
-00000940: 0a20 2020 20e2 9482 2020 6564 6974 6f72  .    ...  editor
-00000950: 2020 20e2 949c e294 80e2 9480 e294 80e2     .............
-00000960: 9480 e294 80e2 9480 e294 80e2 9480 e296  ................
-00000970: b7e2 9482 2020 2020 2020 20e2 9482 2020  ....       ...  
-00000980: 2020 2020 2020 20e2 9482 2020 2079 6177         ...   yaw
-00000990: 7020 2020 20e2 949c e294 80e2 9480 e294  p    ...........
+000008d0: 9480 e294 9020 2072 6561 6420 2020 e294  .....  read   ..
+000008e0: 8220 2020 2020 2020 2020 2020 e294 8220  .           ... 
+000008f0: 7368 6f77 2020 e294 820a 20e2 9482 2020  show  .... ...  
+00000900: 2020 2020 2020 2020 20e2 9482 2020 6564           ...  ed
+00000910: 6974 2020 20e2 9482 2074 6578 7420 20e2  it   ... text  .
+00000920: 949c e294 80e2 9480 e294 80e2 9480 e294  ................
+00000930: 80e2 9480 e294 80e2 9480 e296 b7e2 9482  ................
+00000940: 2020 2020 2020 2020 2020 20e2 949c e294             .....
+00000950: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
+00000960: e294 80e2 9498 2020 2020 e294 8ce2 9480  ......    ......
+00000970: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
+00000980: 9480 e294 900a 20e2 9482 2020 6564 6974  ...... ...  edit
+00000990: 6f72 2020 20e2 949c e294 80e2 9480 e294  or   ...........
 000009a0: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
 000009b0: e296 b7e2 9482 2020 2020 2020 20e2 9482  ......       ...
-000009c0: 0a20 2020 20e2 9482 2020 2020 2020 2020  .    ...        
-000009d0: 2020 20e2 9482 2020 2020 2020 2020 20e2     ...         .
-000009e0: 9482 2066 696c 6520 20e2 9482 e297 81e2  .. file  .......
-000009f0: 9480 e294 80e2 9480 e294 80e2 9480 e294  ................
-00000a00: 80e2 9480 e294 80e2 94a4 2020 2020 2020  ..........      
-00000a10: 2020 2020 20e2 9482 2020 2020 2020 2020       ...        
-00000a20: 20e2 9482 2066 696c 6520 20e2 9482 0a20   ... file  .... 
-00000a30: 2020 20e2 9482 2020 2020 2020 2020 2020     ...          
-00000a40: 20e2 9482 2020 2020 2020 2020 20e2 9494   ...         ...
-00000a50: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
-00000a60: 9480 e294 80e2 9498 2072 6577 7269 7465  ........ rewrite
-00000a70: 20e2 9482 2020 2020 2020 2020 2020 20e2   ...           .
-00000a80: 9482 2020 2020 2020 2020 20e2 9494 e294  ..         .....
-00000a90: 80e2 9480 e294 80e2 94ac e294 80e2 9480  ................
-00000aa0: e294 80e2 9498 0a20 2020 20e2 9494 e294  .......    .....
-00000ab0: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
-00000ac0: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
-00000ad0: 9498 2020 2020 2020 2020 2020 2020 2020  ..              
-00000ae0: 2020 2020 2020 2020 2020 2020 20e2 9494               ...
-00000af0: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
-00000b00: 9480 e294 80e2 9480 e294 80e2 9480 e294  ................
-00000b10: 80e2 9498 2020 2020 2020 2020 2020 2020  ....            
-00000b20: 20e2 9482 0a20 2020 2020 2020 2020 20e2   ....          .
-00000b30: 96b3 2020 2020 2020 2020 2020 2020 2020  ..              
-00000b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b60: 2020 2020 2020 2020 2020 2020 20e2 9482               ...
-00000b70: 0a20 2020 2020 2020 2020 20e2 9482 2020  .          ...  
+000009c0: 2020 2020 2020 2020 20e2 9482 2020 2079           ...   y
+000009d0: 6177 7020 2020 20e2 9482 2020 2020 2020  awp    ...      
+000009e0: 2020 2020 2020 e294 8220 5044 4620 2020        ... PDF   
+000009f0: e294 820a 20e2 9482 2020 2020 2020 2020  .... ...        
+00000a00: 2020 20e2 9482 2020 2020 2020 2020 20e2     ...         .
+00000a10: 9482 2066 696c 6520 20e2 9482 e297 81e2  .. file  .......
+00000a20: 9480 e294 80e2 9480 e294 80e2 9480 e294  ................
+00000a30: 80e2 9480 e294 80e2 94a4 2020 2020 2020  ..........      
+00000a40: 2020 2020 20e2 949c e294 80e2 9480 e294       ...........
+00000a50: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
+00000a60: e294 80e2 9480 e294 80e2 96b7 e294 8220  ............... 
+00000a70: 2020 2020 2020 e294 820a 20e2 9482 2020        .... ...  
+00000a80: 2020 2020 2020 2020 20e2 9482 2020 2020           ...    
+00000a90: 2020 2020 20e2 9494 e294 80e2 9480 e294       ...........
+00000aa0: 80e2 9480 e294 80e2 9480 e294 80e2 9498  ................
+00000ab0: 2072 6577 7269 7465 20e2 9482 2020 2020   rewrite ...    
+00000ac0: 2020 2020 2020 20e2 9482 2065 7870 6f72         ... expor
+00000ad0: 7420 2020 2020 e294 8220 6669 6c65 2020  t     ... file  
+00000ae0: e294 820a 20e2 9494 e294 80e2 9480 e294  .... ...........
+00000af0: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
+00000b00: e294 80e2 9480 e294 80e2 9498 2020 2020  ............    
+00000b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b20: 2020 2020 2020 20e2 9494 e294 80e2 9480         .........
+00000b30: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
+00000b40: 9480 e294 80e2 9480 e294 80e2 9498 2020  ..............  
+00000b50: 2020 2020 2020 2020 2020 e294 94e2 9480            ......
+00000b60: e294 80e2 9480 e294 ace2 9480 e294 80e2  ................
+00000b70: 9480 e294 980a 2020 2020 2020 20e2 96b3  ......       ...
 00000b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b90: 2020 2020 2020 2020 6368 6563 6b20 2020          check   
+00000b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00000ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000bb0: 2020 2020 2020 2020 20e2 9482 0a20 2020           ....   
-00000bc0: 2020 2020 2020 20e2 9494 e294 80e2 9480         .........
-00000bd0: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
-00000be0: 9480 e294 80e2 9480 e294 80e2 9480 e294  ................
-00000bf0: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
-00000c00: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
-00000c10: 9480 e294 80e2 9480 e294 80e2 9480 e294  ................
+00000bb0: 2020 2020 2020 2020 2020 2020 2020 e294                ..
+00000bc0: 820a 2020 2020 2020 20e2 9482 2020 2020  ..       ...    
+00000bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000be0: 2020 2020 2020 6368 6563 6b20 2020 2020        check     
+00000bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c00: 2020 2020 2020 2020 2020 e294 820a 2020            ....  
+00000c10: 2020 2020 20e2 9494 e294 80e2 9480 e294       ...........
 00000c20: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
 00000c30: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
 00000c40: 9480 e294 80e2 9480 e294 80e2 9480 e294  ................
 00000c50: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
 00000c60: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
-00000c70: 9480 e294 80e2 9480 e294 80e2 9498 0a0a  ................
-00000c80: 4d61 696e 2066 6561 7475 7265 7320 6172  Main features ar
-00000c90: 653a 0a0a 2020 2020 e280 a220 7961 7770  e:..    ... yawp
-00000ca0: 2020 7072 6f63 6573 7365 7320 2069 6e20    processes  in 
-00000cb0: 706c 6163 6520 6120 7369 6e67 6c65 2074  place a single t
-00000cc0: 6578 7420 6669 6c65 2c20 6865 7265 696e  ext file, herein
-00000cd0: 6166 7465 7220 7265 6665 7272 6564 2074  after referred t
-00000ce0: 6f0a 2020 2020 2020 7369 6d70 6c79 2061  o.      simply a
-00000cf0: 7320 7468 6520 2266 696c 6522 0a20 2020  s the "file".   
-00000d00: 20e2 80a2 2079 6177 7020 2062 6566 6f72   ... yawp  befor
-00000d10: 6520 2070 726f 6365 7373 696e 6720 206d  e  processing  m
-00000d20: 616b 6573 2020 6120 2074 696d 6573 7461  akes  a  timesta
-00000d30: 6d70 6564 2020 6261 636b 7570 2020 6f66  mped  backup  of
-00000d40: 2074 6865 2066 696c 652c 0a20 2020 2020   the file,.     
-00000d50: 2061 6c6c 6f77 696e 6720 756e 646f 206f   allowing undo o
-00000d60: 7065 7261 7469 6f6e 0a20 2020 20e2 80a2  peration.    ...
-00000d70: 2079 6177 7020 2070 726f 6365 7373 696e   yawp  processin
-00000d80: 6720 2069 7320 2064 7269 7665 6e20 6279  g  is  driven by
-00000d90: 2074 6865 2074 6578 7420 696e 2074 6865   the text in the
-00000da0: 2066 696c 6520 616e 6420 6279 2061 7267   file and by arg
-00000db0: 756d 656e 7473 0a20 2020 2020 206f 6e6c  uments.      onl
-00000dc0: 792c 206e 6f74 2062 7920 636f 6d6d 616e  y, not by comman
-00000dd0: 6473 206f 7220 7461 6773 2065 6d62 6564  ds or tags embed
-00000de0: 6465 6420 696e 2074 6578 740a 2020 2020  ded in text.    
-00000df0: e280 a220 7961 7770 206a 7573 7469 6669  ... yawp justifi
-00000e00: 6573 2074 6578 7420 6174 206c 6566 7420  es text at left 
-00000e10: 616e 6420 7269 6768 7420 696e 3a0a 2020  and right in:.  
-00000e20: 2020 2020 2020 e280 a220 756e 696e 6465        ... uninde
-00000e30: 6e74 6564 2070 6172 6167 7261 7068 730a  nted paragraphs.
-00000e40: 2020 2020 2020 2020 e280 a220 646f 742d          ... dot-
-00000e50: 6d61 726b 6564 2069 6e64 656e 7465 6420  marked indented 
-00000e60: 7061 7261 6772 6170 6873 2028 6173 2074  paragraphs (as t
-00000e70: 6869 7320 6f6e 6529 0a20 2020 20e2 80a2  his one).    ...
-00000e80: 2079 6177 7020 2061 6363 6570 7473 2020   yawp  accepts  
-00000e90: 756e 6a75 7374 6966 6965 6420 2070 6963  unjustified  pic
-00000ea0: 7475 7265 7320 2028 6173 2020 7363 6865  tures  (as  sche
-00000eb0: 6d61 732c 2020 7461 626c 6573 2020 616e  mas,  tables  an
-00000ec0: 6420 636f 6465 0a20 2020 2020 2065 7861  d code.      exa
-00000ed0: 6d70 6c65 7329 2066 7265 656c 7920 696e  mples) freely in
-00000ee0: 7465 726d 6978 6564 2077 6974 6820 7465  termixed with te
-00000ef0: 7874 0a20 2020 20e2 80a2 2079 6177 7020  xt.    ... yawp 
-00000f00: 2061 646f 7074 7320 2061 6e20 2061 6420   adopts  an  ad 
-00000f10: 2068 6f63 2020 706f 6c69 6379 2020 666f   hoc  policy  fo
-00000f20: 7220 2050 7974 686f 6e20 2066 696c 6573  r  Python  files
-00000f30: 2c20 666f 726d 6174 7469 6e67 2074 6865  , formatting the
-00000f40: 0a20 2020 2020 2064 6f63 7374 7269 6e67  .      docstring
-00000f50: 7320 6275 7420 6e6f 7420 7468 6520 5079  s but not the Py
-00000f60: 7468 6f6e 2063 6f64 650a 2020 2020 e280  thon code.    ..
-00000f70: a220 7961 7770 2020 7065 7266 6f72 6d73  . yawp  performs
-00000f80: 2020 6d75 6c74 692d 6c65 7665 6c20 2063    multi-level  c
-00000f90: 6861 7074 6572 2020 7265 6e75 6d62 6572  hapter  renumber
-00000fa0: 696e 670a 2020 2020 e280 a220 7961 7770  ing.    ... yawp
-00000fb0: 2020 696e 7365 7274 7320 2061 6e20 2061    inserts  an  a
-00000fc0: 7574 6f6d 6174 6963 2020 636f 6e74 656e  utomatic  conten
-00000fd0: 7473 2063 6861 7074 6572 2069 6e20 7468  ts chapter in th
-00000fe0: 6520 6669 6c65 0a20 2020 20e2 80a2 2079  e file.    ... y
-00000ff0: 6177 7020 2072 6563 6f67 6e69 7a65 7320  awp  recognizes 
-00001000: 2072 656c 6576 616e 7420 2073 7562 6a65   relevant  subje
-00001010: 6374 7320 2028 7175 6f74 6564 2020 6279  cts  (quoted  by
-00001020: 2027 2227 2920 616e 6420 696e 7365 7274   '"') and insert
-00001030: 7320 616e 0a20 2020 2020 2061 7574 6f6d  s an.      autom
-00001040: 6174 6963 2069 6e64 6578 2063 6861 7074  atic index chapt
-00001050: 6572 2069 6e20 7468 6520 6669 6c65 0a20  er in the file. 
-00001060: 2020 20e2 80a2 2079 6177 7020 6375 7473     ... yawp cuts
-00001070: 2074 6865 2066 696c 6520 696e 2070 6167   the file in pag
-00001080: 6573 2c20 6279 2061 7574 6f6d 6174 6963  es, by automatic
-00001090: 2069 6e73 6572 7469 6f6e 206f 6620 7477   insertion of tw
-000010a0: 6f2d 6c69 6e65 7320 7061 6765 0a20 2020  o-lines page.   
-000010b0: 2020 2068 6561 6465 7273 0a20 2020 20e2     headers.    .
-000010c0: 80a2 2079 6177 7020 2061 6c73 6f20 2068  .. yawp  also  h
-000010d0: 6173 2073 6f6d 6520 6c69 6d69 7465 6420  as some limited 
-000010e0: 6772 6170 6869 6320 6665 6174 7572 652c  graphic feature,
-000010f0: 2079 6f75 2063 616e 2073 6b65 7463 6820   you can sketch 
-00001100: 7069 6374 7572 6573 0a20 2020 2020 2077  pictures.      w
-00001110: 6974 6820 2073 6567 6d65 6e74 7320 2862  ith  segments (b
-00001120: 7920 2760 2729 2061 6e64 2061 7272 6f77  y '`') and arrow
-00001130: 6865 6164 7320 2862 7920 275e 2729 2c20  heads (by '^'), 
-00001140: 7961 7770 2072 6564 7261 7773 2074 6865  yawp redraws the
-00001150: 6d20 6279 0a20 2020 2020 2070 726f 7065  m by.      prope
-00001160: 7220 2020 6772 6170 6869 6320 2063 6861  r   graphic  cha
-00001170: 7261 6374 6572 7320 2028 6173 2020 696e  racters  (as  in
-00001180: 2020 7468 6520 2070 6963 7475 7265 2020    the  picture  
-00001190: 6162 6f76 6529 0a20 2020 20e2 80a2 2079  above).    ... y
-000011a0: 6177 7020 2065 7870 6f72 7473 2020 7468  awp  exports  th
-000011b0: 6520 2072 6573 756c 7469 6e67 2020 6c69  e  resulting  li
-000011c0: 6e65 7320 696e 2050 4446 2066 6f72 6d61  nes in PDF forma
-000011d0: 742c 2077 6974 6820 636f 6e74 726f 6c20  t, with control 
-000011e0: 6f76 6572 0a20 2020 2020 2063 6861 7261  over.      chara
-000011f0: 6374 6572 2020 7369 7a65 2020 616e 6420  cter  size  and 
-00001200: 7061 6765 206c 6179 6f75 742c 2061 6e64  page layout, and
-00001210: 206f 7065 6e73 2066 6f72 2079 6f75 2074   opens for you t
-00001220: 6865 2067 656e 6572 6174 6564 2050 4446  he generated PDF
-00001230: 0a20 2020 2020 2066 696c 652c 2061 6c6c  .      file, all
-00001240: 6f77 696e 6720 7072 6576 6965 7720 616e  owing preview an
-00001250: 6420 7072 696e 7469 6e67 0a20 2020 20e2  d printing.    .
-00001260: 80a2 2079 6177 7020 2063 6f72 7265 6374  .. yawp  correct
-00001270: 7320 2065 7272 6f72 7320 206d 6164 6520  s  errors  made 
-00001280: 2062 7920 2043 5550 532d 5044 4620 2061   by  CUPS-PDF  a
-00001290: 626f 7574 2020 666f 6e74 2073 697a 6520  bout  font size 
-000012a0: 616e 6420 7061 6765 0a20 2020 2020 206d  and page.      m
-000012b0: 6172 6769 6e73 2c20 796f 7520 6361 6e20  argins, you can 
-000012c0: 7573 6520 6465 6661 756c 7420 636f 7272  use default corr
-000012d0: 6563 7469 6f6e 7320 6f72 2072 6564 6566  ections or redef
-000012e0: 696e 6520 7468 656d 2062 7920 7961 7770  ine them by yawp
-000012f0: 2e63 6667 0a20 2020 20e2 80a2 2079 6177  .cfg.    ... yaw
-00001300: 7020 6973 2022 7374 6162 6c65 222c 206e  p is "stable", n
-00001310: 616d 656c 7920 6966 2061 6674 6572 2061  amely if after a
-00001320: 2079 6177 7020 6578 6563 7574 696f 6e20   yawp execution 
-00001330: 796f 7520 7275 6e20 7961 7770 2061 6761  you run yawp aga
-00001340: 696e 0a20 2020 2020 206f 6e20 2074 6865  in.      on  the
-00001350: 2020 7361 6d65 2020 6669 6c65 2077 6974    same  file wit
-00001360: 6820 7468 6520 7361 6d65 2061 7267 756d  h the same argum
-00001370: 656e 7473 2c20 7468 6520 6669 6c65 2063  ents, the file c
-00001380: 6f6e 7465 6e74 2064 6f65 736e 2774 0a20  ontent doesn't. 
-00001390: 2020 2020 2063 6861 6e67 6520 2865 7863       change (exc
-000013a0: 6570 7420 6461 7465 2061 6e64 2074 696d  ept date and tim
-000013b0: 6520 696e 2070 6167 6520 6865 6164 6572  e in page header
-000013c0: 7329 0a0a 4576 6572 7974 6869 6e67 2068  s)..Everything h
-000013d0: 6173 2062 6565 6e20 6b65 7074 2061 7320  as been kept as 
-000013e0: 7369 6d70 6c65 2061 7320 706f 7373 6962  simple as possib
-000013f0: 6c65 2e0a 0a49 6e20 6f72 6465 7220 746f  le...In order to
-00001400: 2069 6e73 7461 6c6c 2079 6177 702c 2074   install yawp, t
-00001410: 7970 653a 0a0a 2020 2020 e294 8220 2420  ype:..    ... $ 
-00001420: 7375 646f 2061 7074 2d67 6574 202d 7920  sudo apt-get -y 
-00001430: 7570 6461 7465 0a20 2020 20e2 9482 2024  update.    ... $
-00001440: 2073 7564 6f20 6170 742d 6765 7420 2d79   sudo apt-get -y
-00001450: 2069 6e73 7461 6c6c 2070 7269 6e74 6572   install printer
-00001460: 2d64 7269 7665 722d 6375 7073 2d70 6466  -driver-cups-pdf
-00001470: 0a0a 4966 2079 6f75 2064 6f6e 2774 2068  ..If you don't h
-00001480: 6176 6520 7069 702c 2074 7970 653a 0a0a  ave pip, type:..
-00001490: 2020 2020 e294 8220 2420 7375 646f 2061      ... $ sudo a
-000014a0: 7074 2d67 6574 202d 7920 696e 7374 616c  pt-get -y instal
-000014b0: 6c20 7079 7468 6f6e 332d 7069 700a 0a49  l python3-pip..I
-000014c0: 6620 796f 7520 7479 7065 2061 7420 7465  f you type at te
-000014d0: 726d 696e 616c 3a0a 0a20 2020 20e2 9482  rminal:..    ...
-000014e0: 2024 2070 6970 3320 696e 7374 616c 6c20   $ pip3 install 
-000014f0: 2d2d 7570 6772 6164 6520 7961 7770 0a0a  --upgrade yawp..
-00001500: 7468 6973 2063 6f6d 6d61 6e64 2077 696c  this command wil
-00001510: 6c3a 0a0a 2020 2020 e280 a220 696e 7374  l:..    ... inst
-00001520: 616c 6c20 6375 7272 656e 7420 7665 7273  all current vers
-00001530: 696f 6e20 6f66 2079 6177 7020 6966 206e  ion of yawp if n
-00001540: 6f74 2070 7265 7365 6e74 0a20 2020 20e2  ot present.    .
-00001550: 80a2 2075 7067 7261 6465 2079 6177 7020  .. upgrade yawp 
-00001560: 746f 2074 6865 2063 7572 7265 6e74 2076  to the current v
-00001570: 6572 7369 6f6e 2069 6620 616c 7265 6164  ersion if alread
-00001580: 7920 696e 7374 616c 6c65 640a 0a49 6620  y installed..If 
-00001590: 796f 7520 7365 6520 6120 6d65 7373 6167  you see a messag
-000015a0: 6520 6c69 6b65 2074 6869 733a 0a0a 2020  e like this:..  
-000015b0: 2020 e294 8220 5741 524e 494e 473a 2054    ... WARNING: T
-000015c0: 6865 2073 6372 6970 7420 7961 7770 2069  he script yawp i
-000015d0: 7320 696e 7374 616c 6c65 6420 696e 202e  s installed in .
-000015e0: 2e2e 2077 6869 6368 2069 7320 6e6f 7420  .. which is not 
-000015f0: 6f6e 2050 4154 482e 0a0a 646f 6e27 7420  on PATH...don't 
-00001600: 776f 7272 792c 2061 2072 6562 6f6f 7420  worry, a reboot 
-00001610: 7368 6f75 6c64 2066 6978 2074 6865 2070  should fix the p
-00001620: 726f 626c 656d 2e0a 0a46 6f72 2061 6e79  roblem...For any
-00001630: 2064 6574 6169 6c2c 2073 6565 2074 6865   detail, see the
-00001640: 2079 6177 702d 6765 6e65 7261 7465 6420   yawp-generated 
-00001650: 2279 6177 7020 6d61 6e75 616c 2220 6279  "yawp manual" by
-00001660: 2074 7970 696e 673a 0a0a 2020 2020 e294   typing:..    ..
-00001670: 8220 2420 7961 7770 202d 480a 0a70 6f73  . $ yawp -H..pos
-00001680: 6974 696f 6e61 6c20 6172 6775 6d65 6e74  itional argument
-00001690: 733a 0a20 2066 696c 6520 2020 2020 2020  s:.  file       
-000016a0: 2020 2020 2020 2020 2020 2074 6578 7420             text 
-000016b0: 6669 6c65 2074 6f20 6265 2070 726f 6365  file to be proce
-000016c0: 7373 6564 0a0a 6f70 7469 6f6e 616c 2061  ssed..optional a
-000016d0: 7267 756d 656e 7473 3a0a 2020 2d68 2c20  rguments:.  -h, 
-000016e0: 2d2d 6865 6c70 2020 2020 2020 2020 2020  --help          
-000016f0: 2020 7368 6f77 2074 6869 7320 6865 6c70    show this help
-00001700: 206d 6573 7361 6765 2061 6e64 2065 7869   message and exi
-00001710: 740a 2020 2d48 2c20 2d2d 6d61 6e75 616c  t.  -H, --manual
-00001720: 2020 2020 2020 2020 2020 6f70 656e 2079            open y
-00001730: 6177 702d 6765 6e65 7261 7465 6420 5044  awp-generated PD
-00001740: 4620 6d61 6e75 616c 2061 6e64 2065 7869  F manual and exi
-00001750: 740a 2020 2d56 2c20 2d2d 7665 7273 696f  t.  -V, --versio
-00001760: 6e20 2020 2020 2020 2020 7368 6f77 2070  n         show p
-00001770: 726f 6772 616d 2773 2076 6572 7369 6f6e  rogram's version
-00001780: 206e 756d 6265 7220 616e 6420 6578 6974   number and exit
-00001790: 0a20 202d 762c 202d 2d76 6572 626f 7365  .  -v, --verbose
-000017a0: 2020 2020 2020 2020 2064 6973 706c 6179           display
-000017b0: 2069 6e66 6f72 6d61 7469 6f6e 206d 6573   information mes
-000017c0: 7361 6765 7320 6f6e 2073 7464 6572 720a  sages on stderr.
-000017d0: 2020 2d73 2c20 2d2d 6563 686f 2d73 6865    -s, --echo-she
-000017e0: 6c6c 2020 2020 2020 6469 7370 6c61 7920  ll      display 
-000017f0: 696e 766f 6b65 6420 556e 6978 2063 6f6d  invoked Unix com
-00001800: 6d61 6e64 7320 6f6e 2073 7464 6572 720a  mands on stderr.
-00001810: 2020 2d4e 2c20 2d2d 6e6f 2d66 6f72 6d61    -N, --no-forma
-00001820: 7420 2020 2020 2020 6261 636b 7570 2062  t       backup b
-00001830: 7574 2064 6f6e 2774 2066 6f72 6d61 7420  ut don't format 
-00001840: 2864 6566 6175 6c74 3a20 6261 636b 7570  (default: backup
-00001850: 2061 6e64 2066 6f72 6d61 7429 0a20 202d   and format).  -
-00001860: 552c 202d 2d75 6e64 6f20 2020 2020 2020  U, --undo       
-00001870: 2020 2020 2072 6573 746f 7265 2074 6865       restore the
-00001880: 2066 696c 6520 6672 6f6d 206c 6173 7420   file from last 
-00001890: 6261 636b 7570 2028 6465 6661 756c 743a  backup (default:
-000018a0: 2062 6163 6b75 7020 616e 640a 2020 2020   backup and.    
-000018b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000018c0: 2020 2020 666f 726d 6174 290a 2020 2d67      format).  -g
-000018d0: 2c20 2d2d 6772 6170 6869 6373 2020 2020  , --graphics    
-000018e0: 2020 2020 7265 6472 6177 2027 6027 2d73      redraw '`'-s
-000018f0: 6567 6d65 6e74 7320 616e 6420 275e 272d  egments and '^'-
-00001900: 6172 726f 7768 6561 6473 0a20 202d 702c  arrowheads.  -p,
-00001910: 202d 2d70 7269 6e74 2d66 696c 6520 2020   --print-file   
-00001920: 2020 2061 7420 656e 6420 7072 696e 7420     at end print 
-00001930: 6669 6c65 206f 6e20 7374 646f 7574 0a20  file on stdout. 
-00001940: 202d 7720 4348 4152 535f 5045 525f 4c49   -w CHARS_PER_LI
-00001950: 4e45 2c20 2d2d 6368 6172 732d 7065 722d  NE, --chars-per-
-00001960: 6c69 6e65 2043 4841 5253 5f50 4552 5f4c  line CHARS_PER_L
-00001970: 494e 450a 2020 2020 2020 2020 2020 2020  INE.            
-00001980: 2020 2020 2020 2020 2020 2020 6c69 6e65              line
-00001990: 2077 6964 7468 2069 6e20 6368 6172 6163   width in charac
-000019a0: 7465 7273 2070 6572 206c 696e 6520 2864  ters per line (d
-000019b0: 6566 6175 6c74 3a20 2730 2720 3d0a 2020  efault: '0' =.  
-000019c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000019d0: 2020 2020 2020 6175 746f 6d61 7469 6329        automatic)
-000019e0: 0a20 202d 6c2c 202d 2d6c 6566 742d 6f6e  .  -l, --left-on
-000019f0: 6c79 2020 2020 2020 206a 7573 7469 6679  ly       justify
-00001a00: 2074 6578 7420 6c69 6e65 7320 6174 206c   text lines at l
-00001a10: 6566 7420 6f6e 6c79 2028 6465 6661 756c  eft only (defaul
-00001a20: 743a 2061 7420 6c65 6674 2061 6e64 0a20  t: at left and. 
-00001a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001a40: 2020 2020 2020 2072 6967 6874 290a 2020         right).  
-00001a50: 2d63 2043 4f4e 5445 4e54 535f 5449 544c  -c CONTENTS_TITL
-00001a60: 452c 202d 2d63 6f6e 7465 6e74 732d 7469  E, --contents-ti
-00001a70: 746c 6520 434f 4e54 454e 5453 5f54 4954  tle CONTENTS_TIT
-00001a80: 4c45 0a20 2020 2020 2020 2020 2020 2020  LE.             
-00001a90: 2020 2020 2020 2020 2020 2074 6974 6c65             title
-00001aa0: 206f 6620 636f 6e74 656e 7473 2063 6861   of contents cha
-00001ab0: 7074 6572 2028 6465 6661 756c 743a 2027  pter (default: '
-00001ac0: 636f 6e74 656e 7473 2729 0a20 202d 6920  contents').  -i 
-00001ad0: 494e 4445 585f 5449 544c 452c 202d 2d69  INDEX_TITLE, --i
-00001ae0: 6e64 6578 2d74 6974 6c65 2049 4e44 4558  ndex-title INDEX
-00001af0: 5f54 4954 4c45 0a20 2020 2020 2020 2020  _TITLE.         
-00001b00: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00001b10: 6974 6c65 206f 6620 696e 6465 7820 6368  itle of index ch
-00001b20: 6170 7465 7220 2864 6566 6175 6c74 3a20  apter (default: 
-00001b30: 2769 6e64 6578 2729 0a20 202d 662c 202d  'index').  -f, -
-00001b40: 2d66 6f72 6d2d 6665 6564 2020 2020 2020  -form-feed      
-00001b50: 2069 6e73 6572 7420 7061 6765 2068 6561   insert page hea
-00001b60: 6465 7273 206f 6e20 6675 6c6c 2070 6167  ders on full pag
-00001b70: 650a 2020 2d46 2c20 2d2d 666f 726d 2d66  e.  -F, --form-f
-00001b80: 6565 642d 6368 6170 2020 696e 7365 7274  eed-chap  insert
-00001b90: 2070 6167 6520 6865 6164 6572 7320 6f6e   page headers on
-00001ba0: 2066 756c 6c20 7061 6765 2061 6e64 2062   full page and b
-00001bb0: 6566 6f72 6520 636f 6e74 656e 7473 0a20  efore contents. 
-00001bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001bd0: 2020 2020 2020 2069 6e64 6578 2061 6e64         index and
-00001be0: 206c 6576 656c 2d6f 6e65 2063 6861 7074   level-one chapt
-00001bf0: 6572 730a 2020 2d65 2045 5645 4e5f 4c45  ers.  -e EVEN_LE
-00001c00: 4654 2c20 2d2d 6576 656e 2d6c 6566 7420  FT, --even-left 
-00001c10: 4556 454e 5f4c 4546 540a 2020 2020 2020  EVEN_LEFT.      
-00001c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c30: 2020 6865 6164 6572 7320 6f66 2065 7665    headers of eve
-00001c40: 6e20 7061 6765 732c 206c 6566 7420 2864  n pages, left (d
-00001c50: 6566 6175 6c74 3a20 2725 6e2f 254e 2729  efault: '%n/%N')
-00001c60: 0a20 202d 4520 4556 454e 5f52 4947 4854  .  -E EVEN_RIGHT
-00001c70: 2c20 2d2d 6576 656e 2d72 6967 6874 2045  , --even-right E
-00001c80: 5645 4e5f 5249 4748 540a 2020 2020 2020  VEN_RIGHT.      
-00001c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001ca0: 2020 6865 6164 6572 7320 6f66 2065 7665    headers of eve
-00001cb0: 6e20 7061 6765 732c 2072 6967 6874 2028  n pages, right (
-00001cc0: 6465 6661 756c 743a 2027 2566 2e25 6520  default: '%f.%e 
-00001cd0: 2559 2d25 6d2d 2564 0a20 2020 2020 2020  %Y-%m-%d.       
-00001ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001cf0: 2025 483a 254d 3a25 5327 290a 2020 2d6f   %H:%M:%S').  -o
-00001d00: 204f 4444 5f4c 4546 542c 202d 2d6f 6464   ODD_LEFT, --odd
-00001d10: 2d6c 6566 7420 4f44 445f 4c45 4654 0a20  -left ODD_LEFT. 
-00001d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001d30: 2020 2020 2020 2068 6561 6465 7273 206f         headers o
-00001d40: 6620 6f64 6420 7061 6765 732c 206c 6566  f odd pages, lef
-00001d50: 7420 2864 6566 6175 6c74 3a20 2725 6327  t (default: '%c'
-00001d60: 290a 2020 2d4f 204f 4444 5f52 4947 4854  ).  -O ODD_RIGHT
-00001d70: 2c20 2d2d 6f64 642d 7269 6768 7420 4f44  , --odd-right OD
-00001d80: 445f 5249 4748 540a 2020 2020 2020 2020  D_RIGHT.        
-00001d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001da0: 6865 6164 6572 7320 6f66 206f 6464 2070  headers of odd p
-00001db0: 6167 6573 2c20 7269 6768 7420 2864 6566  ages, right (def
-00001dc0: 6175 6c74 3a20 2725 6e2f 254e 2729 0a20  ault: '%n/%N'). 
-00001dd0: 202d 612c 202d 2d61 6c6c 2d70 6167 6573   -a, --all-pages
-00001de0: 2d45 2d65 2020 2070 7574 2069 6e20 616c  -E-e   put in al
-00001df0: 6c20 7061 6765 2068 6561 6465 7273 202d  l page headers -
-00001e00: 4520 6174 206c 6566 7420 616e 6420 2d65  E at left and -e
-00001e10: 2061 7420 7269 6768 740a 2020 2d50 2046   at right.  -P F
-00001e20: 494c 455f 5044 462c 202d 2d66 696c 652d  ILE_PDF, --file-
-00001e30: 7064 6620 4649 4c45 5f50 4446 0a20 2020  pdf FILE_PDF.   
-00001e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001e50: 2020 2020 2061 7420 656e 6420 6578 706f       at end expo
-00001e60: 7274 2061 6e64 206f 7065 6e20 7468 6973  rt and open this
-00001e70: 2050 4446 2066 696c 6520 2827 3027 203d   PDF file ('0' =
-00001e80: 206e 6f20 6578 706f 7274 2c0a 2020 2020   no export,.    
+00000c70: 9480 e294 80e2 9480 e294 80e2 9480 e294  ................
+00000c80: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
+00000c90: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
+00000ca0: 9480 e294 80e2 9480 e294 80e2 9480 e294  ................
+00000cb0: 80e2 9480 e294 80e2 9480 e294 80e2 9480  ................
+00000cc0: e294 80e2 9480 e294 80e2 9480 e294 80e2  ................
+00000cd0: 9480 e294 980a 0a4d 6169 6e20 6665 6174  .......Main feat
+00000ce0: 7572 6573 2061 7265 3a0a 0a20 2020 20e2  ures are:..    .
+00000cf0: 80a2 2079 6177 7020 2070 726f 6365 7373  .. yawp  process
+00000d00: 6573 2020 696e 2070 6c61 6365 2061 2073  es  in place a s
+00000d10: 696e 676c 6520 7465 7874 2066 696c 652c  ingle text file,
+00000d20: 2068 6572 6569 6e61 6674 6572 2072 6566   hereinafter ref
+00000d30: 6572 7265 6420 746f 0a20 2020 2020 2073  erred to.      s
+00000d40: 696d 706c 7920 6173 2022 7468 6520 6669  imply as "the fi
+00000d50: 6c65 220a 2020 2020 e280 a220 7961 7770  le".    ... yawp
+00000d60: 2020 6265 666f 7265 2020 7072 6f63 6573    before  proces
+00000d70: 7369 6e67 2020 6372 6561 7465 7320 2061  sing  creates  a
+00000d80: 2020 7469 6d65 7374 616d 7065 6420 6261    timestamped ba
+00000d90: 636b 7570 206f 6620 7468 6520 6669 6c65  ckup of the file
+00000da0: 2c0a 2020 2020 2020 616c 6c6f 7769 6e67  ,.      allowing
+00000db0: 2075 6e64 6f20 6f70 6572 6174 696f 6e0a   undo operation.
+00000dc0: 2020 2020 e280 a220 7961 7770 2020 7072      ... yawp  pr
+00000dd0: 6f63 6573 7369 6e67 2020 6973 2020 6472  ocessing  is  dr
+00000de0: 6976 656e 2062 7920 7468 6520 7465 7874  iven by the text
+00000df0: 2069 6e20 7468 6520 6669 6c65 2061 6e64   in the file and
+00000e00: 2062 7920 6172 6775 6d65 6e74 730a 2020   by arguments.  
+00000e10: 2020 2020 6f6e 6c79 2c20 6e6f 7420 6279      only, not by
+00000e20: 2063 6f6d 6d61 6e64 7320 6f72 2074 6167   commands or tag
+00000e30: 7320 656d 6265 6464 6564 2069 6e20 7465  s embedded in te
+00000e40: 7874 0a20 2020 20e2 80a2 2079 6177 7020  xt.    ... yawp 
+00000e50: 6a75 7374 6966 6965 7320 7465 7874 2061  justifies text a
+00000e60: 7420 6c65 6674 2061 6e64 2072 6967 6874  t left and right
+00000e70: 2069 6e3a 0a20 2020 2020 2020 20e2 80a2   in:.        ...
+00000e80: 2075 6e69 6e64 656e 7465 6420 7061 7261   unindented para
+00000e90: 6772 6170 6873 0a20 2020 2020 2020 20e2  graphs.        .
+00000ea0: 80a2 2064 6f74 2d6d 6172 6b65 6420 696e  .. dot-marked in
+00000eb0: 6465 6e74 6564 2070 6172 6167 7261 7068  dented paragraph
+00000ec0: 7320 2861 7320 7468 6973 206f 6e65 290a  s (as this one).
+00000ed0: 2020 2020 e280 a220 7961 7770 2020 6163      ... yawp  ac
+00000ee0: 6365 7074 7320 2075 6e6a 7573 7469 6669  cepts  unjustifi
+00000ef0: 6564 2020 7069 6374 7572 6573 2020 2861  ed  pictures  (a
+00000f00: 7320 2073 6368 656d 6173 2c20 2074 6162  s  schemas,  tab
+00000f10: 6c65 7320 2061 6e64 2063 6f64 650a 2020  les  and code.  
+00000f20: 2020 2020 6578 616d 706c 6573 2920 6672      examples) fr
+00000f30: 6565 6c79 2069 6e74 6572 6d69 7865 6420  eely intermixed 
+00000f40: 7769 7468 2074 6578 740a 2020 2020 e280  with text.    ..
+00000f50: a220 7961 7770 2020 6164 6f70 7473 2020  . yawp  adopts  
+00000f60: 616e 2020 6164 2020 686f 6320 2070 6f6c  an  ad  hoc  pol
+00000f70: 6963 7920 2066 6f72 2020 5079 7468 6f6e  icy  for  Python
+00000f80: 2020 6669 6c65 732c 2066 6f72 6d61 7474    files, formatt
+00000f90: 696e 6720 7468 650a 2020 2020 2020 646f  ing the.      do
+00000fa0: 6373 7472 696e 6773 2062 7574 206e 6f74  cstrings but not
+00000fb0: 2074 6865 2050 7974 686f 6e20 636f 6465   the Python code
+00000fc0: 0a20 2020 20e2 80a2 2079 6177 7020 2070  .    ... yawp  p
+00000fd0: 6572 666f 726d 7320 2061 7574 6f6d 6174  erforms  automat
+00000fe0: 6963 2020 6d75 6c74 692d 6c65 7665 6c20  ic  multi-level 
+00000ff0: 2072 656e 756d 6265 7269 6e67 2020 6f66   renumbering  of
+00001000: 2020 6368 6170 7465 7273 2061 6e64 0a20    chapters and. 
+00001010: 2020 2020 2069 6e73 6572 7473 2061 6e20       inserts an 
+00001020: 6175 746f 6d61 7469 6320 636f 6e74 656e  automatic conten
+00001030: 7473 2063 6861 7074 6572 2069 6e20 7468  ts chapter in th
+00001040: 6520 6669 6c65 0a20 2020 20e2 80a2 2079  e file.    ... y
+00001050: 6177 7020 7065 7266 6f72 6d73 2061 7574  awp performs aut
+00001060: 6f6d 6174 6963 2072 656e 756d 6265 7269  omatic renumberi
+00001070: 6e67 206f 6620 6669 6775 7265 2063 6170  ng of figure cap
+00001080: 7469 6f6e 7320 616e 6420 696e 7365 7274  tions and insert
+00001090: 7320 616e 0a20 2020 2020 2061 7574 6f6d  s an.      autom
+000010a0: 6174 6963 2066 6967 7572 6573 2063 6861  atic figures cha
+000010b0: 7074 6572 2069 6e20 7468 6520 6669 6c65  pter in the file
+000010c0: 0a20 2020 20e2 80a2 2079 6177 7020 2072  .    ... yawp  r
+000010d0: 6563 6f67 6e69 7a65 7320 2072 656c 6576  ecognizes  relev
+000010e0: 616e 7420 2073 7562 6a65 6374 7320 2028  ant  subjects  (
+000010f0: 7175 6f74 6564 2020 6279 2027 2227 2920  quoted  by '"') 
+00001100: 616e 6420 696e 7365 7274 7320 616e 0a20  and inserts an. 
+00001110: 2020 2020 2061 7574 6f6d 6174 6963 2069       automatic i
+00001120: 6e64 6578 2063 6861 7074 6572 2069 6e20  ndex chapter in 
+00001130: 7468 6520 6669 6c65 0a20 2020 20e2 80a2  the file.    ...
+00001140: 2079 6177 7020 6375 7473 2074 6865 2066   yawp cuts the f
+00001150: 696c 6520 696e 2070 6167 6573 2c20 6279  ile in pages, by
+00001160: 2069 6e73 6572 7469 6e67 2032 2d6c 696e   inserting 2-lin
+00001170: 6573 2070 6167 6520 6865 6164 6572 730a  es page headers.
+00001180: 2020 2020 e280 a220 7961 7770 2020 616c      ... yawp  al
+00001190: 736f 2068 6173 2073 6f6d 6520 6c69 6d69  so has some limi
+000011a0: 7465 6420 6772 6170 6869 6320 6665 6174  ted graphic feat
+000011b0: 7572 6573 2c20 796f 7520 6361 6e20 736b  ures, you can sk
+000011c0: 6574 6368 2070 6963 7475 7265 730a 2020  etch pictures.  
+000011d0: 2020 2020 7769 7468 2020 7365 676d 656e      with  segmen
+000011e0: 7473 2028 6279 2027 6027 2920 616e 6420  ts (by '`') and 
+000011f0: 6172 726f 7768 6561 6473 2028 6279 2027  arrowheads (by '
+00001200: 5e27 292c 2079 6177 7020 7265 6472 6177  ^'), yawp redraw
+00001210: 7320 7468 656d 2062 790a 2020 2020 2020  s them by.      
+00001220: 7375 6974 6162 6c65 2067 7261 7068 6963  suitable graphic
+00001230: 2063 6861 7261 6374 6572 7320 2861 7320   characters (as 
+00001240: 696e 2046 6967 7572 6520 6162 6f76 6529  in Figure above)
+00001250: 0a20 2020 20e2 80a2 2079 6177 7020 2065  .    ... yawp  e
+00001260: 7870 6f72 7473 2020 7468 6520 2072 6573  xports  the  res
+00001270: 756c 7469 6e67 2020 6c69 6e65 7320 696e  ulting  lines in
+00001280: 2050 4446 2066 6f72 6d61 742c 2077 6974   PDF format, wit
+00001290: 6820 636f 6e74 726f 6c20 6f76 6572 0a20  h control over. 
+000012a0: 2020 2020 2063 6861 7261 6374 6572 2020       character  
+000012b0: 7369 7a65 2020 616e 6420 7061 6765 206c  size  and page l
+000012c0: 6179 6f75 742c 2061 6e64 206c 6574 7320  ayout, and lets 
+000012d0: 796f 7520 7669 6577 2074 6865 2067 656e  you view the gen
+000012e0: 6572 6174 6564 2050 4446 0a20 2020 2020  erated PDF.     
+000012f0: 2066 696c 6520 666f 7220 6368 6563 6b20   file for check 
+00001300: 6f72 2070 7269 6e74 0a20 2020 20e2 80a2  or print.    ...
+00001310: 2079 6177 7020 2063 6f72 7265 6374 7320   yawp  corrects 
+00001320: 2065 7272 6f72 7320 206d 6164 6520 2062   errors  made  b
+00001330: 7920 2043 5550 532d 5044 4620 2061 626f  y  CUPS-PDF  abo
+00001340: 7574 2020 666f 6e74 2073 697a 6520 616e  ut  font size an
+00001350: 6420 7061 6765 0a20 2020 2020 206d 6172  d page.      mar
+00001360: 6769 6e73 2c20 796f 7520 6361 6e20 7573  gins, you can us
+00001370: 6520 6465 6661 756c 7420 636f 7272 6563  e default correc
+00001380: 7469 6f6e 7320 6f72 2072 6564 6566 696e  tions or redefin
+00001390: 6520 7468 656d 2062 7920 7961 7770 2e63  e them by yawp.c
+000013a0: 6667 0a20 2020 20e2 80a2 2079 6177 7020  fg.    ... yawp 
+000013b0: 6973 2022 7374 6162 6c65 222c 206e 616d  is "stable", nam
+000013c0: 656c 7920 6966 2061 6674 6572 2061 2079  ely if after a y
+000013d0: 6177 7020 6578 6563 7574 696f 6e20 796f  awp execution yo
+000013e0: 7520 7275 6e20 7961 7770 2061 6761 696e  u run yawp again
+000013f0: 0a20 2020 2020 206f 6e20 2074 6865 2020  .      on  the  
+00001400: 7361 6d65 2020 6669 6c65 2077 6974 6820  same  file with 
+00001410: 7468 6520 7361 6d65 2061 7267 756d 656e  the same argumen
+00001420: 7473 2c20 7468 6520 6669 6c65 2063 6f6e  ts, the file con
+00001430: 7465 6e74 2064 6f65 736e 2774 0a20 2020  tent doesn't.   
+00001440: 2020 2063 6861 6e67 650a 0a42 656c 6965     change..Belie
+00001450: 7665 2069 7420 6f72 206e 6f74 2c20 6576  ve it or not, ev
+00001460: 6572 7974 6869 6e67 2068 6173 2062 6565  erything has bee
+00001470: 6e20 6b65 7074 2061 7320 7369 6d70 6c65  n kept as simple
+00001480: 2061 7320 706f 7373 6962 6c65 2e0a 0a41   as possible...A
+00001490: 7320 2061 6e20 2065 7861 6d70 6c65 2c20  s  an  example, 
+000014a0: 7468 6520 5961 7770 204d 616e 7561 6c20  the Yawp Manual 
+000014b0: 6861 7320 6265 656e 2063 7265 6174 6564  has been created
+000014c0: 2061 7320 7961 7770 2e70 6466 2066 726f   as yawp.pdf fro
+000014d0: 6d20 7961 7770 2e74 7874 0a62 7920 7479  m yawp.txt.by ty
+000014e0: 7069 6e67 3a0a 0a20 2020 20e2 9482 2024  ping:..    ... $
+000014f0: 2079 6177 7020 2d76 202d 7720 3830 202d   yawp -v -w 80 -
+00001500: 4a20 2d45 2027 5961 7770 2030 2e37 2e31  J -E 'Yawp 0.7.1
+00001510: 204d 616e 7561 6c27 202d 5820 7961 7770   Manual' -X yawp
+00001520: 2e74 7874 0a0a 496e 206f 7264 6572 2074  .txt..In order t
+00001530: 6f20 696e 7374 616c 6c20 7961 7770 2c20  o install yawp, 
+00001540: 7479 7065 3a0a 0a20 2020 20e2 9482 2024  type:..    ... $
+00001550: 2073 7564 6f20 6170 742d 6765 7420 2d79   sudo apt-get -y
+00001560: 2075 7064 6174 650a 2020 2020 e294 8220   update.    ... 
+00001570: 2420 7375 646f 2061 7074 2d67 6574 202d  $ sudo apt-get -
+00001580: 7920 696e 7374 616c 6c20 7072 696e 7465  y install printe
+00001590: 722d 6472 6976 6572 2d63 7570 732d 7064  r-driver-cups-pd
+000015a0: 660a 0a49 6620 796f 7520 646f 6e27 7420  f..If you don't 
+000015b0: 6861 7665 2070 6970 2c20 7479 7065 3a0a  have pip, type:.
+000015c0: 0a20 2020 20e2 9482 2024 2073 7564 6f20  .    ... $ sudo 
+000015d0: 6170 742d 6765 7420 2d79 2069 6e73 7461  apt-get -y insta
+000015e0: 6c6c 2070 7974 686f 6e33 2d70 6970 0a0a  ll python3-pip..
+000015f0: 4966 2079 6f75 2074 7970 6520 6174 2074  If you type at t
+00001600: 6572 6d69 6e61 6c3a 0a0a 2020 2020 e294  erminal:..    ..
+00001610: 8220 2420 7069 7033 2069 6e73 7461 6c6c  . $ pip3 install
+00001620: 202d 2d75 7067 7261 6465 2079 6177 700a   --upgrade yawp.
+00001630: 0a74 6869 7320 636f 6d6d 616e 6420 7769  .this command wi
+00001640: 6c6c 3a0a 0a20 2020 20e2 80a2 2069 6e73  ll:..    ... ins
+00001650: 7461 6c6c 2063 7572 7265 6e74 2076 6572  tall current ver
+00001660: 7369 6f6e 206f 6620 7961 7770 2069 6620  sion of yawp if 
+00001670: 6e6f 7420 7072 6573 656e 740a 2020 2020  not present.    
+00001680: e280 a220 7570 6772 6164 6520 7961 7770  ... upgrade yawp
+00001690: 2074 6f20 7468 6520 6375 7272 656e 7420   to the current 
+000016a0: 7665 7273 696f 6e20 6966 2061 6c72 6561  version if alrea
+000016b0: 6479 2069 6e73 7461 6c6c 6564 0a0a 4966  dy installed..If
+000016c0: 2079 6f75 2073 6565 2061 206d 6573 7361   you see a messa
+000016d0: 6765 206c 696b 6520 7468 6973 3a0a 0a20  ge like this:.. 
+000016e0: 2020 20e2 9482 2057 4152 4e49 4e47 3a20     ... WARNING: 
+000016f0: 5468 6520 7363 7269 7074 2079 6177 7020  The script yawp 
+00001700: 6973 2069 6e73 7461 6c6c 6564 2069 6e20  is installed in 
+00001710: 2e2e 2e20 7768 6963 6820 6973 206e 6f74  ... which is not
+00001720: 206f 6e20 5041 5448 2e0a 0a64 6f6e 2774   on PATH...don't
+00001730: 2077 6f72 7279 2c20 6120 7265 626f 6f74   worry, a reboot
+00001740: 2073 686f 756c 6420 6669 7820 7468 6520   should fix the 
+00001750: 7072 6f62 6c65 6d2e 0a0a 496e 2020 6f72  problem...In  or
+00001760: 6465 7220 2074 6f20 7573 6520 7961 7770  der  to use yawp
+00001770: 2c20 796f 7520 6e65 6564 2074 6f20 6b6e  , you need to kn
+00001780: 6f77 2068 6f77 2069 7420 776f 726b 732e  ow how it works.
+00001790: 2046 6f72 2061 6e79 2064 6574 6169 6c2c   For any detail,
+000017a0: 2076 6965 770a 7468 6520 7961 7770 2d67   view.the yawp-g
+000017b0: 656e 6572 6174 6564 2059 6177 7020 4d61  enerated Yawp Ma
+000017c0: 6e75 616c 2062 7920 7479 7069 6e67 3a0a  nual by typing:.
+000017d0: 0a20 2020 20e2 9482 2024 2079 6177 7020  .    ... $ yawp 
+000017e0: 2d48 0a0a 706f 7369 7469 6f6e 616c 2061  -H..positional a
+000017f0: 7267 756d 656e 7473 3a0a 2020 6669 6c65  rguments:.  file
+00001800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001810: 2020 7465 7874 2066 696c 6520 746f 2062    text file to b
+00001820: 6520 7072 6f63 6573 7365 640a 0a6f 7074  e processed..opt
+00001830: 696f 6e61 6c20 6172 6775 6d65 6e74 733a  ional arguments:
+00001840: 0a20 202d 682c 202d 2d68 656c 7020 2020  .  -h, --help   
+00001850: 2020 2020 2020 2020 2073 686f 7720 7468           show th
+00001860: 6973 2068 656c 7020 6d65 7373 6167 6520  is help message 
+00001870: 616e 6420 6578 6974 0a20 202d 482c 202d  and exit.  -H, -
+00001880: 2d6d 616e 7561 6c20 2020 2020 2020 2020  -manual         
+00001890: 2076 6965 7720 7961 7770 2d67 656e 6572   view yawp-gener
+000018a0: 6174 6564 2050 4446 2059 6177 7020 4d61  ated PDF Yawp Ma
+000018b0: 6e75 616c 2061 6e64 2065 7869 740a 2020  nual and exit.  
+000018c0: 2d56 2c20 2d2d 7665 7273 696f 6e20 2020  -V, --version   
+000018d0: 2020 2020 2020 7368 6f77 2070 726f 6772        show progr
+000018e0: 616d 2773 2076 6572 7369 6f6e 206e 756d  am's version num
+000018f0: 6265 7220 616e 6420 6578 6974 0a20 202d  ber and exit.  -
+00001900: 762c 202d 2d76 6572 626f 7365 2020 2020  v, --verbose    
+00001910: 2020 2020 2064 6973 706c 6179 2069 6e66       display inf
+00001920: 6f72 6d61 7469 6f6e 2061 6e64 2077 6172  ormation and war
+00001930: 6e69 6e67 206d 6573 7361 6765 7320 6f6e  ning messages on
+00001940: 2073 7464 6572 720a 2020 2d4e 2c20 2d2d   stderr.  -N, --
+00001950: 6e6f 2d66 6f72 6d61 7420 2020 2020 2020  no-format       
+00001960: 7275 6e20 696e 206e 6f2d 666f 726d 6174  run in no-format
+00001970: 206d 6f64 6520 2864 6566 6175 6c74 3a20   mode (default: 
+00001980: 7275 6e20 696e 2066 6f72 6d61 7420 6d6f  run in format mo
+00001990: 6465 290a 2020 2d55 2c20 2d2d 756e 646f  de).  -U, --undo
+000019a0: 2020 2020 2020 2020 2020 2020 7275 6e20              run 
+000019b0: 696e 2075 6e64 6f20 6d6f 6465 2028 6465  in undo mode (de
+000019c0: 6661 756c 743a 2072 756e 2069 6e20 666f  fault: run in fo
+000019d0: 726d 6174 206d 6f64 6529 0a20 202d 672c  rmat mode).  -g,
+000019e0: 202d 2d67 7261 7068 6963 7320 2020 2020   --graphics     
+000019f0: 2020 2072 6564 7261 7720 2760 272d 7365     redraw '`'-se
+00001a00: 676d 656e 7473 2061 6e64 2027 5e27 2d61  gments and '^'-a
+00001a10: 7272 6f77 6865 6164 730a 2020 2d77 2043  rrowheads.  -w C
+00001a20: 4841 5253 5f50 4552 5f4c 494e 452c 202d  HARS_PER_LINE, -
+00001a30: 2d63 6861 7273 2d70 6572 2d6c 696e 6520  -chars-per-line 
+00001a40: 4348 4152 535f 5045 525f 4c49 4e45 0a20  CHARS_PER_LINE. 
+00001a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a60: 2020 2020 2020 206c 696e 6520 7769 6474         line widt
+00001a70: 6820 696e 2063 6861 7261 6374 6572 7320  h in characters 
+00001a80: 7065 7220 6c69 6e65 2028 6465 6661 756c  per line (defaul
+00001a90: 743a 2027 3027 203d 0a20 2020 2020 2020  t: '0' =.       
+00001aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ab0: 2061 7574 6f6d 6174 6963 290a 2020 2d6c   automatic).  -l
+00001ac0: 2c20 2d2d 6c65 6674 2d6f 6e6c 7920 2020  , --left-only   
+00001ad0: 2020 2020 6a75 7374 6966 7920 7465 7874      justify text
+00001ae0: 206c 696e 6573 2061 7420 6c65 6674 206f   lines at left o
+00001af0: 6e6c 7920 2864 6566 6175 6c74 3a20 6174  nly (default: at
+00001b00: 206c 6566 7420 616e 640a 2020 2020 2020   left and.      
+00001b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b20: 2020 7269 6768 7429 0a20 202d 6320 434f    right).  -c CO
+00001b30: 4e54 454e 5453 5f54 4954 4c45 2c20 2d2d  NTENTS_TITLE, --
+00001b40: 636f 6e74 656e 7473 2d74 6974 6c65 2043  contents-title C
+00001b50: 4f4e 5445 4e54 535f 5449 544c 450a 2020  ONTENTS_TITLE.  
+00001b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b70: 2020 2020 2020 7469 746c 6520 6f66 2063        title of c
+00001b80: 6f6e 7465 6e74 7320 6368 6170 7465 7220  ontents chapter 
+00001b90: 2864 6566 6175 6c74 3a20 2763 6f6e 7465  (default: 'conte
+00001ba0: 6e74 7327 290a 2020 2d66 2046 4947 5552  nts').  -f FIGUR
+00001bb0: 4553 5f54 4954 4c45 2c20 2d2d 6669 6775  ES_TITLE, --figu
+00001bc0: 7265 732d 7469 746c 6520 4649 4755 5245  res-title FIGURE
+00001bd0: 535f 5449 544c 450a 2020 2020 2020 2020  S_TITLE.        
+00001be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001bf0: 7469 746c 6520 6f66 2066 6967 7572 6573  title of figures
+00001c00: 2063 6861 7074 6572 2028 6465 6661 756c   chapter (defaul
+00001c10: 743a 2027 6669 6775 7265 7327 290a 2020  t: 'figures').  
+00001c20: 2d46 2043 4150 5449 4f4e 5f50 5245 4649  -F CAPTION_PREFI
+00001c30: 582c 202d 2d63 6170 7469 6f6e 2d70 7265  X, --caption-pre
+00001c40: 6669 7820 4341 5054 494f 4e5f 5052 4546  fix CAPTION_PREF
+00001c50: 4958 0a20 2020 2020 2020 2020 2020 2020  IX.             
+00001c60: 2020 2020 2020 2020 2020 2066 6972 7374             first
+00001c70: 2077 6f72 6420 6f66 2066 6967 7572 6520   word of figure 
+00001c80: 6361 7074 696f 6e73 2028 6465 6661 756c  captions (defaul
+00001c90: 743a 2027 6669 6775 7265 2729 0a20 202d  t: 'figure').  -
+00001ca0: 6920 494e 4445 585f 5449 544c 452c 202d  i INDEX_TITLE, -
+00001cb0: 2d69 6e64 6578 2d74 6974 6c65 2049 4e44  -index-title IND
+00001cc0: 4558 5f54 4954 4c45 0a20 2020 2020 2020  EX_TITLE.       
+00001cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ce0: 2074 6974 6c65 206f 6620 696e 6465 7820   title of index 
+00001cf0: 6368 6170 7465 7220 2864 6566 6175 6c74  chapter (default
+00001d00: 3a20 2769 6e64 6578 2729 0a20 202d 6a2c  : 'index').  -j,
+00001d10: 202d 2d65 6a65 6374 2020 2020 2020 2020   --eject        
+00001d20: 2020 2069 6e73 6572 7420 7061 6765 2068     insert page h
+00001d30: 6561 6465 7273 206f 6e20 6675 6c6c 2070  eaders on full p
+00001d40: 6167 650a 2020 2d4a 2c20 2d2d 656a 6563  age.  -J, --ejec
+00001d50: 742d 7069 6374 2d63 6861 700a 2020 2020  t-pict-chap.    
+00001d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d70: 2020 2020 696e 7365 7274 2070 6167 6520      insert page 
+00001d80: 6865 6164 6572 7320 6f6e 2066 756c 6c20  headers on full 
+00001d90: 7061 6765 2c20 6f6e 2062 726f 6b65 6e20  page, on broken 
+00001da0: 7069 6374 7572 652c 0a20 2020 2020 2020  picture,.       
+00001db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001dc0: 2061 6e64 2062 6566 6f72 6520 6c65 7665   and before leve
+00001dd0: 6c2d 312f 636f 6e74 656e 7473 2f66 6967  l-1/contents/fig
+00001de0: 7572 6573 2f69 6e64 6578 2063 6861 7074  ures/index chapt
+00001df0: 6572 730a 2020 2d65 2045 5645 4e5f 4c45  ers.  -e EVEN_LE
+00001e00: 4654 2c20 2d2d 6576 656e 2d6c 6566 7420  FT, --even-left 
+00001e10: 4556 454e 5f4c 4546 540a 2020 2020 2020  EVEN_LEFT.      
+00001e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e30: 2020 6865 6164 6572 7320 6f66 2065 7665    headers of eve
+00001e40: 6e20 7061 6765 732c 206c 6566 7420 2864  n pages, left (d
+00001e50: 6566 6175 6c74 3a20 2725 6e2f 254e 2729  efault: '%n/%N')
+00001e60: 0a20 202d 4520 4556 454e 5f52 4947 4854  .  -E EVEN_RIGHT
+00001e70: 2c20 2d2d 6576 656e 2d72 6967 6874 2045  , --even-right E
+00001e80: 5645 4e5f 5249 4748 540a 2020 2020 2020  VEN_RIGHT.      
 00001e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001ea0: 2020 2020 6465 6661 756c 743a 2027 2550      default: '%P
-00001eb0: 2f25 662e 7064 6627 290a 2020 2d57 2043  /%f.pdf').  -W C
-00001ec0: 4841 525f 5749 4454 482c 202d 2d63 6861  HAR_WIDTH, --cha
-00001ed0: 722d 7769 6474 6820 4348 4152 5f57 4944  r-width CHAR_WID
-00001ee0: 5448 0a20 2020 2020 2020 2020 2020 2020  TH.             
-00001ef0: 2020 2020 2020 2020 2020 2063 6861 7261             chara
-00001f00: 6374 6572 2077 6964 7468 2028 7074 2f69  cter width (pt/i
-00001f10: 6e2f 6d6d 2f63 6d2c 2064 6566 6175 6c74  n/mm/cm, default
-00001f20: 3a20 2730 2720 3d0a 2020 2020 2020 2020  : '0' =.        
-00001f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001f40: 6175 746f 6d61 7469 6329 0a20 202d 4120  automatic).  -A 
-00001f50: 4348 4152 5f41 5350 4543 542c 202d 2d63  CHAR_ASPECT, --c
-00001f60: 6861 722d 6173 7065 6374 2043 4841 525f  har-aspect CHAR_
-00001f70: 4153 5045 4354 0a20 2020 2020 2020 2020  ASPECT.         
-00001f80: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00001f90: 6861 7261 6374 6572 2061 7370 6563 7420  haracter aspect 
-00001fa0: 7261 7469 6f20 3d20 6368 6172 2077 6964  ratio = char wid
-00001fb0: 7468 202f 2063 6861 7220 6865 6967 6874  th / char height
-00001fc0: 2028 2731 270a 2020 2020 2020 2020 2020   ('1'.          
-00001fd0: 2020 2020 2020 2020 2020 2020 2020 3d20                = 
-00001fe0: 7371 7561 7265 2067 7269 642c 2064 6566  square grid, def
-00001ff0: 6175 6c74 3a20 2733 2f35 2729 0a20 202d  ault: '3/5').  -
-00002000: 5320 5041 5045 525f 5349 5a45 2c20 2d2d  S PAPER_SIZE, --
-00002010: 7061 7065 722d 7369 7a65 2050 4150 4552  paper-size PAPER
-00002020: 5f53 495a 450a 2020 2020 2020 2020 2020  _SIZE.          
-00002030: 2020 2020 2020 2020 2020 2020 2020 706f                po
-00002040: 7274 7261 6974 2070 6170 6572 2073 697a  rtrait paper siz
-00002050: 6520 2877 6964 7468 2078 2068 6569 6768  e (width x heigh
-00002060: 742c 2070 742f 696e 2f6d 6d2f 636d 2c0a  t, pt/in/mm/cm,.
-00002070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002080: 2020 2020 2020 2020 6465 6661 756c 743a          default:
-00002090: 2027 4134 2720 3d20 2732 3130 7832 3937   'A4' = '210x297
-000020a0: 6d6d 270a 2020 2d5a 2c20 2d2d 6c61 6e64  mm'.  -Z, --land
-000020b0: 7363 6170 6520 2020 2020 2020 7475 726e  scape       turn
-000020c0: 2070 6167 6520 6279 2039 3020 6465 6772   page by 90 degr
-000020d0: 6565 7320 2864 6566 6175 6c74 3a20 706f  ees (default: po
-000020e0: 7274 7261 6974 290a 2020 2d4c 204c 4546  rtrait).  -L LEF
-000020f0: 545f 4d41 5247 494e 2c20 2d2d 6c65 6674  T_MARGIN, --left
-00002100: 2d6d 6172 6769 6e20 4c45 4654 5f4d 4152  -margin LEFT_MAR
-00002110: 4749 4e0a 2020 2020 2020 2020 2020 2020  GIN.            
-00002120: 2020 2020 2020 2020 2020 2020 6c65 6674              left
-00002130: 206d 6172 6769 6e20 2870 742f 696e 2f6d   margin (pt/in/m
-00002140: 6d2f 636d 2c20 6465 6661 756c 743a 2027  m/cm, default: '
-00002150: 3263 6d27 290a 2020 2d52 2052 4947 4854  2cm').  -R RIGHT
-00002160: 5f4d 4152 4749 4e2c 202d 2d72 6967 6874  _MARGIN, --right
-00002170: 2d6d 6172 6769 6e20 5249 4748 545f 4d41  -margin RIGHT_MA
-00002180: 5247 494e 0a20 2020 2020 2020 2020 2020  RGIN.           
-00002190: 2020 2020 2020 2020 2020 2020 2072 6967               rig
-000021a0: 6874 206d 6172 6769 6e20 2870 742f 696e  ht margin (pt/in
-000021b0: 2f6d 6d2f 636d 2c20 6465 6661 756c 743a  /mm/cm, default:
-000021c0: 2027 2d4c 2729 0a20 202d 5420 544f 505f   '-L').  -T TOP_
-000021d0: 4d41 5247 494e 2c20 2d2d 746f 702d 6d61  MARGIN, --top-ma
-000021e0: 7267 696e 2054 4f50 5f4d 4152 4749 4e0a  rgin TOP_MARGIN.
-000021f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002200: 2020 2020 2020 2020 746f 7020 6d61 7267          top marg
-00002210: 696e 2028 7074 2f69 6e2f 6d6d 2f63 6d2c  in (pt/in/mm/cm,
-00002220: 2064 6566 6175 6c74 3a20 2732 636d 2729   default: '2cm')
-00002230: 0a20 202d 4220 424f 5454 4f4d 5f4d 4152  .  -B BOTTOM_MAR
-00002240: 4749 4e2c 202d 2d62 6f74 746f 6d2d 6d61  GIN, --bottom-ma
-00002250: 7267 696e 2042 4f54 544f 4d5f 4d41 5247  rgin BOTTOM_MARG
-00002260: 494e 0a20 2020 2020 2020 2020 2020 2020  IN.             
-00002270: 2020 2020 2020 2020 2020 2062 6f74 746f             botto
-00002280: 6d20 6d61 7267 696e 2028 7074 2f69 6e2f  m margin (pt/in/
-00002290: 6d6d 2f63 6d2c 2064 6566 6175 6c74 3a20  mm/cm, default: 
-000022a0: 272d 5427 290a 2020 2d43 2c20 2d2d 6361  '-T').  -C, --ca
-000022b0: 6c69 6272 6174 696f 6e20 2020 2020 646f  libration     do
-000022c0: 6e27 7420 636f 7272 6563 7420 6368 6172  n't correct char
-000022d0: 6163 7465 7220 7369 7a65 2061 6e64 2070  acter size and p
-000022e0: 6167 6520 6d61 7267 696e 730a 6060 600a  age margins.```.
+00001ea0: 2020 6865 6164 6572 7320 6f66 2065 7665    headers of eve
+00001eb0: 6e20 7061 6765 732c 2072 6967 6874 2028  n pages, right (
+00001ec0: 6465 6661 756c 743a 2027 2566 2e25 6520  default: '%f.%e 
+00001ed0: 2559 2d25 6d2d 2564 0a20 2020 2020 2020  %Y-%m-%d.       
+00001ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ef0: 2025 483a 254d 3a25 5327 290a 2020 2d6f   %H:%M:%S').  -o
+00001f00: 204f 4444 5f4c 4546 542c 202d 2d6f 6464   ODD_LEFT, --odd
+00001f10: 2d6c 6566 7420 4f44 445f 4c45 4654 0a20  -left ODD_LEFT. 
+00001f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f30: 2020 2020 2020 2068 6561 6465 7273 206f         headers o
+00001f40: 6620 6f64 6420 7061 6765 732c 206c 6566  f odd pages, lef
+00001f50: 7420 2864 6566 6175 6c74 3a20 2725 6327  t (default: '%c'
+00001f60: 290a 2020 2d4f 204f 4444 5f52 4947 4854  ).  -O ODD_RIGHT
+00001f70: 2c20 2d2d 6f64 642d 7269 6768 7420 4f44  , --odd-right OD
+00001f80: 445f 5249 4748 540a 2020 2020 2020 2020  D_RIGHT.        
+00001f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001fa0: 6865 6164 6572 7320 6f66 206f 6464 2070  headers of odd p
+00001fb0: 6167 6573 2c20 7269 6768 7420 2864 6566  ages, right (def
+00001fc0: 6175 6c74 3a20 2725 6e2f 254e 2729 0a20  ault: '%n/%N'). 
+00001fd0: 202d 612c 202d 2d61 6c6c 2d70 6167 6573   -a, --all-pages
+00001fe0: 2d45 2d65 2020 2070 7574 2069 6e20 616c  -E-e   put in al
+00001ff0: 6c20 7061 6765 2068 6561 6465 7273 202d  l page headers -
+00002000: 4520 6174 206c 6566 7420 616e 6420 2d65  E at left and -e
+00002010: 2061 7420 7269 6768 740a 2020 2d58 2c20   at right.  -X, 
+00002020: 2d2d 6578 706f 7274 2d76 6965 772d 7064  --export-view-pd
+00002030: 660a 2020 2020 2020 2020 2020 2020 2020  f.              
+00002040: 2020 2020 2020 2020 2020 6174 2065 6e64            at end
+00002050: 2065 7870 6f72 7420 616e 6420 7669 6577   export and view
+00002060: 2050 4446 2066 696c 650a 2020 2d59 2056   PDF file.  -Y V
+00002070: 4945 575f 5044 465f 4259 2c20 2d2d 7669  IEW_PDF_BY, --vi
+00002080: 6577 2d70 6466 2d62 7920 5649 4557 5f50  ew-pdf-by VIEW_P
+00002090: 4446 5f42 590a 2020 2020 2020 2020 2020  DF_BY.          
+000020a0: 2020 2020 2020 2020 2020 2020 2020 7669                vi
+000020b0: 6577 6572 2066 6f72 2074 6865 2065 7870  ewer for the exp
+000020c0: 6f72 7465 6420 5044 4620 6669 6c65 2028  orted PDF file (
+000020d0: 6465 6661 756c 743a 2027 7864 672d 6f70  default: 'xdg-op
+000020e0: 656e 2729 0a20 202d 5020 4649 4c45 5f50  en').  -P FILE_P
+000020f0: 4446 2c20 2d2d 6669 6c65 2d70 6466 2046  DF, --file-pdf F
+00002100: 494c 455f 5044 460a 2020 2020 2020 2020  ILE_PDF.        
+00002110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002120: 6578 706f 7274 6564 2050 4446 2066 696c  exported PDF fil
+00002130: 6520 2864 6566 6175 6c74 3a20 2725 502f  e (default: '%P/
+00002140: 2566 2e70 6466 2729 0a20 202d 5720 4348  %f.pdf').  -W CH
+00002150: 4152 5f57 4944 5448 2c20 2d2d 6368 6172  AR_WIDTH, --char
+00002160: 2d77 6964 7468 2043 4841 525f 5749 4454  -width CHAR_WIDT
+00002170: 480a 2020 2020 2020 2020 2020 2020 2020  H.              
+00002180: 2020 2020 2020 2020 2020 6368 6172 6163            charac
+00002190: 7465 7220 7769 6474 6820 2864 6566 6175  ter width (defau
+000021a0: 6c74 3a20 2730 2720 3d20 6175 746f 6d61  lt: '0' = automa
+000021b0: 7469 632c 2075 6e69 743a 0a20 2020 2020  tic, unit:.     
+000021c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000021d0: 2020 2070 742f 696e 2f6d 6d2f 636d 290a     pt/in/mm/cm).
+000021e0: 2020 2d41 2043 4841 525f 4153 5045 4354    -A CHAR_ASPECT
+000021f0: 2c20 2d2d 6368 6172 2d61 7370 6563 7420  , --char-aspect 
+00002200: 4348 4152 5f41 5350 4543 540a 2020 2020  CHAR_ASPECT.    
+00002210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002220: 2020 2020 6368 6172 6163 7465 7220 6173      character as
+00002230: 7065 6374 2072 6174 696f 203d 2063 6861  pect ratio = cha
+00002240: 7220 7769 6474 6820 2f20 6368 6172 2068  r width / char h
+00002250: 6569 6768 740a 2020 2020 2020 2020 2020  eight.          
+00002260: 2020 2020 2020 2020 2020 2020 2020 2864                (d
+00002270: 6566 6175 6c74 3a20 2733 2f35 272c 2027  efault: '3/5', '
+00002280: 3127 203d 2073 7175 6172 6520 6772 6964  1' = square grid
+00002290: 290a 2020 2d53 2050 4150 4552 5f53 495a  ).  -S PAPER_SIZ
+000022a0: 452c 202d 2d70 6170 6572 2d73 697a 6520  E, --paper-size 
+000022b0: 5041 5045 525f 5349 5a45 0a20 2020 2020  PAPER_SIZE.     
+000022c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000022d0: 2020 2070 6f72 7472 6169 7420 7061 7065     portrait pape
+000022e0: 7220 7369 7a65 2077 6964 7468 2078 2068  r size width x h
+000022f0: 6569 6768 7420 2864 6566 6175 6c74 3a20  eight (default: 
+00002300: 2741 3427 203d 0a20 2020 2020 2020 2020  'A4' =.         
+00002310: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00002320: 3231 3078 3239 376d 6d27 2c20 756e 6974  210x297mm', unit
+00002330: 3a20 7074 2f69 6e2f 6d6d 2f63 6d29 0a20  : pt/in/mm/cm). 
+00002340: 202d 5a2c 202d 2d6c 616e 6473 6361 7065   -Z, --landscape
+00002350: 2020 2020 2020 2074 7572 6e20 7061 6765         turn page
+00002360: 2062 7920 3930 2064 6567 7265 6573 2028   by 90 degrees (
+00002370: 6465 6661 756c 743a 2070 6f72 7472 6169  default: portrai
+00002380: 7429 0a20 202d 4c20 4c45 4654 5f4d 4152  t).  -L LEFT_MAR
+00002390: 4749 4e2c 202d 2d6c 6566 742d 6d61 7267  GIN, --left-marg
+000023a0: 696e 204c 4546 545f 4d41 5247 494e 0a20  in LEFT_MARGIN. 
+000023b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000023c0: 2020 2020 2020 206c 6566 7420 6d61 7267         left marg
+000023d0: 696e 2028 6465 6661 756c 743a 2027 3263  in (default: '2c
+000023e0: 6d27 2c20 756e 6974 3a20 7074 2f69 6e2f  m', unit: pt/in/
+000023f0: 6d6d 2f63 6d29 0a20 202d 5220 5249 4748  mm/cm).  -R RIGH
+00002400: 545f 4d41 5247 494e 2c20 2d2d 7269 6768  T_MARGIN, --righ
+00002410: 742d 6d61 7267 696e 2052 4947 4854 5f4d  t-margin RIGHT_M
+00002420: 4152 4749 4e0a 2020 2020 2020 2020 2020  ARGIN.          
+00002430: 2020 2020 2020 2020 2020 2020 2020 7269                ri
+00002440: 6768 7420 6d61 7267 696e 2028 6465 6661  ght margin (defa
+00002450: 756c 743a 2027 2d4c 272c 2075 6e69 743a  ult: '-L', unit:
+00002460: 2070 742f 696e 2f6d 6d2f 636d 290a 2020   pt/in/mm/cm).  
+00002470: 2d54 2054 4f50 5f4d 4152 4749 4e2c 202d  -T TOP_MARGIN, -
+00002480: 2d74 6f70 2d6d 6172 6769 6e20 544f 505f  -top-margin TOP_
+00002490: 4d41 5247 494e 0a20 2020 2020 2020 2020  MARGIN.         
+000024a0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+000024b0: 6f70 206d 6172 6769 6e20 2864 6566 6175  op margin (defau
+000024c0: 6c74 3a20 2732 636d 272c 2075 6e69 743a  lt: '2cm', unit:
+000024d0: 2070 742f 696e 2f6d 6d2f 636d 290a 2020   pt/in/mm/cm).  
+000024e0: 2d42 2042 4f54 544f 4d5f 4d41 5247 494e  -B BOTTOM_MARGIN
+000024f0: 2c20 2d2d 626f 7474 6f6d 2d6d 6172 6769  , --bottom-margi
+00002500: 6e20 424f 5454 4f4d 5f4d 4152 4749 4e0a  n BOTTOM_MARGIN.
+00002510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002520: 2020 2020 2020 2020 626f 7474 6f6d 206d          bottom m
+00002530: 6172 6769 6e20 2864 6566 6175 6c74 3a20  argin (default: 
+00002540: 272d 5427 2c20 756e 6974 3a20 7074 2f69  '-T', unit: pt/i
+00002550: 6e2f 6d6d 2f63 6d29 0a20 202d 432c 202d  n/mm/cm).  -C, -
+00002560: 2d63 616c 6962 7261 7469 6f6e 2020 2020  -calibration    
+00002570: 2064 6f6e 2774 2063 6f72 7265 6374 2063   don't correct c
+00002580: 6861 7261 6374 6572 2073 697a 6520 616e  haracter size an
+00002590: 6420 7061 6765 206d 6172 6769 6e73 0a60  d page margins.`
+000025a0: 6060 0a                                  ``.
```

### Comparing `yawp-0.6.1/pyproject.toml` & `yawp-0.7.1/pyproject.toml`

 * *Files identical despite different names*

### Comparing `yawp-0.6.1/yawp/__init__.py` & `yawp-0.7.1/yawp/__init__.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,84 +1,89 @@
 #!/usr/bin/python3
 
-'''Yet Another Word Processor, an automatic word processor for text files, with PDF output
+'''Yet Another Word Processor, an automatic word processor for text files, with PDF export
 
                        I sound my barbaric yawp over the roofs of the world
                        
                                                                Walt Whitman
 
 The  name  "yawp"  here  means  Yet  Another Word Processor, and yawp is an
-automatic  word  processor  for  plain  text files, with PDF output. If you
-really  need  all  the features of a full-fledged WYSIWYG word processor as
-LibreOffice  Writer,  yawp is not for you. But if you just want to create a
-simple quick-and-dirty no-frills document, with yawp you can:
+automatic  (batch,  not  interactive)  word processor for plain text files,
+with  PDF  export.  If  you  really need all the features of a full-fledged
+WYSIWYG  word  processor as LibreOffice Writer, yawp is not for you. But if
+you  just  want to create a simple quick-and-dirty no-frills document, with
+yawp you can:
 
      edit a text file by your favorite editor
      run yawp in order to:
          backup read format and rewrite the text file
-         export the text file in a PDF file
-         open the PDF file for check or print
+         export the text file into a PDF file
+         view the PDF file for check or print
      possibly go back to the editor and update the text file, or finish
 
-                                              
-                                              backup 
-                                                     
-                                               file  
-                                              
-                                                   
-                                                   restore
-                                                    (undo)
-                                          backup   
-                                                   
-                                                   
-                               
-                          read                       
-                 edit    text              export   PDF   
-      editor                      yawp           
-                         file                       file  
-                         rewrite                     
-                                            
-                                                                     
-                                    check                            
-          
+                                           
+                                           backup 
+                                                  
+                                            file  
+                                               
+                                                      messages 
+                                                undo  
+                                       backup              
+                                                           
+                                   
+                       read               show  
+              edit    text                 
+   editor                      yawp                 PDF   
+                      file                    
+                      rewrite             export      file  
+                                        
+                                                                     
+                                 check                               
+       
 
 Main features are:
 
      yawp  processes  in place a single text file, hereinafter referred to
-      simply as the "file"
-     yawp  before  processing  makes  a  timestamped  backup  of the file,
+      simply as "the file"
+     yawp  before  processing  creates  a  timestamped backup of the file,
       allowing undo operation
      yawp  processing  is  driven by the text in the file and by arguments
       only, not by commands or tags embedded in text
      yawp justifies text at left and right in:
          unindented paragraphs
          dot-marked indented paragraphs (as this one)
      yawp  accepts  unjustified  pictures  (as  schemas,  tables  and code
       examples) freely intermixed with text
      yawp  adopts  an  ad  hoc  policy  for  Python  files, formatting the
       docstrings but not the Python code
-     yawp  performs  multi-level  chapter  renumbering 
-     yawp  inserts  an  automatic  contents chapter in the file 
+     yawp  performs  automatic  multi-level  renumbering  of  chapters and
+      inserts an automatic contents chapter in the file
+     yawp performs automatic renumbering of figure captions and inserts an
+      automatic figures chapter in the file
      yawp  recognizes  relevant  subjects  (quoted  by '"') and inserts an
       automatic index chapter in the file
-     yawp cuts the file in pages, by automatic insertion of two-lines page
-      headers
-     yawp  also  has some limited graphic feature, you can sketch pictures
+     yawp cuts the file in pages, by inserting 2-lines page headers
+     yawp  also has some limited graphic features, you can sketch pictures
       with  segments (by '`') and arrowheads (by '^'), yawp redraws them by
-      proper   graphic  characters  (as  in  the  picture  above)
+      suitable graphic characters (as in Figure above)
      yawp  exports  the  resulting  lines in PDF format, with control over
-      character  size  and page layout, and opens for you the generated PDF
-      file, allowing preview and printing
+      character  size  and page layout, and lets you view the generated PDF
+      file for check or print
      yawp  corrects  errors  made  by  CUPS-PDF  about  font size and page
       margins, you can use default corrections or redefine them by yawp.cfg
      yawp is "stable", namely if after a yawp execution you run yawp again
       on  the  same  file with the same arguments, the file content doesn't
-      change (except date and time in page headers)
+      change
 
-Everything has been kept as simple as possible.
+Believe it or not, everything has been kept as simple as possible. 
+
+As  an  example, the Yawp Manual has been created as yawp.pdf from yawp.txt
+by typing:
+
+     $ yawp -v -w 80 -J -E 'Yawp 0.7.1 Manual' -X yawp.txt
 
 In order to install yawp, type:
 
      $ sudo apt-get -y update
      $ sudo apt-get -y install printer-driver-cups-pdf
 
 If you don't have pip, type:
@@ -96,30 +101,31 @@
 
 If you see a message like this:
 
      WARNING: The script yawp is installed in ... which is not on PATH.
 
 don't worry, a reboot should fix the problem.
 
-For any detail, see the yawp-generated "yawp manual" by typing:
+In  order  to use yawp, you need to know how it works. For any detail, view
+the yawp-generated Yawp Manual by typing:
 
      $ yawp -H
 '''
 
-__version__ = '0.6.1'
+__version__ = '0.7.1'
 
 __all__ = []
 
 #----- imports -----
 
 from fnmatch import fnmatchcase
 from glob import glob
 from os import chdir, lstat, popen
 from os.path import join as joinpath, split as splitpath, abspath, expanduser, splitext, exists, isfile, isdir
-from subprocess import run, PIPE, CalledProcessError
+from subprocess import run, PIPE
 from sys import exit, stdout, stderr
 from time import localtime
 import readline
 
 #----- path & file functions -----
 
 def longpath(path='.'):
@@ -193,23 +199,23 @@
     "return filename of the newest timestamped backup of file, or '' if not found"
     path, ext = splitext(longpath(file))
     return lastfile(f'{path}-????.??.??-??.??.??{ext}')
 
 #----- string functions -----
 
 def hold(string, charpattern, default=''):
-    'hold charpattern-matching chars in string and replace not matching chars with default'
+    'hold charpattern-matching chars in shrunk string and replace not matching chars with default'
     return ''.join(char if fnmatchcase(char, charpattern) else default for char in string)
 
 def take(string, charset, default=''):
-    'take chars in string found in charset and replace not found chars with default'
+    'take chars in shrunk string found in charset and replace not found chars with default'
     return ''.join(char if char in charset else default for char in string)
 
 def drop(string, charset, default=''):
-    'drop chars in string found in charset and replace not found chars with default'
+    'drop chars in shrunk string found in charset and replace not found chars with default'
     return ''.join(default if char in charset else char for char in string)
 
 def chars(charpattern):
     'return a sorted string of all charpattern-matching characters'
     kernel = charpattern[1:-1]
     a, z = ord(min(kernel)), ord(max(kernel)) + 1
     return ''.join(chr(j) for j in range(a, z) if fnmatchcase(chr(j), charpattern))
@@ -243,15 +249,15 @@
     for j in range(0, len(oldsnews), 2):
         string = string.replace(oldsnews[j], oldsnews[j+1])
     return string
 
 def change(string, olds, news, char='%'):
     'replace char + x with y for x, y in zip(olds, news)'
     trans = {old: new for old, new in zip(olds, news)}
-    trans[char] = char # replace char + char with char
+    trans[char] = char # char + char --> char
     value = ''
     skip = False
     for j, charj in enumerate(string):
         if charj == char:
             try:
                 value += trans[string[j+1]]
             except (KeyError, IndexError):
@@ -296,35 +302,100 @@
     'return index of last pattern-matching char found in string, -1 if not found'
     for j, char in retroenum(string):
         if fnmatchcase(char, pattern):
             return j
     else:
         return -1
 
+def prevchar(char):
+    "return chr(ord(char) - 1)"
+    return chr(ord(char) - 1)
+
+def nextchar(char):
+    "return chr(ord(char) + 1)"
+    return chr(ord(char) + 1)
+
 def chrs(jj):
     "return ''.join(chr(j) for j in jj)"
     return ''.join(chr(j) for j in jj)
 
 def ords(string):
     'return [ord(char) for char in string]'
     return [ord(char) for char in string]
 
+def uppunqshr(string, quotes='"'):
+    '''uppercase unquoted chars in shrunk string
+'''
+    result = ''; quote = ''
+    for char in ' '.join(string.split()): # ... in shrink(string):
+        if quote:
+            result += char
+            if char == quote:
+                quote = ''
+        else:
+            result += char.upper()
+            if char in quotes:
+                quote = char
+    return result
+            
+def lowunqshr(string, quotes='"'):
+    '''lowercase unquoted chars in shrunk string
+>>> print(lowunqshr("""aAa 'bBb' cCc "dDd" eEe"""))
+aaa 'bBb' ccc "dDd" eee
+'''
+    result = ''; quote = ''
+    for char in ' '.join(string.split()): # ... in shrink(string):
+        if quote:
+            result += char
+            if char == quote:
+                quote = ''
+        else:
+            result += char.lower()
+            if char in quotes:
+                quote = char
+    return result
+            
+def titunqshr(string, quotes='"'):
+    '''titlecase unquoted chars in shrunk string
+>>> print(titunqshr("""aAa 'bBb' cCc "dDd" eEe"""))
+Aaa 'bBb' Ccc "dDd" Eee
+'''
+    result = ''; quote = ''; first = True
+    for char in ' '.join(string.split()): # ... in shrink(string):
+        if quote:
+            result += char
+            first = True
+            if char == quote:
+                quote = ''
+        elif char.isalpha():
+            result += char.upper() if first else char.lower()
+            first = False
+        else:
+            result += char
+            first = True
+            if char in quotes:
+                quote = char
+    return result
+
+def equivalent(string, string2):
+    'return titlecase(shrink(string)) == titlecase(shrink(string2))'
+    return titlecase(shrink(string)) == titlecase(shrink(string2))
+
 def plural(num, sing, plur=''):
     '''return f'1 {sing}' if num == 1 else f'{num} {plur}' if plur else f'{num} {sing}s'
-
-    >>> plural(1, 'cat')
-    '1 cat'
-    >>> plural(3, 'cat')
-    '3 cats'
-    >>> plural(1, 'mouse')
-    '1 mouse'
-    >>> plural(3, 'mouse')
-    '3 mouses'
-    >>> plural(3, 'mouse', 'mice')
-    '3 mice'
+>>> print(plural(1, 'cat'))
+1 cat
+>>> print(plural(3, 'cat'))
+3 cats
+>>> print(plural(1, 'mouse'))
+1 mouse
+>>> print(plural(3, 'mouse'))
+3 mouses
+>>> print(plural(3, 'mouse', 'mice'))
+3 mice
 '''
     return f'1 {sing}' if num == 1 else f'{num} {plur}' if plur else f'{num} {sing}s'
 
 def edit(item, width=0, ndig=None):
     'convert item to str, justifying numbers at right and anything else at left'
     if isinstance(item, int):
         return str(item).rjust(width)
@@ -510,35 +581,36 @@
 if x is None: return (a, b, err) such that:
     . y = a * x + b is the interpolating line
     . err = sqrt(sum((a * x + b - y) ** 2) / n)
 else: return a * x + b
 '''
     n = len(xyxy)
     if n == 0: # straight line by [(0.0, 0.0), (1.0, 1.0)]
-        return (1.0, 0.0, 0.0) if x is None else x
+        value =  (1.0, 0.0, 0.0) if x is None else x
     elif n == 1: # straight line by [(0.0, 0.0), (x0, y0)]
         x0, y0 = xyxy[0]
-        return (y0 / x0, 0.0, 0.0) if x is None else (y0 / x0) * x
+        value =  (y0 / x0, 0.0, 0.0) if x is None else (y0 / x0) * x
     elif n == 2: # straight line by [(x0, y0), (x1, y1)]
         x0, y0 = xyxy[0]
         x1, y1 = xyxy[1]
         d = x1 - x0
         a = (y1 - y0) / d
         b = (y0 * x1 - y1 * x0) / d
-        return (a, b, 0.0) if x is None else a * x + b
+        value =  (a, b, 0.0) if x is None else a * x + b
     else: # n > 2, least squares straight line by [(x0, y0), (x1, y1), (x2, y2), ...]
         sx = sum(x for x, y in xyxy)
         sx2 = sum(x * x for x, y in xyxy)
         sy = sum(y for x, y in xyxy)
         sxy = sum(x * y for x, y in xyxy)
         d = n * sx2 - sx * sx
         a = (n * sxy - sx * sy) / d
         b = (sx2 * sy - sx * sxy) / d
         err = (sum((a * x + b - y) ** 2 for x, y in xyxy) / n) ** 0.5
-        return (a, b, err) if x is None else a * x + b
+        value =  (a, b, err) if x is None else a * x + b
+    return value
 
 def moving_means(xx, n=7):
     """return [yy[j] = sum(xx[j+1-n:j+1]) / n]
 >>> moving_means(list(range(10)))
 [0.0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 4.0, 5.0, 6.0]
 >>> moving_means(list(range(10)), 3)
 [0.0, 0.5, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0]
@@ -553,18 +625,18 @@
 
 def warning(message, jline=-1, line=''):
     'print a warning message and continue'
     if jline > -1:
         print(f'LINE {jline+1}: {line}', file=stderr)
     print(f'WARNING: {message}', file=stderr)
 
-def error(message, jline=-1, line=''):
+def error(message, jline=None, line=''):
     'print an error message and exit'
-    if jline > -1:
-        print(f'LINE {jline+1}: {line}', file=stderr)
+    if jline is not None:
+        print(f'LINE {jline+1}: {line.rstrip()}', file=stderr)
     exit(f'ERROR: {message}')
 
 #----- other functions -----
 
 def tryfunc(func, args, default=None):
     'try: return func(*args); except: return default'
     try:
@@ -644,8 +716,39 @@
         if key not in setdict:
             setdict[key] = set()
         setdict[key].add(value)
 
     def __getitem__(setdict, key):
         return setdict.get(key, set())
 
+#----- yawp-specific functions -----
+
+def chapter_level(prefix):
+    status = 0; level = 0
+    for char in prefix:
+        if status == 0:
+            if char.isdecimal():
+                status = 1
+            else:
+                return 0
+        else: # status == 1
+            if char.isdecimal():
+                pass
+            elif char == '.':
+                level += 1
+                status = 0
+            else:
+                return 0
+    return level if status == 0 else 0
+
+def figure_level(prefix):
+    if fnmatchcase(prefix, '[a-z].'):
+        return 1
+    elif not fnmatchcase(prefix, '*[a-z].'):
+        return 0
+    else:
+        chaplevel = chapter_level(prefix[:-2])
+        return 0 if chaplevel == 0 else chaplevel + 1
+
 #----- end -----
+
+
```

### Comparing `yawp-0.6.1/yawp/__main__.py` & `yawp-0.7.1/yawp/__main__.py`

 * *Files 12% similar despite different names*

```diff
@@ -4,39 +4,62 @@
 
 from .__init__ import __version__ as version, __doc__ as description
 from argparse import ArgumentParser, RawDescriptionHelpFormatter
 from fnmatch import filter
 from warnings import simplefilter
 from sys import argv, stdout, stderr
 from time import localtime, sleep
+from os import remove, rename
 from os.path import join as joinpath, split as splitpath, isfile
 from .__init__ import longpath, shortpath, splitpath4, listfiles, getfile, lastfile, localfile
 from .__init__ import listdirs, getdir, chdir2, newbackfile, oldbackfile
 from .__init__ import hold, take, drop, chars, upperin, lowerin, letterin, digitin, specialin, split, replace, change
-from .__init__ import shrink, expand, findchar, rfindchar, chrs, ords, edit, plural, linterpol
+from .__init__ import shrink, expand, findchar, rfindchar, uppunqshr, titunqshr, nextchar, prevchar, chrs, ords, edit, plural, linterpol
 from .__init__ import inform, warning, error, show
 from .__init__ import in2in, in2pt, pt2in, in2cm, cm2in, in2mm, mm2in, in2str, str2in, str2inxin, ratio
-from .__init__ import retroenum, find, rfind, shell, CalledProcessError, get, term, tryfunc, dump, ListDict, SetDict
+from .__init__ import retroenum, find, rfind, shell, get, term, tryfunc, dump, ListDict, SetDict
+from .__init__ import chapter_level, figure_level
 
 #----- global data -----
 
 class Container: pass
 arg = Container() # container for arguments and other scalar global data
 
 #----- constants -----
 
-EMPT, CODE, TEXT, PICT, CONT, INDX, CHP1, CHP2, HEA1, HEA2 = range(10) # values for kind
-KINDS = 'EMPT CODE TEXT PICT CONT INDX CHP1 CHP2 HEA1 HEA2'.split() # labels for kind
-JLIN, KIND, JPAG, LPIC, LINE = range(5) # positions in buf.input[j] and buf.output[j]
-PREF, TITL, JOUT = range(3) # positions in buf.contents[j]
+EMPT, CODE, TEXT, PICT, CONT, FIGU, CAPT, INDX, CHP1, CHP2, HEA1, HEA2 = range(12) # line kinds
+KINDS = 'EMPT, CODE, TEXT, PICT, CONT, FIGU, CAPT, INDX, CHP1, CHP2, HEA1, HEA2'.split(', ')
+    # EMPT empty line
+    # CODE Python code line
+    # TEXT text line
+    # PICT picture line
+    # CONT contents chapter line
+    # FIGU figure chapter line
+    # CAPT figure caption line
+    # INDX index chapter line
+    # CHP1 numbered chapter line, level == 1
+    # CHP2 numbered chapter line, level > 1
+    # HEA1 page header, first line
+    # HEA2 page header, second line
+JINP, KIND, JPAG, LPIC, LINE = range(5) # positions in buf.input and buf.output
+    # JINP line index in input file
+    # KIND line kind, see before
+    # JPAG page number
+    # LPIC number of lines in picture
+    # LINE content of line
+LABL, TITL, JOUT = range(3) # positions in buf.contents and buf.captions
+    # LABL chapter label, as '1.' in buf.contents or '1.a.' in buf.captions
+    # TITL chapter title
+    # JOUT line index in buf.output
 FORMFEED = '\f' # page header, first character of first line
 MACRON = '' # page header, second line, dashed
 QUOTES = "'" + '"' # single and double quotation marks
 INDENT = 4 * ' ' # tab indentation
 MAX_QUALITY = 5 # max print quality
+YAWP_CFG = '~/.yawp/yawp.cfg' # yawp configuration file
 PAPERSIZE = { # names for -S
     'HALF LETTER':  '5.5x8.5in',
     'LETTER':       '8.5x11.0in',
     'LEGAL':        '8.5x14.0in',
     'JUNIOR LEGAL': '5.0x8.0in',
     'LEDGER':       '11.0x17.0in',
     'TABLOID':      '11.0x17.0in',
@@ -62,16 +85,16 @@
     'B6':  '125x176mm',
     'B7':  '88x125mm',
     'B8':  '62x88mm',
     'B9':  '44x62mm',
     'B10': '31x44mm'}
 #
 xyxy = {k: [] for k in 'plm llm prm lrm ptm ltm pbm lbm pcw lcw pch lch'.split()}
-XYXY = '''
-#----- yawp configuration file -----
+CONFIG = '''
+#----- yawp.cfg ----- yawp configuration file -----
 
 plm 10mm 16mm # portrait left margin
 plm 20mm 24mm 
 plm 30mm 35mm 
 plm 40mm 43mm 
 plm 50mm 52mm
 plm 60mm 62mm 
@@ -168,249 +191,254 @@
 
 #----- classes -----
 
 class Paragraph:
 
     def __init__(par):
         par.string = ''
+        par.jinp = 0
         par.indent = 0
         
-    def append(par, string, indent=0):
-        if par.string:
-            par.string += ' ' + shrink(string)
-        else:
-            par.string = shrink(string)
-            par.indent = indent
-
-    def flush(par, jlin):
+    def assign(par, string, jinp, indent):
+        assert not par.string
+        par.string = shrink(string)
+        par.jinp = jinp
+        par.indent = indent
+        if indent > arg.half_line:
+            error(f"Indent of indented paragraph = {indent} > -w / 2 = {arg.half_line}", jinp, ' ' + string)
+
+    def append(par, string):
+        assert par.string
+        par.string += ' ' + shrink(string)
+        
+    def flush(par):
         if not par.string:
             return
         prefix = (par.indent - 2) * ' ' + ' ' if par.indent else ''
         while len(par.string) > arg.chars_per_line - par.indent:
             jchar = rfind(par.string[:arg.chars_per_line-par.indent+1], ' ')
             if jchar <= 0:
-                error('Impossible to left-justify', jlin, string)
+                error('Impossible to left-justify', par.jinp, string)
             string, par.string = par.string[:jchar], par.string[jchar+1:]
             if not arg.left_only:
                 try:
                     string = expand(string, arg.chars_per_line - par.indent)
-                except ValueError as error_message:
-                    error('Impossible to right-justify', jlin, string)
-            buf.append(jlin, TEXT, 0, 0, prefix + string)
+                except ValueError:
+                    error('Impossible to right-justify', par.jinp, string)
+            buf.append(par.jinp, TEXT, 0, 0, prefix + string)
             prefix = par.indent * ' '
         if  par.string:
-            buf.append(jlin, TEXT, 0, 0, prefix + par.string)
+            buf.append(par.jinp, TEXT, 0, 0, prefix + par.string)
             par.string = ''
 
 par = Paragraph()
 
 class Buffer:
 
     def __init__(buf):
-        buf.input = [] # [[jlin, 0, 0, 0, line]] # input buffer
-        buf.output = [] # [[jlin, kind, jpag, lpic, line]] # output buffer
-        # jlin: line index in buf.input, for error message
-        # kind: kind of line: CODE, TEXT, PICT, CONT, INDX, CHP1, CHP2, HEA1, HEA2
+        buf.input = [] # [[jinp, 0, 0, 0, line]] # input buffer
+
+        buf.output = [] # [[jinp, kind, jpag, lpic, line]] # output buffer
+        # jinp: line index in buf.input
+        # kind: kind of line: CODE, TEXT, PICT, CONT, INDX, FIGU, CHP1, CHP2, HEA1, HEA2
         # jpag: page number
         # lpic: lines in picture (in first line of pictures only, else 0)
         # line
-        buf.contents = [] # [[pref, titl, jout]]
-        # pref: chapter numbering, first word in chapter line as '1.', '1.1.'...
-        # titl: rest of chapter line
+
+        buf.contents = [] # [[pref, titl, jout]], if words == line.split() ...
+        # pref: words[0], chapter numbering as '1.', '1.1.'...
+        # titl: ' '.join(words[1:])
         # jout: position of chapter line in buf.output
-        buf.contents_start, buf.contents_stop = -1, -1 # start and stop of contents in output
+        buf.contents_found = False # file contains a contents chapter line?
+        buf.contents_jout = -1 # position of contents chapter line in output
+
+        buf.figures_found = False # file contains a figures chapter line?
+        buf.figures_jout = -1 # position  of figures chapter line in buf.output
+        buf.figures = [] # [[pref, titl, jout]] , if words == line.split() ...
+        # words[0] == arg.figures_title
+        # pref: words[1], figure numbering as 'a.', '1.b.', '1.1.c.'...
+        # titl: ' '.join(words[2:])
+        # jout: position of caption line in buf.output
+
         buf.qsub_jouts = SetDict() # {subject: {jout}}
         # subject: subject between double quotes
         # jout: position of subject in buf.output
         buf.uqsub_jouts = SetDict() # {subject: {jout}}
         # subject: subject not between double quotes
         # jout: position of subject in buf.output
-        buf.index_start, buf.index_stop = -1, -1 # start and stop of index in output
+        buf.index_found = False # file contains an index chapter line?
+        buf.index_jout = -1 # position of index chapter line in output
         buf.subjects = set()
 
     def __len__(buf):
         return len(buf.output)
 
-    def append(buf, jlin, kind, jpag, lpic, line):
-        buf.output.append([jlin, kind, jpag, lpic, line])
+    def append(buf, jinp, kind, jpag, lpic, line):
+        buf.output.append([jinp, kind, jpag, lpic, line])
 
     def char(buf, jout, jchar):
         'return buf.output[jout][LINE][jchar], used by redraw_segments() and redraw_arroheads()'
         if jout < 0 or jchar < 0:
             return ' '
         else:
             try:
                 line = buf.output[jout][LINE]
                 return line[jchar] if buf.output[jout][KIND] == PICT else ' '
             except IndexError:
                 return ' '
 
     def dump(buf):
         'for debug only'
-        print(f'\n' + '.' * 72)
-        print(f'... contents_start = {buf.contents_start}, contents_stop = {buf.contents_stop} ...')
-        print(f'... index_start = {buf.index_start}, index_stop = {buf.index_stop} ...')
-        for jout, (jlin, kind, jpag, lpic, line) in enumerate(buf.output):
-            print(jout, ':', (jlin, KINDS[kind], jpag, lpic, line))
+        print('<' * 72)
+        print(f'\n... input ...')
+        for jout, (jinp, kind, jpag, lpic, line) in enumerate(buf.input):
+            print(jout, ':', (jinp, KINDS[kind], jpag, lpic, line))
+        print(f'\n... output ...')
+        for jout, (jinp, kind, jpag, lpic, line) in enumerate(buf.output):
+            print(jout, ':', (jinp, KINDS[kind], jpag, lpic, line))
         print('\n... contents ...')
+        print(f'... contents_found = {buf.contents_found} ...')
+        print(f'... contents_jout = {buf.contents_jout} ...')
         for jout, rec in enumerate(buf.contents):
             print(jout, ':', rec)
+        print('\n... figures ...')
+        print(f'... figures_found = {buf.figures_found} ...')
+        print(f'... figures_jout = {buf.figures_jout} ...')
+        for jout, rec in enumerate(buf.figures):
+            print(jout, ':', rec)
         print('\n... index ...')
-        for jout, rec in enumerate(buf.index):
+        print(f'... index_found = {buf.index_found} ...')
+        print(f'... index_jout = {buf.index_jout} ...')
+        for jout, rec in enumerate(buf.qsub_jouts):
+            print(jout, ':', rec)
+        for jout, rec in enumerate(buf.uqsub_jouts):
             print(jout, ':', rec)
-        print('.' * 72)
+        print('>' * 72)
 
 buf = Buffer()
 
 #----- functions -----
 
-def get_level_title(line):
-    words = line.upper().split()
-    if not words:
-        return 0, ''
-    status = 0; level = 0
-    for char in words[0]:
-        if status == 0:
-            if '0' <= char <= '9': status = 1
-            else: return (0, ' '.join(words))
-        else: # status == 1
-            if '0' <= char <= '9': pass
-            elif char == '.': level += 1; status = 0
-            else: return (0, ' '.join(words))
-    return (level, ' '.join(words[1:])) if status == 0 and level > 0 else (0, ' '.join(words))
-            
-def get_margin_margin2(letter, margin):    
+def margin_margin2(letter, margin):    
     x = tryfunc(str2in, (margin,), -1.0)
     if x < 0.0:
         error(f'Wrong -{letter} {margin}')
     if x < str2in('2cm') and arg.verbose:
-        warning(f'-{letter} {margin} < 2cm, you may get unexpected results')
+        if arg.verbose: warning(f'-{letter} {margin} < 2cm, you may get unexpected results')
     margin = x
     if arg.calibration:
         margin2 = margin
     else:
         margin2 = max(0.0, linterpol(xyxy['pl'[arg.landscape] + letter.lower() + 'm'], margin))
         if arg.verbose: inform(f'Correct: -{letter} {in2str(margin2)}')
     return margin, margin2
 
 #----- actions -----
 
 def get_arguments():
     parser = ArgumentParser(prog='yawp', formatter_class=RawDescriptionHelpFormatter, description=description)
-    add = parser.add_argument
-    # general arguments
-    add('-H','--manual', action='store_true', help='open yawp-generated PDF manual and exit')
-    add('-V','--version', action='version', version=f'yawp {version}')
-    add('-v','--verbose', action='store_true', help='display information messages on stderr')
-    add('-s','--echo-shell', action='store_true', help='display invoked Unix commands on stderr')
-    add('-N','--no-format', action='store_true', help="backup but don't format (default: backup and format)")
-    add('-U','--undo', action='store_true', help="restore the file from last backup (default: backup and format)")
-    add('-g','--graphics', action='store_true', help="redraw '`'-segments and '^'-arrowheads")
-    add('-p','--print-file', action='store_true', help="at end print file on stdout")
+    # argument types
+    bool = lambda short, long, help: parser.add_argument(short, long, action='store_true', help=help) # boolean argument
+    vers = lambda short, long, version: parser.add_argument(short, long, action='version', version=version) # version argument
+    stri = lambda short, long, default, help, note='': parser.add_argument( # string argument
+        short, long, default=default, help=f"{help} (default: {default!r}{note})".replace('%','%%'))
+    posi = lambda name, nargs, help: parser.add_argument(name, nargs=nargs, help=help) # positional argument
+    # usage arguments
+    bool('-H', '--manual', 'view yawp-generated PDF Yawp Manual and exit')
+    vers('-V', '--version', f'yawp {version}')
+    bool('-v', '--verbose', 'display information and warning messages on stderr')
+    bool('-N', '--no-format', "run in no-format mode (default: run in format mode)")
+    bool('-U', '--undo', "run in undo mode (default: run in format mode)")
+    bool('-g', '--graphics', "redraw '`'-segments and '^'-arrowheads")
     # formatting arguments
-    add('-w','--chars-per-line', default='0', help="line width in characters per line (default: '0' = automatic)")
-    add('-l','--left-only', action='store_true', help="justify text lines at left only (default: at left and right)")
-    add('-c','--contents-title', default='contents', help="title of contents chapter (default: 'contents')")
-    add('-i','--index-title', default='index', help="title of index chapter (default: 'index')")
-    # paging arguments
-    add('-f','--form-feed', action='store_true', help="insert page headers on full page")
-    add('-F','--form-feed-chap', action='store_true', help="insert page headers on full page and before contents index and level-one chapters")
-    add('-e','--even-left', default='%n/%N', help="headers of even pages, left (default: '%%n/%%N')")
-    add('-E','--even-right', default='%f.%e %Y-%m-%d %H:%M:%S', help="headers of even pages, right (default: '%%f.%%e %%Y-%%m-%%d %%H:%%M:%%S')")
-    add('-o','--odd-left', default='%c', help="headers of odd pages, left (default: '%%c')")
-    add('-O','--odd-right', default='%n/%N', help="headers of odd pages, right (default: '%%n/%%N')")
-    add('-a','--all-pages-E-e', action='store_true', help="put in all page headers -E at left and -e at right")
-    # PDF exporting arguments
-    add('-P','--file-pdf', default='%P/%f.pdf', help="at end export and open this PDF file ('0' = no export, default: '%%P/%%f.pdf')")
-    add('-W','--char-width', default='0', help="character width (pt/in/mm/cm, default: '0' = automatic)")
-    add('-A','--char-aspect', default='3/5', help="character aspect ratio = char width / char height ('1' = square grid, default: '3/5')")
-    add('-S','--paper-size', default='A4', help="portrait paper size (width x height, pt/in/mm/cm, default: 'A4' = '210x297mm'")
-    add('-Z','--landscape', action='store_true', help="turn page by 90 degrees (default: portrait)")
-    add('-L','--left-margin', default='2cm', help="left margin (pt/in/mm/cm, default: '2cm')")
-    add('-R','--right-margin', default='-L', help="right margin (pt/in/mm/cm, default: '-L')")
-    add('-T','--top-margin', default='2cm', help="top margin (pt/in/mm/cm, default: '2cm')")
-    add('-B','--bottom-margin', default='-T', help="bottom margin (pt/in/mm/cm, default: '-T')")
-    add('-C','--calibration', action='store_true', help="don't correct character size and page margins")
+    stri('-w', '--chars-per-line', '0', 'line width in characters per line', ' = automatic')
+    bool('-l', '--left-only', "justify text lines at left only (default: at left and right)")
+    stri('-c', '--contents-title', 'contents', "title of contents chapter")
+    stri('-f', '--figures-title', 'figures', "title of figures chapter")
+    stri('-F', '--caption-prefix', 'figure', "first word of figure captions")
+    stri('-i', '--index-title', 'index', "title of index chapter")
+    # paging arguments:
+    bool('-j', '--eject', "insert page headers on full page")
+    bool('-J', '--eject-pict-chap', 'insert page headers on full page, on broken picture, and before level-1/contents/figures/index chapters')
+    stri('-e', '--even-left', '%n/%N', "headers of even pages, left")
+    stri('-E', '--even-right', '%f.%e %Y-%m-%d %H:%M:%S', "headers of even pages, right")
+    stri('-o', '--odd-left', '%c', "headers of odd pages, left")
+    stri('-O', '--odd-right', '%n/%N', "headers of odd pages, right")
+    bool('-a', '--all-pages-E-e', "put in all page headers -E at left and -e at right")
+    # PDF arguments
+    bool('-X', '--export-view-pdf', "at end export and view PDF file")
+    stri('-Y', '--view-pdf-by', 'xdg-open', "viewer for the exported PDF file")
+    stri('-P', '--file-pdf', '%P/%f.pdf', "exported PDF file")
+    stri('-W', '--char-width', '0', "character width", " = automatic, unit: pt/in/mm/cm")
+    stri('-A', '--char-aspect', '3/5', "character aspect ratio = char width / char height", ", '1' = square grid")
+    stri('-S', '--paper-size', 'A4', "portrait paper size width x height", " = '210x297mm', unit: pt/in/mm/cm")
+    bool('-Z', '--landscape', "turn page by 90 degrees (default: portrait)")
+    stri('-L', '--left-margin', '2cm', "left margin", ", unit: pt/in/mm/cm")
+    stri('-R', '--right-margin', '-L', "right margin", ", unit: pt/in/mm/cm")
+    stri('-T', '--top-margin', '2cm', "top margin", ", unit: pt/in/mm/cm")
+    stri('-B', '--bottom-margin', '-T', "bottom margin", ", unit: pt/in/mm/cm")
+    bool('-C', '--calibration', "don't correct character size and page margins")
     # positional argument
-    add('file', nargs='?', help='text file to be processed')
+    posi('file', '?', 'text file to be processed')
     # arguments --> arg.*
     parser.parse_args(argv[1:], arg)
 
-def get_configuration():
-    if arg.calibration:
-        if arg.verbose: inform('Correct: -C is turned on, no correction is performed')
-    else:
-        yawp_cfg = longpath('~/.yawp/yawp.cfg')
-        if isfile(yawp_cfg):
-            config = open(yawp_cfg)
-            if arg.verbose: inform("Correct: corrections read from '~/.yawp/yawp.cfg'")
-        else:
-            config = XYXY.split('\n')
-            if arg.verbose: inform("Correct: '~/.yawp/yawp.cfg' not found, default corrections")
-        for jline, line in enumerate(config):
-            for stmt in [s.strip() for s in line.split('#')[0].split(';')]:
-                if stmt:
-                    try:
-                        k, y, x = stmt.split()
-                        x, y = str2in(x), str2in(y)
-                        assert x >= 0.0 <= y
-                        xyxy[k].append((x, y))
-                    except (ValueError, KeyError, AssertionError):
-                        error(f'Wrong line in {shortpath(yawp_cfg)!r}', jline, line.rstrip())
-    
 def check_arguments():
     arg.start_time = localtime()[:]
-    # -s
-    arg.shell_mode = 'CP' if arg.echo_shell else 'p'
     # -H
     if arg.manual:
         yawp_pdf = localfile('docs/yawp.pdf')
-        shell(f'xdg-open {yawp_pdf}', mode=arg.shell_mode, file=stderr)
+        shell(f'xdg-open {yawp_pdf}')
         exit()
     # file
     if not arg.file:
-        error("Mandatory positional argument file, not found")
+        error("Mandatory positional argument file not found")
     arg.file = longpath(arg.file)
     arg.PpfeYmdHMS = splitpath4(arg.file) + tuple(('%04d %02d %02d %02d %02d %02d' % arg.start_time[:6]).split())
     # -U -N
     if arg.undo and arg.no_format:
         error("You can't set both -U and -N")
     # -w >= 0
     w = tryfunc(int, (arg.chars_per_line,), -1)
     if w < 0:
         error(f'Wrong -w {arg.chars_per_line}')
     arg.chars_per_line = w
-    # -c -i
+    # -c
+    arg.contents_title = uppunqshr(arg.contents_title)
     if not arg.contents_title:
-        error("Wrong -c ''")
+        error("-c '' can't be empty")
+    # -i
+    arg.index_title = uppunqshr(arg.index_title)
     if not arg.index_title:
-        error("Wrong -i ''")
-    arg.contents_title = shrink(arg.contents_title).upper()
-    arg.index_title = shrink(arg.index_title).upper()
-    if arg.contents_title == arg.index_title:
-        error(f"Wrong -c = -i {arg.contents_title}")
-    # -f -F
+        error("-i '' can't be empty")
+    # -f
+    arg.figures_title = uppunqshr(arg.figures_title)
+    if not arg.figures_title:
+        error("-f '' can't be empty")
+    # -c -i -f
+    aaa = [arg.contents_title, arg.index_title, arg.figures_title] 
+    if len(set(aaa)) < len(aaa):
+        error('-c -i and -f must be all different')
+    # -F
+    arg.caption_prefix = titunqshr(arg.caption_prefix)
+    if not arg.caption_prefix:
+        error("-F '' can't be empty")
+    if ' ' in arg.caption_prefix:
+        error(f"-F {arg.caption_prefix!r} can't contain blanks")    
+    # -j -J
     if arg.file.endswith('.py'):
-        if arg.form_feed:
-            inform("Python file, -f turned off")
-            arg.form_feed = False
-        if arg.form_feed_chap:
-            inform("Python file, -F turned off")
-            arg.form_feed_chap = False
-    arg.form_feed = arg.form_feed or arg.form_feed_chap
+        arg.eject = arg.eject_pict_chap = False
     # -e -E -o -O
     for char, argx in zip('eEoO', [arg.even_left, arg.even_right, arg.odd_left, arg.odd_right]):
         try:
             change(argx, 'PpfeYmdHMSnNc', 'PpfeYmdHMSnNc', '%')
         except ValueError as illegal:
             error(f'Wrong -{char} {argx!r}, illegal {str(illegal)!r}')
-    # -P
-    if tryfunc(float, (arg.file_pdf,), -1) == 0.0:
-        arg.file_pdf = ''
-    if arg.file_pdf:
+    # -X -P
+    if arg.export_view_pdf:
         try:
             arg.file_pdf = change(arg.file_pdf, 'PpfeYmdHMS', arg.PpfeYmdHMS, '%')
         except ValueError as illegal:
             error(f'Wrong -P {shortpath(arg.file_pdf)!r}, illegal {str(illegal)!r}')
         arg.file_pdf = longpath(arg.file_pdf)
         if not arg.file_pdf.endswith('.pdf'):
             error(f"Wrong -P {shortpath(arg.file_pdf)!r}, doesn't end with '.pdf'")
@@ -431,79 +459,116 @@
     arg.paper_width, arg.paper_height = Sw, Sh
     # -Z
     if arg.landscape:
         arg.paper_width, arg.paper_height = arg.paper_height, arg.paper_width
     # -L -R
     if arg.right_margin == '-L':
         arg.right_margin = arg.left_margin
-    arg.left_margin, arg.left_margin2 = get_margin_margin2('L', arg.left_margin)
-    arg.right_margin, arg.right_margin2 = get_margin_margin2('R', arg.right_margin)
+    arg.left_margin, arg.left_margin2 = margin_margin2('L', arg.left_margin)
+    arg.right_margin, arg.right_margin2 = margin_margin2('R', arg.right_margin)
     arg.free_width = arg.paper_width - arg.left_margin - arg.right_margin
     if arg.free_width <= 0:
         error('-L and/or -R too big, no horizontal space on paper')
     # -T -B
     if arg.bottom_margin == '-T':
         arg.bottom_margin = arg.top_margin
-    arg.top_margin, arg.top_margin2 = get_margin_margin2('T', arg.top_margin)
-    arg.bottom_margin, arg.bottom_margin2 = get_margin_margin2('B', arg.bottom_margin)
+    arg.top_margin, arg.top_margin2 = margin_margin2('T', arg.top_margin)
+    arg.bottom_margin, arg.bottom_margin2 = margin_margin2('B', arg.bottom_margin)
     arg.free_height = arg.paper_height - arg.top_margin - arg.bottom_margin
     if arg.free_height <= 0:
         error('-T and/or -B too big, no vertical space on paper')
 
+def get_configuration():
+    if arg.calibration:
+        if arg.verbose: inform('Correct: -C is on, no corrections')
+    else:
+        yawp_cfg = longpath(YAWP_CFG)
+        if isfile(yawp_cfg):
+            if arg.verbose: inform(f'Correct: Corrections from {YAWP_CFG!r}')
+            config = open(yawp_cfg)
+        else:
+            if arg.verbose: inform(f'Correct: {YAWP_CFG!r} not found, default corrections')
+            config = CONFIG.split('\n')
+        for jcfg, line in enumerate(config):
+            stmt = line.split('#')[0].strip()
+            if stmt:
+                kyx = stmt.split()
+                try:
+                    k, y, x = kyx
+                except ValueError:
+                    error(f'Wrong line in {YAWP_CFG!r}, found {len(kyx)} values instead of 3', jcfg, line)
+                if k not in xyxy:
+                    error(f'Wrong line in {YAWP_CFG!r}, illegal {k!r}', jcfg, line)
+                try:
+                    x = str2in(x)
+                    assert x > 0.0
+                except (ValueError, AssertionError):
+                    error(f'Wrong line in {YAWP_CFG!r}, illegal {x!r}', jcfg, line)
+                try:
+                    y = str2in(y)
+                    assert y > 0.0
+                except (ValueError, AssertionError):
+                    error(f'Wrong line in {YAWP_CFG!r}, illegal {y!r}', jcfg, line)
+                xyxy[k].append((x, y))
+    
 def restore_file():
     backfile = oldbackfile(arg.file)
     if not backfile:
         error(f'Backup file for file {shortpath(arg.file)!r} not found')
-    shell(f'rm -f {arg.file!r}', mode=arg.shell_mode, file=stderr)
-    shell(f'mv {backfile!r} {arg.file!r}', mode=arg.shell_mode, file=stderr)
+    if isfile(arg.file): remove(arg.file)
+    rename(backfile, arg.file)
     if arg.verbose: inform(f'Restore: {shortpath(arg.file)!r} <-- {shortpath(backfile)!r}')
 
 def read_file_into(buf_records):
     if not isfile(arg.file):
         error(f'File {shortpath(arg.file)!r} not found')
     header_lines, body_lines, arg.num_pages, max_body_width, max_header_width = 0, 0, 1, 0, 0
-    for jlin, line in enumerate(open(arg.file)):
+    for jinp, line in enumerate(open(arg.file)):
         line = line.replace('\t', INDENT).rstrip()
         if line.startswith(FORMFEED):
             arg.num_pages += 1
             max_header_width = max(max_header_width, len(line) - 1)
             header_lines += 1
             if arg.undo or arg.no_format:
-                buf_records.append([jlin + 1, PICT, 1, 0, line])
+                buf_records.append([jinp, PICT, 1, 0, line])
         elif line.startswith(MACRON):
             max_header_width = max(max_header_width, len(line))
             header_lines += 1
             if arg.undo or arg.no_format:
-                buf_records.append([jlin + 1, PICT, 1, 0, line])
+                buf_records.append([jinp, PICT, 1, 0, line])
         else:
-            buf_records.append([jlin + 1, PICT, 1, 0, line])
             max_body_width = max(max_body_width, len(line))
             body_lines += 1
-    if arg.verbose: inform(f"Read: yawp <-- {shortpath(arg.file)!r}")
+            buf_records.append([jinp, PICT, 1, 0, line])
+    if arg.verbose: inform(f'Read: yawp <-- {shortpath(arg.file)!r}')
     if arg.verbose: inform(f"    {plural(header_lines, 'header line')}, max {plural(max_header_width, 'char')} per line, {plural(arg.num_pages, 'page')}")
     if arg.verbose: inform(f"    {plural(body_lines, 'body line')}, max {plural(max_body_width, 'char')} per line")
     max_total_width = max(max_header_width, max_body_width)
     if arg.verbose: inform(f"    {plural(header_lines + body_lines, 'total line')}, max {plural(max_total_width, 'char')} per line")
     if not max_body_width:
         error(f'File {shortpath(arg.file)!r}, no printable character found')
     if arg.chars_per_line and not arg.char_width: # -w > 0 and -W == 0
         arg.char_width = arg.free_width / arg.chars_per_line # -W <-- -w
         if arg.verbose: inform(f'Compute: -W {in2str(arg.char_width)}')
-        if arg.char_width <= 0: error(f'Wrong -W {in2str(arg.char_width)} <= 0')
+        if arg.char_width <= 0:
+            error(f'Wrong -W {in2str(arg.char_width)} <= 0')
     elif not arg.chars_per_line and arg.char_width: # -w == 0 and -W > 0
         arg.chars_per_line = int(arg.free_width / arg.char_width) # -w <-- -W
         if arg.verbose: inform(f'Compute: -w {arg.chars_per_line}')
-        if arg.chars_per_line <= 0: error(f'Wrong -w {in2str(arg.chars_per_line)} <= 0')
+        if arg.chars_per_line <= 0:
+            error(f'Wrong -w {in2str(arg.chars_per_line)} <= 0')
     elif not arg.chars_per_line and not arg.char_width: # -w == 0 and -W == 0
         arg.chars_per_line = max_body_width # -w <-- file
         if arg.verbose: inform(f'Compute: -w {arg.chars_per_line}')
-        if arg.chars_per_line <= 0: error(f'Wrong -w {in2str(arg.chars_per_line)} <= 0')
+        if arg.chars_per_line <= 0:
+            error(f'Wrong -w {in2str(arg.chars_per_line)} <= 0')
         arg.char_width = arg.free_width / arg.chars_per_line # -W <-- -w
         if arg.verbose: inform(f'Compute: -W {in2str(arg.char_width)}')
-        if arg.char_width <= 0: error(f'Wrong -W {in2str(arg.char_width)} <= 0')
+        if arg.char_width <= 0:
+            error(f'Wrong -W {in2str(arg.char_width)} <= 0')
     if arg.calibration:
         arg.char_width2 = arg.char_width
     else:
         arg.char_width2 = max(0.0, linterpol(xyxy['pl'[arg.landscape] + 'cw'], arg.char_width))
         if arg.verbose: inform(f'Correct: -W {in2str(arg.char_width2)}')
     arg.chars_per_inch = 1.0 / arg.char_width
     arg.chars_per_margin2 = 1.0 / arg.char_width2
@@ -513,45 +578,46 @@
         arg.char_height2 = arg.char_height
     else:
         arg.char_height2 = linterpol(xyxy['pl'[arg.landscape] + 'ch'], arg.char_height)
         if arg.verbose: inform(f'Correct: char height {in2str(arg.char_height2)}')
     arg.lines_per_inch = 1.0 / arg.char_height
     arg.lines_per_margin2 = 1.0 / arg.char_height2
     arg.lines_per_page = int(arg.lines_per_inch * arg.free_height) - 3
-    arg.max_title = arg.chars_per_line // 2
-    arg.max_subject = arg.chars_per_line // 2
+    arg.half_line = arg.chars_per_line // 2
  
 def justify_input_into_output():
     is_python_file = arg.file.endswith('.py')
     format = not is_python_file 
-    for jlin, x, x, x, line in buf.input: # input --> par --> buf.output
+    for jinp, x, x, x, line in buf.input: # input --> par --> buf.output
         is_switch_line = is_python_file and "\'\'\'" in line
         if is_switch_line:
             format = not format
         if is_switch_line or not format: # Python code
-            par.flush(jlin)
-            buf.append(jlin, CODE, 0, 0, line)
+            par.flush()
+            buf.append(jinp, CODE, 0, 0, line)
         elif not line: # empty-line
-            par.flush(jlin)
-            buf.append(jlin, EMPT, 0, 0, '')
+            par.flush()
+            buf.append(jinp, EMPT, 0, 0, '')
         else:
             jdot = findchar(line, '[! ]')
             if jdot >= 0 and line[jdot:jdot+2] in [' ','. ']: # dot-line
-                par.flush(jlin)
-                par.append(line[jdot+2:], indent=jdot+2)
+                par.flush()
+                par.assign(line[jdot+2:], jinp, jdot + 2)
             elif line[0] == ' ': # indented-line
                 if par.string:
                     par.append(line)
                 else:
                     if len(line) > arg.chars_per_line:
-                        error(f'Length of picture line is {len(line)} > -w {arg.chars_per_line}', jlin, line)
-                    buf.append(jlin, PICT, 0, 0, line)
-            else: # unindented-line
+                        error(f'Length of picture line is {len(line)} > -w {arg.chars_per_line}', jinp, line)
+                    buf.append(jinp, PICT, 0, 0, line)
+            elif par.string: # unindented-line
                 par.append(line)
-    par.flush(jlin)
+            else:
+                par.assign(line, jinp, 0)
+    par.flush()
     if is_python_file and format:
         error('Python file, odd number of switch lines')
 
 def delete_redundant_empty_lines():
     '''reduce multiple EMPT lines between TEXT line and TEXT line
     (or between TEXT line and EOF) to one EMPT line only'''
     jout, first, last, kind0 = 0, -1, -1, PICT
@@ -570,255 +636,326 @@
     if kind0 == TEXT and 0 < first < last:
         del buf.output[first:last]
 
 def redraw_segments():
     charstr = '`'
     #          0123456789ABCDEF
     charset = frozenset(charstr)
-    for jout, (jlin, kind, jpag, lpic, line) in enumerate(buf.output):
+    for jout, (jinp, kind, jpag, lpic, line) in enumerate(buf.output):
         if kind == PICT:
             chars = list(line)
             for jchar, char in enumerate(chars):
                 if char in charset:
                     chars[jchar] = charstr[1 * (buf.char(jout, jchar - 1) in charset) +
                                            2 * (buf.char(jout + 1, jchar) in charset) +
                                            4 * (buf.char(jout - 1, jchar) in charset) +
                                            8 * (buf.char(jout, jchar + 1) in charset)]
             buf.output[jout][LINE] = ''.join(chars)
     
 def redraw_arrowheads():
     charstr = '^^^^^^^^^^^^'
     #          0123456789ABCDEF
     charset = frozenset(charstr)
-    for jout, (jlin, kind, jpag, lpic, line) in enumerate(buf.output):
+    for jout, (jinp, kind, jpag, lpic, line) in enumerate(buf.output):
         if kind == PICT:
             chars = list(line)
             for jchar, char in enumerate(chars):
                 if char in charset:
                     chars[jchar] = charstr[1 * (buf.char(jout, jchar - 1) == '') +
                                            2 * (buf.char(jout + 1, jchar) == '') +
                                            4 * (buf.char(jout - 1, jchar) == '') +
                                            8 * (buf.char(jout, jchar + 1) == '')]
             buf.output[jout][LINE] = ''.join(chars)
             
 def renumber_chapters():
-    levels = []
-    nout = len(buf.output)
-    for jout, (jlin, kind, jpag, lpic, line) in enumerate(buf.output):
+    levels = []; max_level = 1; nout = len(buf.output)
+    for jout, (jinp, kind, jpag, lpic, line) in enumerate(buf.output):
         prev_line = buf.output[jout-1][LINE] if jout > 0 else ''
         next_line = buf.output[jout+1][LINE] if jout + 1 < nout else ''
         if kind == TEXT and line and not prev_line and not next_line:
-            level, title = get_level_title(line)
+            words = line.split()
+            level = chapter_level(words[0])
+            title = uppunqshr(line)
             if level > 0: # numbered chapter line
-                if level > len(levels) + 1:
-                    error(f'Numbered chapter level > {len(levels)+1}', jlin, line)
+                if level > max_level:
+                    error(f'Numbered chapter level is {level} > {max_level}', jinp, line)
                 elif level == len(levels) + 1:
                     levels.append(1)
                 else:
                     levels = levels[:level]
                     levels[-1] += 1
+                title = uppunqshr(' '.join(words[1:]))
                 buf.output[jout][KIND] = CHP1 if level == 1 else CHP2
                 buf.output[jout][LINE] = '.'.join(str(level) for level in levels) + '. ' + title
-            elif title == arg.contents_title: # contents line
+                max_level = len(levels) + 1
+            elif title == arg.contents_title: # contents chapter line
                 buf.output[jout][KIND] = CONT
                 buf.output[jout][LINE] = title
-            elif shrink(line).upper() == arg.index_title: # index line
+                max_level = 1
+            elif title == arg.figures_title: # figures chapter line
+                buf.output[jout][KIND] = FIGU
+                buf.output[jout][LINE] = title
+                max_level = 1
+            elif title == arg.index_title: # index chapter line
                 buf.output[jout][KIND] = INDX
                 buf.output[jout][LINE] = title
-            else:
+                max_level = 1
+            else: # no chapter line
                 title = ''
-            if len(title) > arg.max_title:
-                error(f'Length of chapter title {title!r} = {len(title)} > {arg.max_title} = -w / 2', jlin, line)
-
+ 
 def add_chapters_to_contents():
-    for jout, (jlin, kind, jpag, lpic, line) in enumerate(buf.output):
+    for jout, (jinp, kind, jpag, lpic, line) in enumerate(buf.output):
         if kind == CONT:
-            if buf.contents_start > -1:
-                error('More than one contents line in file', jlin, line)
-            buf.contents_start = jout
-            if buf.index_stop == -1 < buf.index_start:
-                buf.index_stop = jout
+            if buf.contents_found:
+                error('More than one contents line in file', jinp, line)
+            buf.contents_found = True
+            # contents chapter doesn't list itself
+        elif kind == FIGU:
+            if buf.figures_found:
+                error('More than one figures line in file', jinp, line)
+            buf.figures_found = True
+            buf.contents.append(['', titunqshr(arg.figures_title), jout])
         elif kind == INDX:
-            if buf.index_start > -1:
-                error('More than one index line in file', jlin, line)
-            buf.index_start = jout
-            if buf.contents_stop == -1 < buf.contents_start:
-                buf.contents_stop = jout
-            buf.contents.append(['', arg.index_title.title(), jout])
+            if buf.index_found:
+                error('More than one index line in file', jinp, line)
+            buf.index_found = True
+            buf.contents.append(['', titunqshr(arg.index_title), jout])
         elif kind in [CHP1, CHP2]:
             prefix, title = (line.split(None, 1) + [''])[:2]
-            if buf.contents_stop == -1 < buf.contents_start:
-                buf.contents_stop = jout
-            if buf.index_stop == -1 < buf.index_start:
-                buf.index_stop = jout
-            buf.contents.append([prefix, title.title(), jout])
-    if buf.contents_start > -1 == buf.contents_stop:
-        buf.contents_stop = len(buf.output)
-    elif buf.index_start > -1 == buf.index_stop:
-        buf.index_stop = len(buf.output)
+            buf.contents.append([prefix, titunqshr(title), jout])
 
+def add_captions_to_figures():
+    if buf.figures_found:
+        seek = False
+        max_len_caption = 0
+        chapter = ''
+        letter = prevchar('a')
+        for jout, record in enumerate(buf.output):
+            jinp, kind, jpag, lpic, line = record
+            if kind in [CONT, INDX, FIGU]:
+                seek = True
+            elif kind in [CHP1, CHP2]:
+                seek = False
+                chapter = line.split()[0]
+                letter = prevchar('a')
+            elif not seek and kind == PICT and (
+                jout == 0 or buf.output[jout-1][KIND] == EMPT) and (
+                jout == len(buf.output) - 1 or buf.output[jout+1][KIND] == EMPT):
+                words = titunqshr(line).split()
+                if len(words) >= 2:
+                    prefix, label, *title = titunqshr(line).split()
+                    title = ' '.join(title)
+                    if prefix == arg.caption_prefix and figure_level(label.lower()) > 0:
+                        if letter == 'z':
+                            error('More than 26 figure captions in a single chapter', jinp, line)
+                        letter = nextchar(letter)
+                        label = f'{chapter}{letter}.'
+                        caption = f'{prefix} {label} {title}'
+                        max_len_caption = max(max_len_caption, len(caption))
+                        blanks = (arg.chars_per_line - len(caption)) // 2 * ' '
+##                        if len(blanks) < 6:
+##                            error(f'Caption {caption!r} is too long', jinp, line)
+                        buf.figures.append((label, title, jout))
+                        record[LINE] = blanks + caption
+                        record[KIND] = CAPT
+                        if jout >= 2 and buf.output[jout - 2][KIND] == PICT:
+                            buf.output[jout - 1][KIND] = PICT # paste caption with previous picture
+                        
 def add_quoted_subjects_to_index():
-    if buf.index_start > -1:
+    if buf.index_found:
         buf.qsub_jouts = SetDict() # {subject: jout}
-        quote = False; subject = ''; in_contents_or_index = False
-        for jout, (jlin, kind, jpag, lpic, line) in enumerate(buf.output):
-            if kind in [CONT, INDX]:
-                in_contents_or_index = True
+        quote = False; subject = ''; seek = True
+        for jout, (jinp, kind, jpag, lpic, line) in enumerate(buf.output):
+            if kind in [CONT, FIGU, INDX]:
+                seek = False
             elif kind in [CHP1, CHP2]:
-                in_contents_or_index = False
-            elif not in_contents_or_index:
+                seek = True
+            elif seek and kind == TEXT:
                 for jchar, char in enumerate(line + ' '):
                     if quote:
-                        if (char == '"' and
-                            get(line, jchar-1, ' ') not in QUOTES and
-                            get(line, jchar+1, ' ') not in QUOTES):
+                        if (char == '"' and get(line, jchar-1, ' ') not in QUOTES and get(line, jchar+1, ' ') not in QUOTES):
                             subject = shrink(subject)
                             buf.qsub_jouts.add(subject, jout)
                             buf.subjects.add(subject)
                             quote = False
                         else:
                             subject += char
-                            if len(subject) > arg.max_subject:
-                                    error(f'Length of subject "{subject}..." = {len(subject)} > {arg.max_subject}')
-                    elif (char == '"' and
-                          get(line, jchar-1, ' ') not in QUOTES and
-                          get(line, jchar+1, ' ') not in QUOTES):
+                            if len(subject) > arg.half_line:
+                                error(f'Length of subject "{subject}..." > -w / 2 = {arg.half_line}')
+                    elif (char == '"' and get(line, jchar-1, ' ') not in QUOTES and get(line, jchar+1, ' ') not in QUOTES):
                         subject = ''
                         quote = True
             else:
                 if quote:
                     error('Unpaired \'"\' found while filling the index')
         if quote:
             error('Unpaired \'"\' found while filling the index')
 
 def add_unquoted_subjects_to_index():
-    if buf.index_start > -1:
+    if buf.index_found:
         buf.uqsub_jouts = SetDict() # {subject: jout}
         charset = set(chars('[a-zA-Z0-9]') + ''.join(buf.qsub_jouts.keys()))
         word_jouts = [] # [(word, jout)]
-        in_contents_or_index = False
-        for jout, (jlin, kind, jpag, lpic, line) in enumerate(buf.output):
-            if kind in [CONT, INDX]:
-                in_contents_or_index = True
+        seek = True
+        for jout, (jinp, kind, jpag, lpic, line) in enumerate(buf.output):
+            if kind in [CONT, FIGU, INDX]:
+                seek = False
             elif kind in [CHP1, CHP2]:
-                in_contents_or_index = False
-            elif not in_contents_or_index:
+                seek = True
+            elif seek and kind == TEXT:
                 for word in take(line, charset, ' ').split():
                     word_jouts.append((word, jout))
         sub0_subws = ListDict() # {subject.word[0]: subject.word[1:]}
         for subject in buf.qsub_jouts.keys():
             subjectwords = subject.split()
             sub0_subws.append(subjectwords[0], subjectwords[1:])
         for jword_jouts, (sub0, jout) in enumerate(word_jouts):
             if sub0 in sub0_subws:
                 for subw in sub0_subws[sub0]:
                     subject = sub0 + ' ' + ' '.join(subw) if subw else sub0
                     if subject == ' '.join(w for w, j in word_jouts[jword_jouts: jword_jouts + len(subw) + 1]):
                         buf.uqsub_jouts.add(subject, jout)
                         buf.subjects.add(subject)
 
-def insert_contents():
-    jlin = buf.output[buf.contents_start][JLIN]
-    del buf.output[buf.contents_start + 1:buf.contents_stop] # delete old contents
-    buf.output.insert(buf.contents_start + 1, [jlin, TEXT, 0, 0, '']) # insert new contents
-    fmt_prefix = max((len(prefix) for prefix, titl, jpag in buf.contents), default=0)
-    fmt_title = max((len(titl) for prefix, titl, jpag in buf.contents), default=0)
-    for prefix, title, jpag in buf.contents[::-1]:
-        buf.output.insert(buf.contents_start+1,
-            [jlin, TEXT, 0, 0, f'{INDENT} {edit(prefix, fmt_prefix)} {edit(title, fmt_title)}'])
-    buf.output.insert(buf.contents_start+1, [jlin, TEXT, 0, 0, ''])
-
-def insert_index():
-    jlin = buf.output[buf.index_start][JLIN]
-    del buf.output[buf.index_start + 1:buf.index_stop] # delete old index
-    buf.output.insert(buf.index_start + 1, [jlin, TEXT, 0, 0, '']) # insert new index
+def append_contents_to(output2):
+    jinp = output2[-1][JINP]
+    output2.append([jinp, TEXT, 0, 0, ''])
+    fmt_labl = max((len(labl) for labl, titl, jpag in buf.contents), default=0)
+    fmt_titl = max((len(titl) for labl, titl, jpag in buf.contents), default=0)
+    for labl, titl, jpag in buf.contents:
+        line = f'{INDENT} {edit(labl, fmt_labl)} {edit(titl, fmt_titl)}'
+        if len(line.rstrip()) > arg.chars_per_line:
+            error(f'Length of contents chapter line {line!r} is {len(line.rstrip())} > -w = {arg.chars_per_line}') 
+        output2.append([jinp, TEXT, 0, 0, line])
+    output2.append([jinp, TEXT, 0, 0, ''])
+
+def append_figures_to(output2):
+    jinp = output2[-1][JINP]
+    output2.append([jinp, TEXT, 0, 0, ''])
+    fmt_labl = max((len(labl) for labl, titl, jpag in buf.figures), default=0)
+    fmt_titl = max((len(titl) for labl, titl, jpag in buf.figures), default=0)
+    for labl, titl, jpag in buf.figures:
+        line = f'{INDENT} {edit(labl, fmt_labl)} {edit(titl, fmt_titl)}'
+        if len(line.rstrip()) > arg.chars_per_line:
+            error(f'Length of figures chapter line {line!r} is {len(line.rstrip())} > -w = {arg.chars_per_line}') 
+        output2.append([jinp, TEXT, 0, 0, line])
+    output2.append([jinp, TEXT, 0, 0, ''])
+
+def append_index_to(output2):
+    jinp = output2[-1][JINP]
+    output2.append([jinp, TEXT, 0, 0, ''])
     room = max((len(subject) for subject in buf.subjects), default=0) + 1
-    for subject in sorted(buf.subjects, reverse=True):
-        buf.output.insert(buf.index_start+1, [jlin, TEXT, 0, 0, f'{INDENT} {edit(subject, room)}'])
-    buf.output.insert(buf.index_start+1, [jlin, TEXT, 0, 0, ''])
-
-def insert_contents_and_index():
-    if -1 < buf.contents_start < buf.index_start: 
-        insert_contents()
-        index_shift = (len(buf.contents) + 2) - (buf.contents_stop - buf.contents_start - 1)
-        buf.index_start += index_shift
-        buf.index_stop += index_shift
-        insert_index()
-    elif -1 < buf.index_start < buf.contents_start:
-        insert_index()
-        contents_shift = (len(buf.index) + 2) - (buf.index_stop - buf.index_start - 1)
-        buf.contents_start += contents_shift
-        buf.contents_stop += contents_shift
-        insert_contents()
-    elif -1 < buf.contents_start:
-        insert_contents()
-    elif -1 < buf.index_start:
-        insert_index()
+    for subject in sorted(buf.subjects):
+        line = f'{INDENT} {edit(subject, room)}'
+        if len(line.rstrip()) > arg.chars_per_line:
+            error(f'Length of index chapter line {line!r} is {len(line.rstrip())} > -w = {arg.chars_per_line}') 
+        output2.append([jinp, TEXT, 0, 0, line])
+    output2.append([jinp, TEXT, 0, 0, ''])
+
+def insert_contents_figures_and_index():
+    output2 = []
+    copy = True
+    for record in buf.output:
+        kind = record[KIND]
+        if kind == CONT:
+            buf.contents_jout = len(output2)
+            output2.append(record)
+            append_contents_to(output2)
+            copy = False
+        elif kind == FIGU:
+            buf.figures_jout = len(output2)
+            output2.append(record)
+            append_figures_to(output2)
+            copy = False
+        elif kind == INDX:
+            buf.index_jout = len(output2)
+            output2.append(record)
+            append_index_to(output2)
+            copy = False
+        elif kind in [CHP1, CHP2]:
+            output2.append(record)
+            copy = True
+        elif copy:
+            output2.append(record)
+    buf.output = output2
 
 def count_picture_lines():
     jpic = 0
-    for jout, (jlin, kind, jpag, lpic, line) in retroenum(buf.output):
-        if kind == PICT:
+    for jout, record in retroenum(buf.output):
+        if record[KIND] in [PICT, CAPT]:
             jpic += 1
-            if jout == 0 or buf.output[jout-1][KIND] != PICT:
+            if jout == 0 or buf.output[jout-1][KIND] not in [PICT, CAPT]:
                 buf.output[jout][LPIC] = jpic
         else:
             jpic = 0
 
 def count_pages():
     jpag, jpagline = 1, 0
-    for jout, (jlin, kind, zero, lpic, line) in enumerate(buf.output):
-        if (jpagline + lpic * (lpic < arg.lines_per_page) >= arg.lines_per_page or
-            arg.form_feed_chap and kind in [CONT, INDX, CHP1] and not
-            (jout >= 2 and not buf.output[jout-1][LINE] and buf.output[jout-1][JPAG] > buf.output[jout-2][JPAG])):
+    for jout, (jinp, kind, zero, lpic, line) in enumerate(buf.output):
+        if jpagline >= arg.lines_per_page or arg.eject_pict_chap and (
+            lpic < arg.lines_per_page and jpagline + lpic >= arg.lines_per_page or
+            arg.eject_pict_chap and kind in [CONT, INDX, FIGU, CHP1] and not (
+                jout >= 2 and not buf.output[jout-1][LINE] and buf.output[jout-1][JPAG] > buf.output[jout-2][JPAG])):
             jpag += 1
             jpagline = 0
         else:
             jpagline += 1
         buf.output[jout][JPAG] = jpag
     arg.tot_pages = jpag
-
+    
 def add_page_numbers_to_contents():
-    if buf.contents_start > -1:
+    if buf.contents_jout > -1:
         fmt_jpag = len(str(buf.output[-1][JPAG])) + 1
         for jcontents, (prefix, titl, jout) in enumerate(buf.contents):
-            buf.output[buf.contents_start + 2 + jcontents][LINE] += edit(buf.output[jout][JPAG], fmt_jpag)
+            line = buf.output[buf.contents_jout + 2 + jcontents][LINE] + edit(buf.output[jout][JPAG], fmt_jpag)
+            if len(line) > arg.chars_per_line:
+                error(f'Length of contents chapter line {line!r} is {len(line)} > -w = {arg.chars_per_line}')
+            buf.output[buf.contents_jout + 2 + jcontents][LINE] = line
 
 def add_page_numbers_to_index():
-    if buf.index_start > -1:
+    if buf.index_jout > -1:
         qsub_jpags = SetDict() # {quoted_subject: {jpag}}
         for subject, jouts in buf.qsub_jouts.items():
             for jout in jouts:
                 qsub_jpags.add(subject, buf.output[jout][JPAG])
         uqsub_jpags = SetDict() # {unquoted_subject: {jpag}}
         for subject, jouts in buf.uqsub_jouts.items():
             for jout in jouts:
                 jpag = buf.output[jout][JPAG]
                 if jpag not in qsub_jpags[subject]:
                     uqsub_jpags.add(subject, jpag)
         for jindex, subject in enumerate(sorted(buf.subjects)):
             jpag_strjs = sorted((jpag, f'"{jpag}"' if jpag in qsub_jpags[subject] else str(jpag))
                 for jpag in (qsub_jpags[subject] | uqsub_jpags[subject])) # [(jpag, str(jpag))]
-            line = buf.output[buf.index_start + 2 + jindex][LINE] + ', '.join(strj for jpag, strj in jpag_strjs)
+            line = buf.output[buf.index_jout + 2 + jindex][LINE] + ', '.join(strj for jpag, strj in jpag_strjs)
             if len(line) > arg.chars_per_line:
-                warning(f'Index line for subject {subject!r} longer than -w {arg.chars_per_line}, truncated')
+                if arg.verbose: warning(f"Index line for subject {subject!r} longer than -w {arg.chars_per_line}, truncated and ended with '...'")
                 while True:
                     line = line[:line.rfind(',')]
                     if len(line) + 5 <= arg.chars_per_line:
                         break
                 line += ', ...'
-            buf.output[buf.index_start + 2 + jindex][LINE] = line
+            buf.output[buf.index_jout + 2 + jindex][LINE] = line
+
+def add_page_numbers_to_figures():
+    if buf.figures_jout > -1:
+        fmt_jpag = len(str(buf.output[-1][JPAG])) + 1
+        for jfigures, (prefix, title, jout) in enumerate(buf.figures):
+            line = buf.output[buf.figures_jout + 2 + jfigures][LINE] + edit(buf.output[jout][JPAG], fmt_jpag)
+            if len(line) > arg.chars_per_line:
+                error(f'Length of figures chapter line {line!r} is {len(line)} > -w = {arg.chars_per_line}')
+            buf.output[buf.figures_jout + 2 + jfigures][LINE] = line
     
 def insert_page_headers():
     jout = 0; jpag0 = 1; chapter = ''; npag = buf.output[-1][JPAG]
     header2 = arg.chars_per_line * MACRON
     while jout < len(buf.output):
-        jlin, kind, jpag, lpic, line = buf.output[jout]
-        if kind in [CONT, INDX, CHP1]:
-            chapter = line.title()
+        jinp, kind, jpag, lpic, line = buf.output[jout]
+        if kind in [CONT, INDX, FIGU, CHP1]:
+            chapter = titunqshr(line)
         if jpag > jpag0:
             left, right = ((arg.even_right, arg.even_left) if arg.all_pages_E_e else
                            (arg.odd_left, arg.odd_right) if jpag % 2 else
                            (arg.even_left, arg.even_right))
             PpfeYmdHMSnNc = arg.PpfeYmdHMS + (str(jpag), str(npag), chapter)
             left = change(left, 'PpfeYmdHMSnNc', PpfeYmdHMSnNc, '%')
             right = change(right, 'PpfeYmdHMSnNc', PpfeYmdHMSnNc, '%')
@@ -843,21 +980,22 @@
                 header1 = f'{left} {right}' 
                 error(f"Length of header {header1!r} is {len(header1)} > -w {arg.chars_per_line}")
             buf.output[jout-3][LINE] = f'{FORMFEED}{left}{blanks}{right}'
         jout += 1
 
 def backup_file():
     backfile = newbackfile(arg.file, arg.start_time)
-    shell(f'mv {arg.file!r} {backfile!r}', mode=arg.shell_mode, file=stderr)
+    shell(f'mv {arg.file!r} {backfile!r}')
     if arg.verbose: inform(f'Backup: {shortpath(arg.file)!r} --> {shortpath(backfile)!r}')
 
 def rewrite_file():
     header_lines, body_lines, arg.num_pages, max_body_width, max_header_width = 0, 0, 1, 0, 0
     with open(arg.file, 'w') as output:
-        for jlin, kind, jpag, lpic, line in buf.output:
+        for jinp, kind, jpag, lpic, line in buf.output:
+            line = line.rstrip()
             print(line, file=output)
             if line.startswith(FORMFEED):
                 arg.num_pages += 1
                 max_header_width = max(max_header_width, len(line) - 1)
                 header_lines += 1
             elif line.startswith(MACRON):
                 max_header_width = max(max_header_width, len(line))
@@ -867,88 +1005,94 @@
                 body_lines += 1
     if arg.verbose: inform(f"Rewrite: yawp --> {shortpath(arg.file)!r}")
     if arg.verbose: inform(f"    {plural(header_lines, 'header line')}, max {plural(max_header_width, 'char')} per line, {plural(arg.num_pages, 'page')}")
     if arg.verbose: inform(f"    {plural(body_lines, 'body line')}, max {plural(max_body_width, 'char')} per line")
     max_total_width = max(max_header_width, max_body_width)
     if arg.verbose: inform(f"    {plural(header_lines + body_lines, 'total line')}, max {plural(max_total_width, 'char')} per line")
 
-def print_output_into_stdout():
-    if arg.verbose: inform(f'Print: {shortpath(arg.file)!r} --> stdout')
-    for rec in buf.output:
-        print(rec[LINE])
+#--------------------------------------------------------------------------
+
+def undo_mode():
+    restore_file()
+    read_file_into(buf.output)
+
+def no_format_mode():
+    read_file_into(buf.output)
+    if arg.graphics: # -g ?
+        redraw_segments()
+        redraw_arrowheads()
+    backup_file()
+    rewrite_file()
+
+def format_mode():
+    read_file_into(buf.input)
+    justify_input_into_output()
+    delete_redundant_empty_lines()
+    if arg.graphics: # -g ?
+        redraw_segments()
+        redraw_arrowheads()
+    renumber_chapters()
+    add_chapters_to_contents()
+    add_captions_to_figures()
+    add_quoted_subjects_to_index()
+    add_unquoted_subjects_to_index()
+    insert_contents_figures_and_index()
+    if arg.eject or arg.eject_pict_chap: # -j or -J ?
+        count_picture_lines()
+        count_pages()
+        add_page_numbers_to_contents()
+        add_page_numbers_to_figures()
+        add_page_numbers_to_index()
+        insert_page_headers()
+    backup_file()
+    rewrite_file()
 
 def export_output_into_file_pdf():
     shell(f'lp -d PDF '
           f'-o print-quality={MAX_QUALITY} '
           f'-o media=Custom.{in2pt(arg.paper_width)}x{in2pt(arg.paper_height)} '
           f'-o cpi={arg.chars_per_margin2} '
           f'-o lpi={arg.lines_per_margin2} '
           f'-o page-top={in2pt(arg.top_margin2)} '
           f'-o page-left={in2pt(arg.left_margin2)} '
           f'-o page-right={0 if arg.num_pages > 1 else in2pt(arg.right_margin2)} '
           f'-o page-bottom={0 if arg.num_pages > 1 else in2pt(arg.bottom_margin2)} '
-          f'{arg.file!r}', mode=arg.shell_mode, file=stderr)
+          f'{arg.file!r}')
     while True: # wait lp completion
         sleep(0.1)
-        lines = shell(f'lpq -P PDF', mode=arg.shell_mode, file=stderr)
+        lines = shell(f'lpq -P PDF')
         if not any(line.startswith('active') for line in lines):
             break
     file_pdf = lastfile('~/PDF/*.pdf')
     if not file_pdf:
         error('Exported PDF file not found')
-    shell(f'rm -f {arg.file_pdf!r}', mode=arg.shell_mode, file=stderr)
-    shell(f'mv {file_pdf!r} {arg.file_pdf!r}', mode=arg.shell_mode, file=stderr)
+    if isfile(arg.file_pdf): remove(arg.file_pdf)
+    rename(file_pdf, arg.file_pdf)
     if arg.verbose: inform(f'Export: {shortpath(arg.file)!r} --> {shortpath(arg.file_pdf)!r}')
 
-def open_file_pdf():
-    shell(f'xdg-open {arg.file_pdf}', mode=arg.shell_mode, file=stderr)
+def view_file_pdf():
+    shell(f'{arg.view_pdf_by} {arg.file_pdf}')
 
-#-----main -----
+#--------------------------------------------------------------------------
 
 def main():
     try:
         simplefilter('ignore')
         get_arguments()
         get_configuration()
         check_arguments()
         if arg.undo: # -U ?
-            restore_file()
-            read_file_into(buf.output)
+            undo_mode()
         elif arg.no_format: # -N ?
-            read_file_into(buf.output)
-            if arg.graphics: # -g ?
-                redraw_segments()
-                redraw_arrowheads()
-            backup_file()
-            rewrite_file()
-        else: # not -U and not -N ?
-            read_file_into(buf.input)
-            justify_input_into_output()
-            delete_redundant_empty_lines()
-            if arg.graphics: # -g ?
-                redraw_segments()
-                redraw_arrowheads()
-            renumber_chapters()
-            add_chapters_to_contents()
-            add_quoted_subjects_to_index()
-            add_unquoted_subjects_to_index()
-            insert_contents_and_index()
-            if arg.form_feed: # -f or -F ?
-                count_picture_lines()
-                count_pages()
-                add_page_numbers_to_contents()
-                add_page_numbers_to_index()
-                insert_page_headers()
-            backup_file()
-            rewrite_file()
-        if arg.print_file: # -p ?
-            print_output_into_stdout()
-        if arg.file_pdf: # -P ?
+            no_format_mode()
+        else: # not -U and not -N
+            format_mode()
+        if arg.export_view_pdf: # -X ?
             export_output_into_file_pdf()
-            open_file_pdf()
+            view_file_pdf()
     except KeyboardInterrupt:
         print()
 
 if __name__ == '__main__':
     main()
 
 #----- end -----
```

### Comparing `yawp-0.6.1/yawp/docs/yawp.pdf` & `yawp-0.7.1/yawp/docs/yawp.pdf`

 * *Installing the 'pypdf' Python module from the 'python3-pypdf' package may produce a better output.*

 * *Files 12% similar despite different names*

#### pdftotext {} -

```diff
@@ -1,22 +1,22 @@
 
 
 
 
-YAWP 0.6.1 MANUAL
+YAWP 0.7.1 MANUAL
 
 
  
 
 Yet Another Word Processor
  
 
  
 
-2022-05-05
+2022-06-25
  
 
  
 
 Carlo Alessandro Verre
  
 
@@ -28,342 +28,416 @@
 
 
 
 
 I sound my barbaric yawp over the roofs of the world
 Walt Whitman
 
-2/30
-Yawp 0.6.1 Manual
-
+2/34
+Yawp 0.7.1 Manual
+
 CONTENTS
  1.
 Forewords
 3
- 1.1. What Is Yawp?
+ 1.1.
+What'S Yawp?
 3
- 1.2. Installation
+ 1.2.
+Installation
 4
- 1.3. Messages
+ 1.3.
+Messages
+4
+ 1.4.
+Glossary
 4
  2.
 Usage Modes
-5
+6
+ 2.1.
+Format Mode
+6
+ 2.2.
+No-Format Mode
+6
+ 2.3.
+Undo Mode
+6
  3.
+Formatting
+7
+ 3.1.
 Justification
-6
- 4.
+7
+ 3.2.
+Best Practices
+8
+ 3.3.
 Python Files
 9
- 5.
+ 4.
 Chapters
-11
- 5.1. Numbered Chapters
-11
- 5.2. Contents Chapter
 12
- 5.3. Index Chapter
+ 4.1.
+Unnamed Chapter
+12
+ 4.2.
+Numbered Chapters 12
+ 4.3.
+Automatic Chapters 14
+ 4.3.1. Contents Chapter
 14
- 6.
-Paging
+ 4.3.2. Figures Chapter
+15
+ 4.3.3. Index Chapter
 16
- 7.
-Graphics
+ 5.
+Paging
 18
- 8.
+ 6.
+Graphics
+20
+ 7.
+Pdf
+23
+ 7.1.
 Pdf Exporting
-21
- 9.
-Corrections
 23
- 10.
+ 7.2.
+Pdf Corrections
+24
+ 8.
 Afterwords
-26
- 10.1. Acronyms
-26
- 10.2. Characters
-26
- 10.3. Credits
-26
- 10.4. History
-27
- 10.5. License
-27
- 11.
-Summary Of Arguments 28
+28
+ 8.1.
+Acronyms
+28
+ 8.2.
+Characters
+28
+ 8.3.
+Credits
+28
+ 8.4.
+History
+29
+ 8.5.
+License
+29
+ 9.
+Arguments
+31
+
+Figures
+32
 
 Index
-29
+33
 
 1. Forewords
-3/30
-
+3/34
+
 1. FOREWORDS
-1.1. WHAT IS YAWP?
-The name "yawp" here means Yet Another Word Processor, and yawp is an
-automatic word processor for plain text files, with PDF output. If you
-really need all the features of a full-fledged WYSIWYG word processor as
-LibreOffice Writer, yawp is not for you. But if you just want to create a
-simple quick-and-dirty no-frills document, with yawp you can:
+1.1. WHAT'S YAWP?
+The name "yawp" here means Yet Another Word Processor, and yawp is an automatic
+(batch, not interactive) word processor for plain text files, with PDF export.
+If you really need all the features of a full-fledged WYSIWYG word processor as
+LibreOffice Writer, yawp is not for you. But if you just want to create a simple
+quick-and-dirty no-frills document, with yawp you can:
  edit a text file by your favorite editor
  run yawp in order to:
  backup read format and rewrite the text file
- export the text file in a PDF file
- open the PDF file for check or print
+ export the text file into a PDF file
+ view the PDF file for check or print
  possibly go back to the editor and update the text file, or finish
 
 backup 
 
 
  file 
 
+
 
 
+messages 
 
-restore
-
- (undo)
+undo 
 backup
 
-
-
+
 
 
+
 
 
 
 
+
  read
 
-
-
+ show 
 
  edit
  text 
- export  PDF
-
+
+
  editor
 
 
 
 yawp
-
+
+ PDF
 
 
 
  file 
+
 
- file 
 
 
  rewrite 
-
-
+ export
+ file 
 
 
-
+
 
 
 
 check
 
-
+
+Figure 1.1.a. Usage Flow Diagram
 Main features are:
- yawp processes in place a single text file, hereinafter referred to
-simply as the "file"
- yawp before processing makes a timestamped backup of the file,
-allowing undo operation (see '2. Usage Modes')
- yawp processing is driven by the text in the file and by arguments
-only, not by commands or tags embedded in text
- yawp justifies (see '3. Justification') text at left and right in:
+ yawp processes in place a single text file, hereinafter referred to simply
+as "the file"
+ yawp before processing creates a timestamped backup of the file, allowing
+undo operation (see 2.3.)
+ yawp processing is driven by the text in the file and by arguments only,
+not by commands or tags embedded in text
+ yawp justifies (see 3.1.) text at left and right in:
  unindented paragraphs
  dot-marked indented paragraphs (as this one)
- yawp accepts unjustified pictures (as schemas, tables and code
-examples) freely intermixed with text
- yawp adopts an ad hoc policy for Python files, formatting the
-docstrings but not the Python code (see '4. Python Files')
- yawp performs multi-level chapter renumbering (see '5.1. Numbered
-Chapters')
- yawp inserts an automatic contents chapter in the file (see '5.2.
-Contents Chapter')
- yawp recognizes relevant subjects (quoted by '"') and inserts an
-automatic index chapter in the file (see 5.3. Index Chapter)
- yawp cuts the file in pages, by automatic insertion of two-lines page
-headers (see '6. Paging')
- yawp also has some limited graphic features, you can sketch pictures
-with segments (by '`') and arrowheads (by '^'), yawp redraws them by
-proper
-graphic characters (as in the picture above, see '7.
-Graphics')
-
-4/30
-Yawp 0.6.1 Manual
-
+ yawp accepts unjustified pictures (as schemas, tables and code examples)
+freely intermixed with text
+ yawp adopts an ad hoc policy for Python files, formatting the docstrings
+but not the Python code (see 3.3.)
+ yawp performs automatic multi-level renumbering of chapters (see 4.2.) and
+inserts an automatic contents chapter in the file (see 4.3.1.)
+ yawp performs automatic renumbering of figure captions and inserts an
+automatic figures chapter in the file (see 4.3.2.)
+ yawp recognizes relevant subjects (quoted by '"') and inserts an automatic
+index chapter in the file (see 4.3.3.)
+ yawp cuts the file in pages, by inserting 2-lines page headers (see 5.)
+ yawp also has some limited graphic features, you can sketch pictures with
+segments (by '`') and arrowheads (by '^'), yawp redraws them by suitable
+graphic characters (as in Figure 1.1.a. above, see 6.)
  yawp exports the resulting lines in PDF format, with control over
-character size and page layout, and opens for you the generated PDF
-file, allowing preview and printing (see '8. Pdf Exporting')
- yawp corrects errors made by CUPS-PDF about font size and page
-margins, you can use default corrections or redefine them by yawp.cfg
-(see '9. Corrections')
- yawp is "stable", namely if after a yawp execution you run yawp again
-on the same file with the same arguments, the file content doesn't
-change (except date and time in page headers, see '6. Paging')
-Everything has been kept as simple as possible.
-As an example, this
-yawp.txt by typing:
-
-"yawp
-
-manual"
-
-has
-
-been
-
-created as yawp.pdf from
-
- $ yawp -v -w 75 -F -E 'Yawp 0.6.1 Manual' yawp.txt
+character size and page layout, and lets you view the generated PDF file,
+allowing preview and printing (see 7.1.)
+ yawp corrects errors made by CUPS-PDF about font size and page margins,
+you can use default corrections or redefine them by yawp.cfg (see 7.2.)
+ yawp is "stable", namely if after a yawp execution you run yawp again on
+
+4/34
+Yawp 0.7.1 Manual
+
+the same file with the same arguments, the file content doesn't change
+(except date and time in page headers, see 5.)
+Believe it or not, everything has been kept as simple as possible. In order to
+use yawp, you need to know how it works, but for a quick start you can skip
+chapters 3.2. and 7.2.
+As an example, this "Yawp Manual" has been created as yawp.pdf from yawp.txt by
+typing:
+ $ yawp -v -w 80 -J -E 'Yawp 0.7.1 Manual' -X yawp.txt
 Other examples are scattered below.
 1.2. INSTALLATION
-CUPS-PDF provides a PDF writer backend to CUPS, and yawp needs it to export
-the file in PDF format by the lp command. For example, if your Linux
-belongs to the Debian family, type:
+CUPS-PDF
+file in
+type:
+
+provides a PDF writer backend to CUPS, and yawp needs it to export the
+PDF format. For example, if your Linux belongs to the Debian family,
+
  $ sudo apt-get -y update
  $ sudo apt-get -y install printer-driver-cups-pdf
 If you don't have pip, type:
  $ sudo apt-get -y install python3-pip
 If you type at terminal:
  $ pip3 install --upgrade yawp
 this command will:
  install current version of yawp if not present
  upgrade yawp to the current version if already installed
 If you see a message like this:
  WARNING: The script yawp is installed in ... which is not on PATH.
 don't worry, a reboot should fix the problem.
 1.3. MESSAGES
 During execution yawp can write three kinds of messages:
- an "information message" says what's going on (but only if -v is on)
- a "warning message" (starting with 'WARNING:') says what may be
-wrong, and processing continues
- an "error message" (starting with 'ERROR:') says what's wrong, file
-backup
-and rewriting don't take place and yawp execution is
-terminated
-All three types of messages are written on stderr, in order to avoid
-interference with -p option, which writes the processed file on stdout.
-When applicable, warning and error messages are preceded by position and
-content of the offending line in the file.
-
-2. Usage Modes
-5/30
-
+ an "information message" says what's going on
+ a "warning message" (starting with 'WARNING:') says what may be wrong, and
+yawp processing continues
+ an "error message" (starting with 'ERROR:') says what's wrong, file backup
+and rewriting don't take place and yawp processing is terminated
+Information
+on.
+
+messages
+
+and warning messages are displayed only if -v argument is
+
+All three types of messages are written on stderr.
+When applicable, warning and error messages are preceded by position and content
+of the offending line in the file, or in yawp.cfg configuration file.
+The file is read in RAM and then processed several times, so if the file
+contains more than one error, the displayed error message doesn't necessarily
+indicate the first error in the file.
+1.4. GLOSSARY
+Some terms here have a different meaning from that commonly in use.
+To "shrink" a character string means:
+
+1. Forewords
+5/34
+
+ to strip away all leading and trailing blanks, and
+ to reduce each internal group of consecutive blanks to a single blank
+For instance, the string:
+'
+
+aAa
+
+bBb
+
+"cCc"
+
+'
+
+if shrunk, becomes:
+'aAa bBb "cCc"'
+To "uppercase" a character string means to uppercase all characters in it,
+except characters quoted by double quote '"', which remain unchanged.
+For instance, the string:
+'aAa bBb "cCc"'
+if uppercased, becomes:
+'AAA BBB "cCc"'
+To "titlecase" a character string means to uppercase the first character of each
+word in it, and to lowercase all the others, except the characters quoted by
+double quote '"', which remain unchanged.
+For instance, the string:
+'aAa bBb "cCc"'
+if titlecased, becomes:
+'Aaa Bbb "cCc"'
+Two strings are said to be "equivalent" if, shrunk and uppercased, they become
+equal. For instance the strings:
+x = '
+y = '
+
+aAa
+
+bBb
+aaa
+
+"cCc" '
+BBB
+"cCc"'
+
+are equivalent because:
+uppercase(shrink(x)) == 'AAA BBB "cCc"' == uppercase(shrink(y))
+Other terms will be explained when they are used.
+
+6/34
+Yawp 0.7.1 Manual
+
 2. USAGE MODES
 General behaviour is controlled by the following arguments:
- "-h, --help": show a short help message and exit
- "-H, --manual": open this PDF "yawp manual" and exit
+ "-h, --help": show a help message and exit
+ "-H, --manual": view this yawp-generated PDF Yawp Manual and exit
  "-V, --version": show program's version number and exit
- "-v, --verbose": display information messages on stderr
- "-s, --echo-shell": display invoked Unix commands on stderr
-Two arguments, -U and -N, define three usage modes. To turn on both -U and
--N is not allowed. If neither -U nor -N is on, yawp runs in "standard
-mode":
+ "-v, --verbose": display information and warning messages on stderr
+Two arguments, -N and -U:
+ "-N, --no-format": run in no-format mode (default: run in format mode)
+ "-U, --undo": run in undo mode (default: run in format mode)
+define three usage modes:
+ format mode (-N off and -U off, see 2.1.)
+ no-format mode (-N on, see 2.2.)
+ undo mode (-U on, see 2.3.)
+To turn on both -U and -N is not allowed.
+In all three usage
+format (see 7.1.).
+
+modes, the file can finally be exported and viewed in PDF
+
+2.1. FORMAT MODE
+If neither -N nor -U is on, yawp runs in "format mode":
  the file is read, eliminating:
  page header lines
- trailing blanks in lines
  "horizontal tab" '\t' in lines, each replaced by four blanks
- the file content is formatted, see chapters 3. 4. 5. and 6.
- if -g is on, pictures are redrawn, see '7. Graphics' chapter
- the file is backed up in a timestamped copy
- the file is rewritten
-If -N is on, yawp runs in "no-format mode":
- "-N, --no-format": leave the file unchanged
- the file is read, eliminating:
  trailing blanks in lines
- "horizontal tab" '\t' in lines, each replaced by four blanks
- if -g is on, pictures are redrawn, see '7. Graphics' chapter
+ the file content is formatted (see 3. 4. and 5.)
+ if -g is on, pictures are redrawn (see 6.)
  the file is backed up in a timestamped copy
  the file is rewritten
-Note that the input page headers are eliminated (and possibly reinserted)
-in standard mode, while they are kept in no-format mode.
 A text file is a sequence of lines, separated by line terminators. Both in
-standard and in no-format mode, file reading is in "universal newlines"
-mode, so three line terminators are accepted:
+format and in no-format mode, file reading is in "universal newlines" mode, so
+three line terminators are accepted:
  "line feed" = '\n' (Unix-Linux-Apple)
- "carriage return" + "line feed" = '\r\n' (Microsoft-Windows)
+ "carriage return" + "line feed" = '\r\n' (MS-Windows)
  "carriage return" = '\r' (Apple old MacOS pre-OSX)
 When the file is rewritten, the line terminator is always '\n'.
-If -U is on, yawp runs in "undo mode":
- "-U, --undo": restore the file from its previous version
- the file is recovered from the most recent backup
- -g argument has no effect
-BEWARE: undo operation can't be undone, the
-penultimate version and the last one is lost.
+2.2. NO-FORMAT MODE
+If -N is on, yawp runs in "no-format mode":
+ the file is read, eliminating:
+ "horizontal tab" '\t' in lines, each replaced by four blanks
+ trailing blanks in lines
+ if -g is on, pictures are redrawn (see 6.)
+ the file is backed up in a timestamped copy
+ the file is rewritten
+Input page header lines are kept in output.
+2.3. UNDO MODE
+If -U is on, yawp runs in "undo mode". The file is recovered from the most
+recent timestamped backup. The -g argument has no effect.
+BEWARE: undo operation can't be undone, the file goes back to the penultimate
+version and the last one is lost.
+
+3. Formatting
+7/34
+
+3. FORMATTING
+3.1. JUSTIFICATION
+As said before, in format mode each page "header line" inserted by yawp (see 5.)
+is removed from the input file. Each remaining "body line" belongs to one of
+these four kinds:
+ a line is an "empty line" if it contains no characters (all trailing
+blanks in input lines are stripped away, hence every input line containing
+only blanks becomes an empty line)
+ otherwise a line is a "dot line" if it's not empty and starts with:
+ zero or more blanks
+ a "dot character", which can be:
+ a "black small circle" '', or
+ a "decimal point" '.' (always replaced by '' on output)
+ a blank
+ otherwise a line is an "indented line" if it's not empty and starts with a
+blank
+ otherwise a line is an "unindented line" if starts with a non-blank
+character
+The formatting
+states:
 
-file
+algorithm,
 
-goes
+driven
 
-back
+by
 
-to the
+the input lines, oscillates between two
 
-In all three usage modes, the file is finally written and/or exported,
-depending on -p and -P arguments:
- "-p, --print-file": at end write file on stdout
- "-P, --file-pdf": at end export file to this PDF file and open it
-('0' = no export, default: '%P/%f.pdf'), see '8. Pdf Exporting'
-
-6/30
-Yawp 0.6.1 Manual
-
-3. JUSTIFICATION
-Let's distinguish in four categories the input file lines:
- a line is an "empty line" if it contains no characters (all trailing
-blanks in input lines are stripped away, hence every input line
-containing only blanks becomes an empty line)
- otherwise a line is a "dot line" if the first nonblank character is a
-"decimal point" '.', or a "black small circle" '', followed by a
-blank (but on output such a '.' is always replaced by '')
- otherwise a line is an "indented line" if it starts with a blank
- otherwise a line is an "unindented line"
-Header lines inserted on output by yawp (see 7. Paging) are preliminarily
-canceled from input.
-The formatting algorithm, driven by the input lines, oscillates between two
-states:
- "picture state", where input lines are directly written out as they
-are
- "text state", where input lines are accumulated into a paragraph
-buffer for further justification and writing at paragraph end
-The picture state is the initial state. In this state, if the input is:
- an empty line or an indented line: the line is written out as is
- an unindented line: text state is entered, an "unindented paragraph"
-begins, the line is shrunk and assigned to the paragraph buffer,
-paragraph left indentation is set to zero
- a dot line: text state is entered, an "indented paragraph" begins,
-the line is shrunk and assigned to the paragraph buffer, paragraph
-left indentation is set to the position of initial dot character plus
-two
- end of input file: processing is terminated
-Here to "shrink" a string means:
- to strip away all leading and trailing blanks
- and reduce each group of consecutive blanks to a single blank
-When we are in text state, if the input line is:
- an empty line: the paragraph buffer is flushed (justified, written
-out and emptied), state goes back to picture state, the empty line is
-written out
- an indented or unindented line: the line is shrunk and appended to
-the paragraph buffer
- a dot line: paragraph buffer is flushed, a new paragraph is started,
-the line is shrunk and assigned to the paragraph buffer, paragraph
-left indentation is set to the position of initial dot plus two
- end of input file: paragraph buffer is flushed, processing is ended
-
-3. Justification
-7/30
-
+ "picture state", where input lines are directly written out as they are
+ "text state", where input lines are accumulated into a paragraph buffer
+for further justification and writing at paragraph end
 empty line,
 unindented line,
 indented line:
 indented line:
 write
 append
 
@@ -377,27 +451,30 @@
  assign
 
 
 
 
 
  picture 
-empty line: flush, write  text
+empty line: flush, write 
+text
 
 
 
 
 start
- state
 
- state
+state
+
+
+state
 
 
 
-
+
 
 
 
 
 
 end of file:
 end of file:
@@ -406,682 +483,759 @@
 stop
 
 flush, stop 
 
 
 
 dot line: flush, assign
-Actions associated to transitions are:
- write: the input line is immediately written out unchanged as a
-"picture line"
- assign: the input line is shrunk and assigned to the paragraph buffer
- append: the input line is shrunk and appended to the paragraph buffer
- flush: the paragraph buffer is flushed, namely is justified, written
-out as "text lines", and emptied
- stop: formatting is finished
+Figure 3.1.a. Formatting State Diagram
+The picture state is the initial state. In this state, if the input is:
+ an empty line or an indented line: the line is written out as is
+ an unindented line: text state is entered, an "unindented paragraph"
+begins, the line is shrunk and assigned to the paragraph buffer, paragraph
+left indentation is set to zero
+ a dot line: text state is entered, an "indented paragraph" begins, the
+line is shrunk and assigned to the paragraph buffer, paragraph left
+indentation is set to the position of initial dot character plus two
+ at end of input file: processing is ended
+When we are in text state, if the input line is:
+ an empty line: the paragraph buffer is flushed (justified, written out and
+emptied), state goes back to picture state, the empty line is written out
+ an indented or unindented line: the line is shrunk and appended to the
+paragraph buffer
+ a dot line: paragraph buffer is flushed, a new paragraph is started, the
+line is shrunk and assigned to the paragraph buffer, paragraph left
+indentation is set to the position of initial dot plus two
+ at end of input file: paragraph buffer is flushed, processing is ended
 Max length of text lines can be controlled by:
- "-w, --chars-per-line": line width in characters per line (default: 0
-= automatic)
--w and -W (character
-"automatic", namely:
 
-width,
+8/34
+Yawp 0.7.1 Manual
+
+ "-w, --chars-per-line":
+automatic)
 
-see
+line
 
-'8. PDF exporting') can be zero hence
+width in characters per line (default: 0 =
 
+-w and -W (character width, see 7.1.) can be zero hence "automatic", namely:
  if -w is automatic and -W is not, -w is computed from -W
  if -W is automatic and -w is not, -W is computed from -w
  if both -w and -W are automatic,
- -w is deduced from max line length in file (page headers are not
+ -w is deduced from max body line length in file (page headers are not
 considered)
  -W is computed from -w
-As an example, we type:
+Indentation of indented paragraphs can't be greater than half of -w argument,
+whether set by user or automatically computed.
+As an example of -W computed from -w, we impose one character per line only:
  $ echo BANNER >banner.txt
-and we impose only one character per line:
-
-8/30
-Yawp 0.6.1 Manual
-
- $ yawp -v -N -w 1 -p banner.txt
+ $ yawp -v -N -w 1 -X banner.txt
  Correct: '~/.yawp/yawp.cfg' not found, default corrections
  Correct: -L 43.325pt = 0.602in = 15.284mm = 1.528cm
  Correct: -R 40.57pt = 0.563in = 14.312mm = 1.431cm
  Correct: -T 53.814pt = 0.747in = 18.985mm = 1.898cm
  Correct: -B 15.991pt = 0.222in = 5.641mm = 0.564cm
  Read: yawp <-- '~/banner.txt'
 
 0 header lines, max 0 chars per line, 1 page
 
 1 body line, max 6 chars per line
 
 1 total line, max 6 chars per line
  Compute: -W 481.89pt = 6.693in = 170.0mm = 17.0cm
- Correct: -W 507.252pt = 7.045in = 178.947mm = 17.895cm
+ Correct: -W 508.999pt = 7.069in = 179.564mm = 17.956cm
  Compute: char height 803.15pt = 11.155in = 283.333mm = 28.333cm
- Correct: char height 854.414pt = 11.867in = 301.418mm = 30.142cm
- Backup: '~/banner.txt' --> '~/banner-2022.05.02-09.47.52.txt'
+ Correct: char height 851.173pt = 11.822in = 300.275mm = 30.027cm
+ Backup: '~/banner.txt' --> '~/banner-2022.06.25-18.47.48.txt'
  Rewrite: yawp --> '~/banner.txt'
 
 0 header lines, max 0 chars per line, 1 page
 
 1 body line, max 6 chars per line
 
 1 total line, max 6 chars per line
- Print: '~/banner.txt' --> stdout
- BANNER
  Export: '~/banner.txt' --> '~/banner.pdf'
-Note that banner.txt is not altered because the -N argument, but the
-exported banner.pdf contains the string 'BANNER', a big character per page.
+ $ cat banner.txt
+ BANNER
+Figure 3.1.b. Example With "-N -w 1"
+Now banner.txt is not altered because the -N argument, but the exported
+banner.pdf contains the string 'BANNER', one huge character per page.
 Line justification in text is controlled by -l argument:
- "-l, --left-only": justify text lines at left only (default: at left
-and right)
-After justification:
- groups of consecutive empty lines between text paragraphs are reduced
-to a single empty line
+ "-l, --left-only":
+right)
+
+justify text lines at left only (default: at left and
+
+After formatting:
+ groups of consecutive empty lines between text paragraphs are reduced to a
+single empty line
  groups of consecutive empty lines in contact with a picture are left
 unchanged
-Now we can define some "best practices" to follow when writing the file.
+3.2. BEST PRACTICES
+Now we can define some "best practices" to follow when editing the file.
 Unindented paragraphs should be:
  preceded by an empty line
  started by an unindented line
  continued by indented or unindented lines
+
+3. Formatting
+9/34
+
  ended by an empty line (better) or by a dot line
 Indented paragraphs should be:
  preceded by a line of any kind
- initiated by a dot line
+ initiated by a dot line (better if starting with 4-8-12-... blanks)
  continued by indented or unindented lines
  ended by an empty line or by another dot line
 Pictures should be:
  preceded by an empty line
  initiated and continued by indented lines only
- ended by an empty line (better) or by an unindented line or by a dot
-line
-
-4. Python Files
-9/30
-
-4. PYTHON FILES
-Python files deserve a special treatment. If the textfile filename ends
-with '.py' extension, then we suppose the file is a Python source, hence we
-are interested to format docstrings and not Python code. So the formatting
-function is alternatively turned on and off by switch lines. A "switch
-line" is a line containing a "'''" string.
-Note that yawp never formats switch lines, formatting takes place from the
+ ended by an empty line (better) or by an unindented line or by a dot line
+3.3. PYTHON FILES
+Formatting of Python files deserves a special treatment. If the file name ends
+with '.py' extension, then we suppose the file is a Python source, hence we are
+interested to format docstrings and not Python code. So the formatting function
+is alternatively turned on and off by switch lines. A "switch line" is a line
+containing a "'''" string.
+Notice that yawp never formats switch lines, formatting takes place from the
 line after the start switch line until the line before the next stop switch
 line.
 So your Python file must follow some simple rules:
- docstrings to be formatted must start and ended by "'''" and not
-'"""'
- long strings not to be formatted must start and end with '"""' and
-not "'''"
- a "'''" inside a string can be coded for instance as '\'\'\'', so
+ docstrings to be formatted must start and ended by "'''" and not '"""'
+ long strings not to be formatted must start and end with '"""' and not
+"'''"
+ a "'''" inside a string can be coded for instance as '\'\'\'', so the
 containing line will not be identified as a switch line
-An error in switch lines could format and destroy your Python code. A
+BEWARE: An error in switch lines could format and destroy your Python code. A
 preliminary check prints an error message and stops execution before file
-formatting if the total number of switch lines is odd. This should
-intercept 90% of errors, anyway after yawp processing check the result and
-if needed go back to previous version by -U. An example:
+formatting if the total number of switch lines is odd. This should intercept
+many errors, anyway after yawp processing check the result and if needed go back
+to previous version by -U. An example:
+
+10/34
+Yawp 0.7.1 Manual
+
  $ cat pycode.py
  #!/usr/bin/python3
 
- ''' Text in start switch line is not formatted.
- This is a one-line unindented paragraph.
+ '''start switch line is not formatted
+ This is an unindented paragraph.
 
- This is a multi-line unindented paragraph.
- This is a multi-line unindented paragraph.
- This is a multi-line unindented paragraph.
+ This is another unindented paragraph.
+ This is another unindented paragraph.
+ This is another unindented paragraph.
 
 
-This is a picture, it remains as is.
+This is a picture,
 
-This is a picture, it remains as is.
+it remains
 
-This is a picture, it remains as is.
+as is.
 
 
- This is a multi-line indented paragraph.
- This is a multi-line indented paragraph.
+ This is an indented paragraph.
+ This is an indented paragraph.
 
-This is a multi-line indented paragraph.
+This is an indented paragraph.
 
- This is another multi line indented paragraph.
+ This is another indented paragraph.
 
-This is another multi-line indented paragraph.
- This is another multi-line indented paragraph.
- ''' # Text in stop switch line is not formatted.
+This is another indented paragraph.
+ This is another indented paragraph.
+ ''' # stop switch line is not formatted
 
- def double(x): # Python code is not formatted.
+ def double(x): # python code is not formatted
 
-''' Text in start switch line is not formatted.
- This is another multi-line unindented paragraph.
- This is another multi-line unindented paragraph.
- This is another multi-line unindented paragraph.
- ''' # Text in stop switch line is not formatted.
+'''start switch line is not formatted
+ This is another unindented paragraph.
+ This is another unindented paragraph.
+ This is another unindented paragraph.
+ ''' # stop switch line is not formatted
 
-return x + x # Python code is not formatted.
-
-10/30
-Yawp 0.6.1 Manual
-
- $ yawp -v -w 32 -p -P 0 pycode.py
+return x + x # python code is not formatted
+ $ yawp -v -w 32 pycode.py
  Correct: '~/.yawp/yawp.cfg' not found, default corrections
  Correct: -L 43.325pt = 0.602in = 15.284mm = 1.528cm
  Correct: -R 40.57pt = 0.563in = 14.312mm = 1.431cm
  Correct: -T 53.814pt = 0.747in = 18.985mm = 1.898cm
  Correct: -B 15.991pt = 0.222in = 5.641mm = 0.564cm
  Read: yawp <-- '~/pycode.py'
 
 0 header lines, max 0 chars per line, 1 page
 
-28 body lines, max 62 chars per line
+28 body lines, max 47 chars per line
 
-28 total lines, max 62 chars per line
+28 total lines, max 47 chars per line
  Compute: -W 15.059pt = 0.209in = 5.312mm = 0.531cm
- Correct: -W 15.852pt = 0.22in = 5.592mm = 0.559cm
+ Correct: -W 15.906pt = 0.221in = 5.611mm = 0.561cm
  Compute: char height 25.098pt = 0.349in = 8.854mm = 0.885cm
- Correct: char height 26.7pt = 0.371in = 9.419mm = 0.942cm
- Backup: '~/pycode.py' --> '~/pycode-2022.05.02-09.47.55.py'
+ Correct: char height 26.599pt = 0.369in = 9.384mm = 0.938cm
+ Backup: '~/pycode.py' --> '~/pycode-2022.06.25-18.47.57.py'
  Rewrite: yawp --> '~/pycode.py'
 
 0 header lines, max 0 chars per line, 1 page
 
-40 body lines, max 51 chars per line
+34 body lines, max 47 chars per line
 
-40 total lines, max 51 chars per line
- Print: '~/pycode.py' --> stdout
+34 total lines, max 47 chars per line
+
+3. Formatting
+11/34
+
+ $ cat pycode.py
  #!/usr/bin/python3
 
- ''' Text in start switch line is not formatted.
- This is a one-line unindented
- paragraph.
+ '''start switch line is not formatted
+ This is an unindented paragraph.
 
- This is a multi-line unindented
- paragraph. This is a multi-line
- unindented paragraph. This is a
- multi-line unindented paragraph.
+ This
+is
+another
+unindented
+ paragraph.
+This
+is
+another
+ unindented paragraph. This is
+ another unindented paragraph.
 
 
 This is a picture,
 
 it remains
 
 as is.
 
 
  This
 is
-a
-multi-line
-
-indented paragraph. This
-
-is a multi-line indented
+an
+indented
 
 paragraph.
 This
-is
-a
+is an
 
-multi-line
-indented
+indented paragraph. This
 
-paragraph.
+is an indented paragraph.
 
- This is another multi
+ This
+is
+another
 
-line
 indented
-
 paragraph.
+
 This
 is
-
 another
-multi-line
 
 indented
 paragraph.
 
 This
 is
 another
 
-multi-line
-indented
-
-paragraph.
- ''' # Text in stop switch line is not formatted.
+indented paragraph.
+ ''' # stop switch line is not formatted
 
- def double(x): # Python code is not formatted.
+ def double(x): # python code is not formatted
 
-''' Text in start switch line is not formatted.
+'''start switch line is not formatted
  This
 is
 another
-multi-line
- unindented paragraph. This is
- another
-multi-line unindented
+unindented
  paragraph.
 This
 is
 another
- multi-line unindented paragraph.
- ''' # Text in stop switch line is not formatted.
+ unindented paragraph. This is
+ another unindented paragraph.
+ ''' # stop switch line is not formatted
 
-return x + x # Python code is not formatted.
-Inserting page headers in a Python file doesn't make sense, so if the file
-is a Python file then -f and -F (see 6. Paging) are automatically turned
-off.
-
-5. Chapters
-11/30
-
-5. CHAPTERS
-The file can be partitioned in "chapters" by "chapter lines". A chapter can
-be:
- the "nameless chapter", the first one, from first line until first
-chapter line, it could be the cover of the document
- a "numbered chapter", started by a "numbered chapter line", how many
-do you want
- the "contents chapter", started by a "contents line", no more than
-one
- the "index chapter", started by an "index line", no more than one
-Numbered
-order.
+return x + x # python code is not formatted
+Figure 3.3.a. Example With A Python File
+Inserting page headers in a Python file doesn't make sense, so if the file is a
+Python file then -j and -J (see 5.) are silently turned off.
+
+12/34
+Yawp 0.7.1 Manual
+
+4. CHAPTERS
+The file can be partitioned in "chapters" by "chapter lines". A chapter can be:
+ the "unnamed chapter", the first one, from first line until first chapter
+line (see 4.1.)
+ a "numbered chapter", as this one (see 4.2)
+ an "automatic chapter", automatically emptied and refilled (see 4.3.)
+ the "contents chapter", the list of chapters (see 4.3.1.)
+ the "figures chapter", the list of figure captions (see 4.3.2.)
+ the "index chapter", the list of subjects (see 4.3.3.)
+
+CHAPTER AUTOMATICHOW MANY WHERE
+CHAPT LINEIN CONTENTSEJECT IF -J 
+
+unnamed no
+max one file beginno
+no
+no
+
+numberedno
+no limiteverywhereyes
+yes
+level-1 only
+contentsyes
+max one everywhereyes
+no
+yes
+
+figures yes
+max one everywhereyes
+yes
+yes
+
+index
+yes
+max one everywhereyes
+yes
+yes
+
+
+Figure 4.a. Chapter Kinds
+All chapters,
+file.
 
-chapters,
+except
 
-contents
+the
 
-chapter
+numbered
+
+ones, can appear no more than once in the
+
+All chapters, except the unnamed one, may appear everywhere and in any order,
+and are started by a chapter line.
+All chapters, except the unnamed one and the contents one itself, are listed in
+the contents chapter.
+All chapters, except the unnamed one and the numbered ones with level greater
+than one, trigger a page break if argument -J is turned on (see 5.).
+Chapter lines share some properties. Each chapter line:
+ is the file first line or is preceded by an empty line
+ is the file last line or is followed by an empty line
+ is a not empty line and doesn't start with blank
+Therefore we
+paragraph.
 
-and index chapter may appear in any
+can
 
-5.1. NUMBERED CHAPTERS
+say
+
+that
+
+a chapter line must be a one-line unindented text
+
+4.1. UNNAMED CHAPTER
+As said before, the unnamed chapter is the first of the file, and goes from the
+first line (included) until the first chapter line (excluded). It isn't listed
+in the contents chapter. As in this Manual, it can be the cover of the document.
+4.2. NUMBERED CHAPTERS
 Start of a "numbered chapter" is recognized by a numbered chapter line. A
-line is a "numbered chapter line" if:
- is the first line or is preceded by an empty line
- is the last line or is followed by an empty line
- does not start with blank
- contains:
- one or more "int-dot couples", each made by
+chapter
+line
+is
+a
+"numbered chapter line" if contains one or more
+blank-separated words, of which:
+ the first one is a "chapter label", made by one or more "int-dot couples",
+each made by:
  one or more decimal digits, between '0' and '9'
  a "decimal point" '.'
- a "blank" ' '
- a chapter title
-The "level" of a numbered chapter line is the count of int-dot couples in
-its prefix, examples:
+ the following words, if any, are the chapter title
+The "level" of
+label, examples:
+
+a numbered chapter line is the count of int-dot couples in its
+
  12345. a level-1 numbered chapter line
  1.345. a level-2 numbered chapter line
  0.0.0. a level-3 numbered chapter line
-Numbered chapter lines must follow two quite obvious sequence rules:
- first numbered chapter line in file must be a level-1 numbered
-chapter line
- each other numbered chapter line can have a level between 1 and the
-level of the previous numbered chapter line plus 1, but no more
-Numbered chapter title is:
- shrunk and uppercased in text
+
+4. Chapters
+13/34
+
+Numbered chapter lines must follow a couple of sequence rules:
+ first numbered chapter in the file and any numbered chapter next to an
+automatic chapter must be a level-1 chapter
+ any numbered chapter next to another one can have any level between 1 and
+the level of the previous one plus 1, but no more
+Numbered chapter titles are:
+ shrunk and uppercased where they are
  shrunk and titlecased when inserted:
  into contents chapter
- into page headers by '%c' (see '6. Paging')
-Length of shrunk title can't be longer than half of '-w, --chars-per-line'
-argument.
-To "titlecase" a string means to uppercase the first character of each word
-in it and to lowercase all the others.
-Numbers in input don't matter, yawp replaces them by the right ones, only
-the level matters. So you are free to create destroy or swap chapters as
-you like, they will be renumbered accordingly. Example:
-
-12/30
-Yawp 0.6.1 Manual
-
+ into page headers by '%c' (see 5.)
+Numbers in input don't matter, yawp replaces them by the right ones, only the
+level matters. So you are free to create destroy or swap chapters as you like,
+they will be renumbered accordingly. Example:
  $ cat chapters.txt
- 0. AAA aaa
+ 0. aAa aAa aAa
 
- 32.33. BBB bbb
+ 32.33. bBb bBb 'bBb'
 
- 0.0. CCC ccc
+ 0.0. cCc "cCc" cCc
 
- 0. DDD ddd
+ 0. 'dDd dDd' dDd
 
- 0.0. EEE eee
+ 0.0. eEe 'eEe' "eEe"
 
- 9.9.9. FFF fff
+ 9.9.9. 'fFf fFf fFf'
 
- 0.0. GGG ggg
- $ yawp -v -w 32 -p -P 0 chapters.txt
+ 0.0. "gGg gGg gGg"
+ $ yawp -v -w 32 chapters.txt
  Correct: '~/.yawp/yawp.cfg' not found, default corrections
  Correct: -L 43.325pt = 0.602in = 15.284mm = 1.528cm
  Correct: -R 40.57pt = 0.563in = 14.312mm = 1.431cm
  Correct: -T 53.814pt = 0.747in = 18.985mm = 1.898cm
  Correct: -B 15.991pt = 0.222in = 5.641mm = 0.564cm
  Read: yawp <-- '~/chapters.txt'
 
 0 header lines, max 0 chars per line, 1 page
 
-13 body lines, max 14 chars per line
+13 body lines, max 20 chars per line
 
-13 total lines, max 14 chars per line
+13 total lines, max 20 chars per line
  Compute: -W 15.059pt = 0.209in = 5.312mm = 0.531cm
- Correct: -W 15.852pt = 0.22in = 5.592mm = 0.559cm
+ Correct: -W 15.906pt = 0.221in = 5.611mm = 0.561cm
  Compute: char height 25.098pt = 0.349in = 8.854mm = 0.885cm
- Correct: char height 26.7pt = 0.371in = 9.419mm = 0.942cm
- Backup: '~/chapters.txt' --> '~/chapters-2022.05.02-09.47.55.txt'
+ Correct: char height 26.599pt = 0.369in = 9.384mm = 0.938cm
+ Backup: '~/chapters.txt' --> '~/chapters-2022.06.25-18.47.57.txt'
  Rewrite: yawp --> '~/chapters.txt'
 
 0 header lines, max 0 chars per line, 1 page
 
-13 body lines, max 14 chars per line
-
-13 total lines, max 14 chars per line
- Print: '~/chapters.txt' --> stdout
- 1. AAA AAA
-
- 1.1. BBB BBB
+13 body lines, max 20 chars per line
 
- 1.2. CCC CCC
+13 total lines, max 20 chars per line
+ $ cat chapters.txt
+ 1. AAA AAA AAA
 
- 2. DDD DDD
+ 1.1. BBB BBB 'BBB'
 
- 2.1. EEE EEE
+ 1.2. CCC "cCc" CCC
 
- 2.1.1. FFF FFF
+ 2. 'DDD DDD' DDD
 
- 2.2. GGG GGG
-5.2. CONTENTS CHAPTER
-For "contents chapter" we mean the list of chapters, possibly with the
-number of the page they begin on. Namely, the contents chapter will list
-all numbered chapters and the index chapter, but will not list the nameless
-chapter or the contents chapter itself.
-Contents line starting the contents chapter is defined by -c argument:
- "-c,
---contents-title":
-'contents'), example:
-
-title
-
-of
+ 2.1. EEE 'EEE' "eEe"
+
+ 2.1.1. 'FFF FFF FFF'
+
+ 2.2. "gGg gGg gGg"
+Figure 4.2.a. Example Of Chapter Renumbering
+
+14/34
+Yawp 0.7.1 Manual
+
+4.3. AUTOMATIC CHAPTERS
+Contents index and figures chapters are "automatic chapters", this means:
+ the file can't contain more than one automatic chapter for each of the
+three kinds
+ all input lines after the automatic chapter line until and the next
+chapter line (or until end of file) are supposed to be the old chapter
+content and are deleted
+ the new chapter content is automatically inserted after the chapter line
+If -j and -J (see 6.) are off, pages are not numbered. So, if an automatic
+chapter is requested, it will still appear, but without page numbers.
+BEWARE: an error in the next chapter line could erase a piece of your file, so
+after yawp processing check the result and if needed go back to previous version
+by -U.
+Automatic chapters are controlled by -c -f -F and -i arguments, which must all
+be non-null strings. Furthermore -c -f and -i must all have distinct values, and
+-F can't contain blanks.
+4.3.1. CONTENTS CHAPTER
+For "contents chapter" we mean an automatic chapter containing the list of
+chapters, possibly with the number of the page they begin on. Namely, the
+contents chapter will list all numbered chapters, the figures chapter, and the
+index chapter, but it won't list either the nameless chapter or the contents
+chapter itself.
+Contents chapter line starting the contents chapter is defined by -c argument:
+ "-c, --contents-title":
+example:
 
-contents
+title of contents chapter (default: 'contents'),
 
  $ yawp -c 'list of chapters' ...
-A line is a "contents line" if:
- is the first line or is preceded by an empty line
-
-chapter
-
-(default:
-
-5. Chapters
-13/30
-
- is the last line or is followed by an empty line
- does not start with blank
- its shrunk and uppercased value is equal to the shrunk and uppercased
-value of the -c argument
-If the file contains a contents line:
- lines until next chapter line (or until end of file) are supposed to
-be the old contents chapter and are deleted
- a new contents chapter is inserted instead
-The file may or may not contain a contents chapter, but no more than one.
-The contents chapter may appear everywhere, on top, on bottom or in the
-middle of file, and after or before the index chapter.
-Contents chapter title is:
- shrunk and uppercased in text
- shrunk and titlecased when inserted into page headers by '%c' (see
-'6. Paging')
-Length of shrunk title can't be longer than half of '-w, --chars-per-line'
-argument.
-If -f and -F are off, pages are not numbered. So, if the contents chapter
-is requested, it will still appear, but without page numbers.
-BEWARE: an error in the next chapter line could erase a piece of your file,
-so after yawp processing check the result and if needed go back to previous
-version by -U.
+A chapter line is a contents chapter line if it's equivalent to -c. Such a line
+is:
+ shrunk and uppercased where it is
+ shrunk and titlecased when inserted into page headers by '%c' (see 5.)
 Example:
  $ cat contents.txt
  contents
 
 
-(any
-
-previous
+(any previous content
 
-content
+of contents chapter
 
-of
+will be deleted)
 
-the
-
-contents
-
-chapter
+ 0. aAa aAa aAa
 
-will
+ 32.33. bBb bBb 'bBb'
 
-be
+ 0.0. cCc "cCc" cCc
 
-deleted)
+ 0. 'dDd dDd' dDd
 
- 0. AAA aaa
+ 0.0. eEe 'eEe' "eEe"
 
- 32.33. BBB bbb
+ 9.9.9. 'fFf fFf fFf'
 
- 0.0. CCC ccc
-
- 0. DDD ddd
-
- 0.0. EEE eee
-
- 9.9.9. FFF fff
-
- 0.0. GGG ggg
+ 0.0. "gGg gGg gGg"
 
-14/30
-Yawp 0.6.1 Manual
-
- $ yawp -v -w 32 -p -P 0 contents.txt
+4. Chapters
+15/34
+
+ $ yawp -v -w 32 contents.txt
  Correct: '~/.yawp/yawp.cfg' not found, default corrections
  Correct: -L 43.325pt = 0.602in = 15.284mm = 1.528cm
  Correct: -R 40.57pt = 0.563in = 14.312mm = 1.431cm
  Correct: -T 53.814pt = 0.747in = 18.985mm = 1.898cm
  Correct: -B 15.991pt = 0.222in = 5.641mm = 0.564cm
  Read: yawp <-- '~/contents.txt'
 
 0 header lines, max 0 chars per line, 1 page
 
-26 body lines, max 14 chars per line
+19 body lines, max 25 chars per line
 
-26 total lines, max 14 chars per line
+19 total lines, max 25 chars per line
  Compute: -W 15.059pt = 0.209in = 5.312mm = 0.531cm
- Correct: -W 15.852pt = 0.22in = 5.592mm = 0.559cm
+ Correct: -W 15.906pt = 0.221in = 5.611mm = 0.561cm
  Compute: char height 25.098pt = 0.349in = 8.854mm = 0.885cm
- Correct: char height 26.7pt = 0.371in = 9.419mm = 0.942cm
- Backup: '~/contents.txt' --> '~/contents-2022.05.02-09.47.55.txt'
+ Correct: char height 26.599pt = 0.369in = 9.384mm = 0.938cm
+ Backup: '~/contents.txt' --> '~/contents-2022.06.25-18.47.57.txt'
  Rewrite: yawp --> '~/contents.txt'
 
 0 header lines, max 0 chars per line, 1 page
 
-23 body lines, max 20 chars per line
+23 body lines, max 28 chars per line
 
-23 total lines, max 20 chars per line
- Print: '~/contents.txt' --> stdout
+23 total lines, max 28 chars per line
+ $ cat contents.txt
  CONTENTS
 
 
  1.
-Aaa Aaa
+Aaa Aaa Aaa
 
  1.1.
-Bbb Bbb
+Bbb Bbb 'Bbb'
 
  1.2.
-Ccc Ccc
+Ccc "cCc" Ccc
 
  2.
-Ddd Ddd
+'Ddd Ddd' Ddd
 
  2.1.
-Eee Eee
+Eee 'Eee' "eEe"
 
- 2.1.1. Fff Fff
+ 2.1.1. 'Fff Fff Fff'
 
  2.2.
-Ggg Ggg
+"gGg gGg gGg"
 
- 1. AAA AAA
+ 1. AAA AAA AAA
 
- 1.1. BBB BBB
+ 1.1. BBB BBB 'BBB'
 
- 1.2. CCC CCC
+ 1.2. CCC "cCc" CCC
 
- 2. DDD DDD
+ 2. 'DDD DDD' DDD
 
- 2.1. EEE EEE
+ 2.1. EEE 'EEE' "eEe"
 
- 2.1.1. FFF FFF
+ 2.1.1. 'FFF FFF FFF'
 
- 2.2. GGG GGG
-5.3. INDEX CHAPTER
-For "index chapter" we mean an alphabetical list of subjects, possibly
-showing which pages a "subject" is on. A subject can appear in the file:
- as a "quoted subject" if it's preceded and followed by a "double
-quote" '"' (but double quotes preceded or followed by a "single
-quote" "'" or by another double quote '"' are not taken into account,
-in order to allow things like '"' in text)
- an "unquoted subject" otherwise
-Unquoted subjects are recognized everywhere if the file contains at least
-one corresponding quoted subject somewhere. Hence in index chapter the line
-relating to a given subject will contain:
- quoted (by '"') page numbers for pages containing one or more quoted
-instances of the subject (and zero or more unquoted instances)
- unquoted page numbers for pages containing one or more unquoted
-instance of the subject and zero quoted instances
-Subject length can't be greater than half of '-w, --chars-per-line'
-argument, this should intercept unpaired double quotes.
-
-5. Chapters
-15/30
-
-Index line starting the index chapter is defined by -i argument:
- "-i, --index-title":
+ 2.2. "gGg gGg gGg"
+Figure 4.3.1.a. Example Of Contents Chapter
+4.3.2. FIGURES CHAPTER
+For "figures chapter" we mean an automatic chapter containing a list of figure
+captions, possibly showing which page a "caption" is on. Not all pictures need
+to be followed by a caption, and a caption without a picture doesn't make sense,
+so we can say a "figure" is a picture followed by a caption.
+Figures chapter is controlled by -f and -F arguments. Figures chapter line
+starting the figures chapter is defined by -f:
+ "-f, --figures-title":
 example:
 
 title
 
 of
 
-index
+figures
 
-chapter
+chapter (default: 'figures'),
 
-(default: 'index'),
+ $ yawp -f 'list of figures' ...
+A chapter
+is:
 
- $ yawp -i 'list of subjects' ...
-A line is an "index line" if:
- is the first line or is preceded by an empty line
- is the last line or is followed by an empty line
- does not start with blank
- its shrunk and uppercased value is equal to the shrunk and uppercased
-value of the -i argument
-If the file contains an index line:
- lines until next chapter line (or until end of file) are supposed to
-be the old index chapter and are deleted
- a new index chapter is inserted instead
-The file may or may not contain an index chapter, but no more than one. The
-index chapter may appear everywhere, on top, on bottom or in the middle of
-file, and after or before the contents chapter.
-Index chapter title is:
- shrunk and uppercased in text
+line
+
+is a figure chapter line if it's equivalent to -f. Such a line
+
+ shrunk and uppercased where it is
  shrunk and titlecased when inserted:
- into contents chapter
- into page headers by '%c' (see '6. Paging')
-Length of shrunk title can't be longer than half of '-w, --chars-per-line'
-argument.
-For technical reasons, a subject cannot occupy more than one line in the
-index chapter. Hence if a subject is referenced in many pages and the
-resulting line is longer than '-w, --chars-per-line' argument, then it's
-truncated and terminated by '...' with a warning message.
-If -f and -F are off, pages are not numbered. So, if the index chapter is
-requested, it will still appear, but without page numbers.
-BEWARE: an error in the next chapter line could erase a piece of your file,
-so after yawp processing check the result and if needed go back to previous
-version by -U.
-For an example, see the index chapter at end of this manual.
-
-16/30
-Yawp 0.6.1 Manual
-
-6. PAGING
-Normally the file is not splitted in pages by page headers. Insertion of
-page headers is controlled by -f and -F arguments:
- "-f, --form-feed" : insert a page header on full page
-If -f is turned on, a page header is inserted into the file when:
- current line doesn't fit into current page
- current picture doesn't fit into current page
-If a figure is too long to enter into the current page, a page eject is
-forced. But if the figure is higher than one page, page eject doesn't take
-place, see for example the configuration file in '7. Corrections'.
- "-F, --form-feed-chap": insert a page header on full page and before
-contents index and level-one chapters
-If -F is turned on (or both -f and -F are), a page header is inserted into
-the file when:
- current line doesn't fit into current page
- current picture doesn't fit into current page
- current line is a contents line or an index line or a level-one
-numbered chapter line
-So each page, except the first one, is prefixed by a page header. Each page
-header is made up of two lines:
- a line starting with a "form feed" '\f', containing data such as file
-name, chapter title, date, time or page number
- a dashed separation line of "macron" '' characters
-The form feed character causes a page break but is a non-printable
-character, therefore it's not considered when measuring the length of
-lines. Depending on your editor, it can appear as a quarter musical note,
-or as a small empty rectangle.
-So a line in the output can be considered as:
- a "header line" if it's the first or the second line of a page header
- or a "body line" otherwise
-When the file is initially read, if -U and -N are turned off, all header
-lines are eliminated. So, if you want to eliminate page headers from your
-file, just run yawp without -f or -F.
-If -f and -F are off and contents chapter and/or index chapter are
-requested, contents chapter and/or index chapter will still appear, but
-without page numbers.
-Inserting page headers in a Python file doesn't make sense, so if the file
-name ens with '.py', -f and -F are automatically turned off.
-The content
-arguments:
+ into the contents chapter
+ into page headers by '%c' (see 5.)
 
-of
+16/34
+Yawp 0.7.1 Manual
+
+Yawp recognizes a figure caption by -F:
+ "-F, --caption-prefix": first word of figure captions (default: 'figure')
+-F must be a single word, in other words it can't contain blanks.
+A line is a "figure caption line" if:
+ is the first line in file or it's preceded by an empty line
+ is the last line in file or it's followed by an empty line
+ is a not empty line and starts with blank
+ contains two or more blank-separated words, of which:
+ the first one is equivalent to -F
+ the second one is a "caption label" containing:
+ the label of the containing chapter (label of unnamed chapter is
+null string '')
+ a progressive lowercase letter between 'a' and 'z', meaning
+caption position in the containing chapter
+ a decimal point '.'
+ the following words, if any, are the figure title
+Therefore we can say a caption line must be a one-line picture.
+Examples of correct caption labels are:
+ 'a.' (the first caption in the unnamed chapter)
+ '7.c.' (the third caption in the '7.' chapter)
+ '7.9.b.' (the second caption in the '7.9.' chapter)
+ '7.9.8.z.' (the 26th caption in the '7.9.8.' chapter)
+A single chapter can't contain more than 26 caption lines, one for each letter
+of english alphabet.
+The input caption label can be any, of any level, it's automatically updated on
+output. Caption lines are:
+ shrunk titlecased and centered where they are
+ shrunk and titlecased when listed in the figures chapter
+The label letter always remains lowercase.
+Notice the difference between the figures chapter line (one, starting the
+figures chapter) and the figure caption lines (many, listed in the figures
+chapter).
+We suppose a figure caption is logically connected with previous picture, so,
+when applicable, figure caption lines are logically pasted with previous
+picture, in order to avoid figure and caption split across two pages.
+As an example, see in this manual the scattered figure captions and the figures
+chapter at end.
+4.3.3. INDEX CHAPTER
+For "index chapter" we mean an automatic chapter containing an alphabetical list
+of subjects, possibly showing which pages each "subject" is on. Subjects are
+sought in text lines only, therefore neither in pictures nor in captions nor in
+chapter lines. A subject can appear:
+ as a "quoted subject" if it's preceded and followed by a "double quote"
+'"' (but double quotes preceded or followed by a "single quote" "'" or by
+another double quote '"' are not taken into account, in order to allow
+things like '"' in text)
+ an "unquoted subject" otherwise
+Unquoted subjects are recognized everywhere if the file contains at least one
+corresponding quoted subject somewhere. Hence in index chapter the line relating
+to a given subject will contain:
+ quoted
 
-first
+(by
 
-header
+'"')
 
-line
+page
 
-is
+numbers
+
+for
+
+pages containing one or more quoted
+
+4. Chapters
+17/34
+
+instances of the subject (and zero or more unquoted instances)
+ unquoted page numbers for pages containing one or more unquoted instance
+of the subject and zero quoted instances
+Subject length can't be greater than half of -w argument, whether set by user or
+automatically computed.
+Index chapter line starting the index chapter is defined by -i argument:
+ "-i, --index-title": title of index chapter (default: 'index'), example:
+ $ yawp -i 'list of subjects' ...
+A chapter
+is:
+
+line
 
-controlled by -e -E -o -O and -a
+is an index chapter line if it's equivalent to -i. Such a line
 
- "-e, --even-left": even page headers, left (default: '%n/%N')
- "-E,
---even-right": even page headers, right (default:
-%Y-%m-%d %H:%M:%S')
- "-o, --odd-left": odd page headers left (default: '%c')
- "-O, --odd-right":odd page headers, right (default: '%n/%N')
-
-'%f.%e
-
-6. Paging
-17/30
-
+ shrunk and uppercased where it is
+ shrunk and titlecased when inserted:
+ into the contents chapter
+ into page headers by '%c' (see 5.)
+For technical reasons, a subject cannot occupy more than one line in the index
+chapter. Hence if a subject is referenced in many pages and the resulting line
+is longer than -w argument, then it's truncated and terminated by '...' with a
+warning message.
+As an example, see the index chapter at end of this manual.
+
+18/34
+Yawp 0.7.1 Manual
+
+5. PAGING
+Normally page headers in input are deleted and the file in output is not split
+in pages by page headers. Insertion of page headers is controlled by -j and -J
+arguments:
+ "-j, --eject": insert a page header on full page
+If -f is turned on, a page header is inserted into the file when current line
+doesn't fit into current page.
+ "-J, --eject-pict-chap": insert page headers on full page, on broken
+picture, and before level-1/contents/figures/index chapters
+If -J is turned on (or both -j and -J are), a page header is inserted into the
+file when:
+ current line doesn't fit into current page
+ current picture doesn't fit into current page
+ current line is a numbered level-1 or contents or figures or index chapter
+line
+If a picture is too long to fit into the current page, a page eject is forced.
+But if the picture is higher than one page, such a page eject is useless and
+doesn't take place, see for example the configuration file in 7.2.
+Each page, except the first one, is prefixed by a page header. Therefore the
+total number of pages is equal to the number of page headers plus 1. Each page
+header is made up of two header lines:
+ first header line, starting with a "form feed" '\f', containing data such
+as file name, chapter title, date, time or page number, under control of
+-e -E -o -O and -a arguments
+ second header line, a dashed separation line of "macron" '' characters,
+which form a kind of underline under the first one
+The form feed character causes a page break but is a non-printable character,
+therefore it's not considered when measuring the length of lines. Depending on
+your editor, it can appear as a quarter musical note, or as a small empty
+rectangle.
+When the file is initially read, if -U and -N are turned off, all header lines
+are eliminated. So, if you want to eliminate page headers from your file, just
+run yawp without -j or -J.
+BEWARE: never start a text line with a form feed or a macron character, after a
+yawp run such a line would disappear.
+Inserting page headers in a Python file doesn't make sense, so if the file name
+ends with '.py', -j and -J are silently turned off.
+The content of first header line is controlled by -e -E -o -O and -a arguments:
+ "-e, --even-left": headers of even pages, left (default: '%n/%N')
+ "-E, --even-right": headers of even pages, right (default: '%f.%e %Y-%m-%d
+%H:%M:%S')
+ "-o, --odd-left": headers of odd pages, left (default: '%c')
+ "-O, --odd-right": headers of odd pages, right (default: '%n/%N')
 
 -e
 -E-o
 -O
 
 
 
@@ -1089,20 +1243,26 @@
  even  odd
 
  page  page 
 
 
 
 
-Each "percent variable" is evaluated as follows.
-
+Figure 5.a. Page Header When "-a" Is Off
+
+5. Paging
+19/34
+
+Each "percent variable" is evaluated as follows, no other percent variable is
+allowed.
+
 VAR 
 VALUE
 
-
+
 '%P'file "long path", with no ending '/'
 
 '%p'file "short path", with no ending '/'
 
 '%f'file name, with no extension
 
 '%e'file extension, with no separator '.'
@@ -1119,30 +1279,29 @@
 
 '%S'current second, 2 digits
 
 '%n'current page number
 
 '%N'total number of pages
 
-'%c'current contents, index or level-one chapter
+'%c'current level-1/contents/figures/index chapter
 '%%''%'
 
-
-No other percent variable is allowed.
-If for instance the file is '/home/xxxx/yyy/zzz.www.txt' and the user is
-'xxxx' then we get:
+
+Figure 5.b. Percent Variables
+What do "long path" and "short path" mean? If for instance the file is
+'/home/xxxx/yyy/zzz.www.txt' and the user is 'xxxx' then we get:
  '%P' --> '/home/xxxx/yyy'
  '%p' --> '~/yyy'
  '%f' --> 'zzz.www'
  '%e' --> 'txt'
  '%P/%f.%e' --> '/home/xxxx/yyy/zzz.www.txt'
  '%p/%f.%e' --> '~/yyy/zzz.www.txt'
 If you don't need front-back printing, set:
- "-a, --all-pages-E-e": all page headers contain -E at left and -e at
-right
+ "-a, --all-pages-E-e": put in all page headers -E at left and -e at right
 and so you will get the same header format on even and odd pages.
 
 -E
 -e-E
 -e
 
 
@@ -1151,35 +1310,36 @@
  even  odd
 
  page  page 
 
 
 
 
-Note the swap between -e and -E.
+Figure 5.c. Page Header When "-a" Is On
+Notice the swap between -e and -E.
 
-18/30
-Yawp 0.6.1 Manual
-
-7. GRAPHICS
-Yawp also has some limited graphic features. You can sketch pictures with
-boxes arrows and tables by two "draw characters":
+20/34
+Yawp 0.7.1 Manual
+
+6. GRAPHICS
+Yawp also has some limited graphic features. You can sketch pictures with boxes
+arrows and tables by two "draw characters":
  "back quote" '`' to draw horizontal and vertical "segments"
  "circumflex accent" '^' to mark "arrowheads"
 If you turn on the argument:
  "-g, --graphics": redraw '`'-segments and '^'-arrowheads
 and -U is off then yawp will redraw the pictures by replacing the draw
-characters with suitable graphic ones, depending on the other four
-characters around (left right above and below). Standalone draw characters
-are not replaced.
+characters with suitable graphic ones, depending on the other four characters
+around (left right above and below). Standalone draw characters are not
+replaced.
 This feature works:
- in "standard mode" (-N and -U off): in picture lines only, but not in
-text lines
- in "no-format mode" (-N on): in all lines of the file
- in "undo mode" (-U on): nowhere
+ in format mode (-N and -U off): in picture lines only, but not in text
+lines
+ in no-format mode (-N on): in all lines of the file
+ in undo mode (-U on): nowhere
 An example:
  $ cat graphics.txt
 
 `````````````
 
 ` x - y
 `
@@ -1221,160 +1381,179 @@
 `````
 
 ^`````` D `^````` C `^`````
 
 `````
 `````
 
-`````````````
-`N `N2 ` N3 `
-`````````````
+````````
+`N `N2 `
+````````
 ` 0` 0`
-0`
 ` 1` 1`
-1`
 ` 2` 4`
-8`
-` 3` 9` 27`
-` 4` 16` 64`
-` 5` 25` 125`
-` 6` 36` 216`
-` 7` 49` 343`
-` 8` 64` 512`
-` 9` 81` 729`
-`10`100`1000`
-`````````````
+` 3` 9`
+` 4` 16`
+` 5` 25`
+` 6` 36`
+` 7` 49`
+` 8` 64`
+` 9` 81`
+````````
 
 N
 ^
 `
 W^```````^E
 `
 ^
 S
-`````````````
-`````````````
-`````````````
-`````````````
-`````````````
-`````````````
-`````````````
 
-7. Graphics
-19/30
-
- $ yawp -v -g -p -P 0 graphics.txt
+^ u
+`
+7`
+6`
+***
+5`
+**
+*
+**
+4` * *
+*
+3`**
+*
+*
+2`
+***
+1`
+t
+0````````````````````^
+0 1 2 3 4 5 6 7 8 9
+
+ $ yawp -v -g graphics.txt
  Correct: '~/.yawp/yawp.cfg' not found, default corrections
  Correct: -L 43.325pt = 0.602in = 15.284mm = 1.528cm
  Correct: -R 40.57pt = 0.563in = 14.312mm = 1.431cm
  Correct: -T 53.814pt = 0.747in = 18.985mm = 1.898cm
  Correct: -B 15.991pt = 0.222in = 5.641mm = 0.564cm
  Read: yawp <-- '~/graphics.txt'
 
 0 header lines, max 0 chars per line, 1 page
 
-17 body lines, max 63 chars per line
+17 body lines, max 66 chars per line
 
-17 total lines, max 63 chars per line
- Compute: -w 63
- Compute: -W 7.649pt = 0.106in = 2.698mm = 0.27cm
- Correct: -W 8.052pt = 0.112in = 2.84mm = 0.284cm
- Compute: char height 12.748pt = 0.177in = 4.497mm = 0.45cm
- Correct: char height 13.562pt = 0.188in = 4.784mm = 0.478cm
- Backup: '~/graphics.txt' --> '~/graphics-2022.05.02-09.47.55.txt'
+17 total lines, max 66 chars per line
+ Compute: -w 66
+ Compute: -W 7.301pt = 0.101in = 2.576mm = 0.258cm
+ Correct: -W 7.712pt = 0.107in = 2.721mm = 0.272cm
+ Compute: char height 12.169pt = 0.169in = 4.293mm = 0.429cm
+ Correct: char height 12.897pt = 0.179in = 4.55mm = 0.455cm
+ Backup: '~/graphics.txt' --> '~/graphics-2022.06.25-18.47.57.txt'
  Rewrite: yawp --> '~/graphics.txt'
 
 0 header lines, max 0 chars per line, 1 page
 
-17 body lines, max 63 chars per line
+17 body lines, max 66 chars per line
 
-17 total lines, max 63 chars per line
- Print: '~/graphics.txt' --> stdout
+17 total lines, max 66 chars per line
+
+6. Graphics
+21/34
+
+ $ cat graphics.txt
 
 
+N
 
  x - y
 
-N
+
 
 x 
 
-
-
+
 
 
- x & y 
 
-N N2  N3 
+ x & y 
 
+N N2 
+WE
 
 
  y
-
-WE
+
+
 
 
 y - x 
  0 0
-0
-
+
 
 
  1 1
-1
-
+ u
+S
 
  2 4
-8
-S
+
 
 
 
- 3 9 27
+ 3 9
+7
 
- A  B 
- 4 16 64
-
+ A  B   4 16
+6
+***
 
 
 
- 5 25 125
-
+ 5 25
+5
+**
+*
+**
 
 
 
- 6 36 216
-
+ 6 36
+4 * *
+*
 
 
 
- 7 49 343
-
+ 7 49
+3**
+*
+*
 
 
 
- 8 64 512
-
+ 8 64
+2
+***
 
 
 
- 9 81 729
-
+ 9 81
+1
+t
 
- D  C 
-101001000
-
+ D  C  
+0
 
 
 
-
-Argument -g works with -N too, so you can redraw picture files without the
-need for a blank at beginning of the lines, and without yawp trying to
-format the file. We can say that when -N is turned on, the whole file is a
-single picture. As another example, we want to print a chessboard.
+0 1 2 3 4 5 6 7 8 9
+Figure 6.a. Example With "-g"
+Argument -g works with -N too, so you can redraw picture files without the need
+for a blank at beginning of the lines, and without yawp trying to format the
+file. We can say that when -N is turned on, the whole file is a single picture.
+As another example, we want to print a chessboard.
  $ cat chessboard.txt
  `````````````````
  ` `X` `X` `X` `X`
  `````````````````
  `X` `X` `X` `X` `
  `````````````````
  ` `X` `X` `X` `X`
@@ -1385,47 +1564,48 @@
  `````````````````
  `X` `X` `X` `X` `
  `````````````````
  ` `X` `X` `X` `X`
  `````````````````
  `X` `X` `X` `X` `
  `````````````````
-
-20/30
-Yawp 0.6.1 Manual
-
- $ yawp -v -N -g -p -A 1 -L 1cm -T 5cm -B 2cm chessboard.txt
+ $ yawp -v -N -g -A 1 -X -L 1cm chessboard.txt
  Correct: '~/.yawp/yawp.cfg' not found, default corrections
  WARNING: -L 1cm < 2cm, you may get unexpected results
  Correct: -L 13.737pt = 0.191in = 4.846mm = 0.485cm
  WARNING: -R 1cm < 2cm, you may get unexpected results
  Correct: -R 10.456pt = 0.145in = 3.689mm = 0.369cm
- Correct: -T 144.161pt = 2.002in = 50.857mm = 5.086cm
+ Correct: -T 53.814pt = 0.747in = 18.985mm = 1.898cm
  Correct: -B 15.991pt = 0.222in = 5.641mm = 0.564cm
  Read: yawp <-- '~/chessboard.txt'
 
 0 header lines, max 0 chars per line, 1 page
 
 17 body lines, max 17 chars per line
 
 17 total lines, max 17 chars per line
  Compute: -w 17
  Compute: -W 31.681pt = 0.44in = 11.176mm = 1.118cm
- Correct: -W 33.349pt = 0.463in = 11.765mm = 1.176cm
+ Correct: -W 33.464pt = 0.465in = 11.805mm = 1.181cm
  Compute: char height 31.681pt = 0.44in = 11.176mm = 1.118cm
- Correct: char height 33.704pt = 0.468in = 11.89mm = 1.189cm
- Backup: '~/chessboard.txt' --> '~/chessboard-2022.05.02-09.47.55.txt'
+ Correct: char height 33.576pt = 0.466in = 11.845mm = 1.184cm
+ Backup: '~/chessboard.txt' --> '~/chessboard-2022.06.25-18.47.57.txt'
  Rewrite: yawp --> '~/chessboard.txt'
 
 0 header lines, max 0 chars per line, 1 page
 
 17 body lines, max 17 chars per line
 
 17 total lines, max 17 chars per line
- Print: '~/chessboard.txt' --> stdout
+ Export: '~/chessboard.txt' --> '~/chessboard.pdf'
+
+22/34
+Yawp 0.7.1 Manual
+
+ $ cat chessboard.txt
  
   X X X X
  
  X X X X 
  
   X X X X
  
@@ -1435,102 +1615,131 @@
  
  X X X X 
  
   X X X X
  
  X X X X 
  
- Export: '~/chessboard.txt' --> '~/chessboard.pdf'
+Figure 6.b. Example With "-N -g -A 1"
 Some remarks:
  '-N' prevents formatting the file as text, but the backup is still
 performed
- defaults '-w 0' and '-W 0' make the picture take up all available
-space between left and right margins
- '-A 1' transforms rectangles into squares in PDF file, so by printing
-it on an A4 sheet you get a square chessboard of about 20x20cm,
-8x8in.
-
-8. Pdf Exporting
-21/30
-
-8. PDF EXPORTING
-Normally the file is exported to a PDF file, which is then opened by
-calling the system default PDF browser (as atril or evince). If you don't
-want this to happen, set '-P 0'.
- "-P, --file-pdf": at end export file to this PDF file and open it
-('0' = no export, default: '%P/%f.pdf')
-Each "percent variable" is evaluated as explained in '6. Paging', but '%n'
-'%N' and '%c' are not applicable and not allowed. '%P' and '%p' are both
-allowed but give the same result. The resulting file name must end with
+ defaults '-w 0' and '-W 0' make the picture take up all available space
+between left and right margins
+ '-A 1' transforms rectangles into squares in chessboard.pdf, so by
+printing it on an A4 sheet you get a square chessboard of about 18x18cm,
+7x7in
+
+7. Pdf
+23/34
+
+7. PDF
+7.1. PDF EXPORTING
+Normally the file isn't exported to a PDF file. But if you set the argument:
+ "-X, --export-view-pdf": at end export and view PDF file
+then a PDF file is exported and viewed by a PDF viewer (as atril or evince) for
+check preview and print.
+To define the PDF viewer, set the argument:
+ "-Y,
+--view-pdf-by":
+'xdg-open')
+The default value
+default PDF viewer.
+
+'xdg-open'
+
+viewer
+causes
+
+for
+
+the
+
+exported
+
+you
+
+view
+
+PDF
+
+file
+
+(default:
+
+the PDF file thru the system
+
+To define path and name of the exported PDF file, set the argument:
+ "-P, --file-pdf": exported PDF file (default: '%P/%f.pdf')
+Each "percent variable" in -P is evaluated as explained in chapter 6., but '%n'
+'%N' and '%c' are not applicable and not allowed. '%P' and '%p' are both allowed
+but give the same result. The resulting file name must end with lowercase
 '.pdf'.
 Character size is defined by -W and -A arguments:
  "-W, --char-width":
-automatic)
+pt/in/mm/cm)
 
 character
 
 width
 
-(pt/in/mm/cm,
+(default:
+
+'0'
 
-default: '0' =
+= automatic, unit:
 
-Value is an integer or float literal followed by a lowercase suffix:
+Value is an integer or float literal followed by a lowercase unit suffix:
  'pt' for points (1 inch = 72 points)
  'in' for inches
  'mm' for millimeters
  'cm' for centimeters
 so for instance these are all equivalent, giving a value of one inch:
  -W 72pt
  -W 1.0in
  -W 25.4mm
  -W 2.54cm
-Only a zero value (as '0' or '0.0') can lack the suffix, because of course
-0pt = 0in = 0mm = 0cm, but a zero value for -W means "automatic".
-Both -W and -w (line width in chars per line, see '3. Justification') can
-be zero hence automatic, namely:
- if -w is automatic and -W is not, -w is computed from -W
+There is no default unit, the suffix is mandatory. Only a zero value (as '0' or
+'0.0') can lack the suffix, but a zero value for -W means "automatic".
+Both -W and -w (line
+automatic, namely:
+
+width
+
+in
+
+chars per line, see 3.1.) can be zero hence
+
  if -W is automatic and -w is not, -W is computed from -w
+ if -w is automatic and -W is not, -w is computed from -W
  if both -w and -W are automatic,
- -w is deduced from max line length in file (page headers are not
+ -w is deduced from max body line length in file (page headers are not
 considered)
  -W is computed from -w
 Given the character width by -W, the character height is derived from -A:
- "-A, --char-aspect": character aspect ratio
-height ('1' = square grid, default: '3/5')
-
-=
+ "-A, --char-aspect": character aspect
+(default: '3/5', '1' = square grid)
 
-char width / char
+ratio = char width / char height
 
 -A is a ratio, so it can be:
  an integer or float literal (as '1' or '0.6')
- two integer or float literals, separated by a "slash" '/' (as '3/5'
-or '3/5.0')
+ two integer or float literals, separated by a "slash" '/' (as '3/5')
+
+24/34
+Yawp 0.7.1 Manual
+
 Dimensions of the paper sheet, expressed in points inches centimeters or
 millimeters (as explained for -W before) are defined by -S:
- "-S, --paper-size": portrait paper size (width x height, pt/in/mm/cm,
-default: 'A4' = '210x297mm')
-Format is
-height.
-
-portrait,
-
-in
-
-other
-
-words the width can't be greater than the
-
-22/30
-Yawp 0.6.1 Manual
-
-Values can be names too, see the following table of allowed names. These
-names are case-insensitive ('A4' and 'a4' are equivalent), while the 'x'
-and the suffix in the 'width x height' value must be lowercase.
+ "-S, --paper-size": portrait paper size width x height (default: 'A4' =
+'210x297mm', unit: pt/in/mm/cm)
+Format is portrait, in other words the width cannot be greater than the height.
+Values can be symbolic names too, see the following table. These names are
+case-insensitive ('A4' or 'a4' is the same), while the 'x' and the unit suffix
+in the explicit value must be lowercase.
 
 
 NAME
 
 VALUE
 
 
@@ -1597,90 +1806,83 @@
 B9
 44x62mm
 
 B10
 31x44mm
 
 
+Figure 7.1.a. Symbolic Names For "-S"
 Paper width and height are exchanged with each other by -Z:
  "-Z, --landscape": turn page by 90 degrees (default: portrait)
 Unprintable margins around the paper sheet are controlled by:
- "-L, --left-margin": left margin (pt/in/mm/cm, default: '2cm')
- "-R, --right-margin": right margin (pt/in/mm/cm, default: '-L')
- "-T, --top-margin": top margin (pt/in/mm/cm, default: '2cm')
- "-B, --bottom-margin": bottom margin (pt/in/mm/cm, default: '-T')
-Margins are expressed
-explained above for -W.
-
-in
-
-points
-
-inches
-
-centimeters
-
-or millimeters as
-
-If -R has the default value '-L' then it's forced to the value of -L.
-If -B has the default value '-T' then it's forced to the value of -T.
-BEWARE: margins of less than 2cm are allowed but not guaranteed, and may
-give unexpected results.
-
-9. Corrections
-23/30
-
-9. CORRECTIONS
-For a quick start, you can skip this chapter.
-Export of the PDF file is performed by CUPS via the "lp" Unix command.
-Geometry is controlled by yawp passing to lp various arguments:
+ "-L, --left-margin": left margin (default: '2cm', unit: pt/in/mm/cm)
+ "-R, --right-margin": right margin (default: '-L', unit: pt/in/mm/cm)
+ "-T, --top-margin": top margin (default: '2cm', unit: pt/in/mm/cm)
+ "-B, --bottom-margin": bottom margin (default: '-T', unit: pt/in/mm/cm)
+Margins are expressed in points inches centimeters or millimeters as explained
+above for -W, but:
+ if -R has the default value '-L' then it's forced to the value of -L
+ if -B has the default value '-T' then it's forced to the value of -T
+BEWARE: margins of
+unexpected results.
+7.2. PDF CORRECTIONS
+
+less than 2cm are allowed but not guaranteed, and may give
+
+7. Pdf
+25/34
+
+Export of the PDF file is performed by CUPS via the "lp" Unix command. Geometry
+is controlled by yawp passing to lp various arguments:
  -o cpi=N (number of characters per inch, default=10)
  -o lpi=N (number of lines per inch, default=6)
  -o page-left=N (left page margin, value in points)
  -o page-right=N (right page margin, value in points)
  -o page-top=N (top page margin, value in points)
  -o page-bottom=N (bottom page margin, value in points)
-These options are
-for instance in:
+These options
+instance in:
 
-undocumented in the lp man page, but you can find them
+are
+
+undocumented
+
+in the lp man page, but you can find them for
 
 https://www.computerhope.com/unix/ulp.htm
 Unfortunately, by printing the PDF file on paper the above options are not
-respected, but are affected by not negligible errors. With "lpr" it's the
-same. Namely:
+respected, but are affected by not negligible errors. With "lpr" command the
+same thing happens. Namely:
  page margins are enlarged, so they need to be reduced
  character width and height are reduced, so they need to be enlarged
- in portrait and landscape orientation the errors are different, and
-so must be the corrections
-A hardwired mechanism in yawp tries to correct such errors. If -v is on,
-such corrections are signaled by information messages starting with
-'Correct:'. This device has been tuned for the default paper size 'A4' =
-'210x297mm', both portrait and landscape, on a Hewlett-Packard Officejet
-2620 printer. With another format or another printer you may get different
-results, and so you may need different correctors.
+ in portrait and landscape orientation errors are different, and so
+corrections must be
+A mechanism in yawp tries to correct such errors. If -v is on, such corrections
+are signaled by information messages starting with 'Correct:'. This device has
+been tuned for the default paper size 'A4' = '210x297mm', both portrait and
+landscape, on a Hewlett-Packard Officejet 2620 printer. With another format or
+another printer you may get different results, and so you may need different
+correctors.
 Corrections are controlled by -C argument:
  "-C, --calibration": don't correct character size and page margins
 and by the configuration file '~/.yawp/yawp.cfg', if exists:
- if -C argument is turned on, no correction takes place, and we can
-make experiments in order to define content of '~/.yawp/yawp.cfg'
- otherwise
-if
-'~/.yawp/yawp.cfg'
-doesn't
-exist,
-the default
-corrections are performed
- otherwise corrector coefficients are read from '~/.yawp/yawp.cfg'
-An example for
+ if -C argument is turned on, no correction takes place, and we can make
+experiments in order to define content of '~/.yawp/yawp.cfg'
+ otherwise if '~/.yawp/yawp.cfg' doesn't exist, the default corrections are
+applied
+ otherwise all corrector coefficients are read from '~/.yawp/yawp.cfg'
+An
+example
 corrections:
 
+for
+
 '~/.yawp/yawp.cfg'
 
-follows, corresponding to the default
+follows,
 
  #----- yawp configuration file ----
  plm 10mm 16mm # portrait left margin
  plm 20mm 24mm
  plm 30mm 35mm
  plm 40mm 43mm
  plm 50mm 52mm
@@ -1689,25 +1891,33 @@
  plm 80mm 83mm
  plm 90mm 92mm
  plm 100mm 101mm
 
  llm 10mm 20.5mm # landscape left margin
  llm 20mm 29.5mm
  llm 30mm 39mm
-
-24/30
-Yawp 0.6.1 Manual
-
  llm 40mm 48mm
  llm 50mm 57mm
  llm 60mm 66.5mm
  llm 70mm 75.5mm
  llm 80mm 84.5mm
  llm 90mm 94mm
  llm 100mm 104mm
+
+corresponding
+
+to
+
+the
+
+default
+
+26/34
+Yawp 0.7.1 Manual
+
 
  prm 10mm 15mm # portrait right margin
  prm 20mm 25.5mm
  prm 30mm 34.5mm
  prm 40mm 44.5mm
  prm 50mm 54.5mm
  prm 60mm 64.5mm
@@ -1753,482 +1963,580 @@
  pbm 20mm 34mm
  pbm 30mm 43mm
  pbm 40mm 52.5mm
  pbm 50mm 62mm
  pbm 60mm 71mm
  pbm 70mm 81mm
  pbm 80mm 90mm
- ppm 90mm 100mm
+ pbm 90mm 100mm
  pbm 100mm 109.5mm
 
  lbm 10mm 24mm # landscape bottom margin
  lbm 20mm 32mm
  lbm 30mm 42mm
-
-9. Corrections
-25/30
-
  lbm 40mm 52mm
  lbm 50mm 60mm
  lbm 60mm 70mm
  lbm 70mm 80mm
  lbm 80mm 88mm
  lbm 90mm 99mm
  lbm 100mm 107mm
 
  pcw 100mm 94.674mm # portrait character width
 
  lcw 100mm 92.200mm # landscape character width
+
+7. Pdf
+27/34
+
 
  pch 100mm 94.358mm # portrait character height
 
  lch 100mm 92.647mm # landscape character height
-As you see, standard Unix '#'-comments are accepted. The file contains a
-set of correctors. Each "corrector" has the form 'k y x', where:
- k is a three-letters "key" among 12 allowed values:
+Figure 7.2.a. Example Of "yawp.cfg" Configuration File
+As you can see, standard Unix '#'-comments and empty lines are accepted. The
+file contains a set of correctors, in any order. Each "corrector" has the form
+'k y x', where:
+ k is a 3-letters lowercase "key" among 12 allowed values:
  'plm' portrait left margin
  'prm' portrait right margin
  'ptm' portrait top margin
  'pbm' portrait bottom margin
  'pcw' portrait character width
  'pch' portrait character height
  'llm' landscape left margin
  'lrm' landscape right margin
  'ltm' landscape top margin
  'lbm' landscape bottom margin
  'lcw' landscape character width
  'lch' landscape character height
  y is a "wanted value" in points/inches/millimeters/centimeters
  x is an "obtained value" in points/inches/millimeters/centimeters
-For instance, take the first corrector, 'plm 10mm 16mm'. This means that,
-by trying to print a page with -Z off, -C on, and -L 10mm (y = 10mm), we
-have empirically obtained an actual measured left margin of 16mm on paper
-(x = 16mm). Therefore if we wish an actual measured left margin of 16mm on
-paper (x = 16mm), we must give to lp command an argument '-o page-left'
-equivalent to 10mm (y = 10mm). So, given a wanted measure x and a set of
-corresponding correctors, which is the function y = f(x) telling us what
-argument y provide to lp?
+For instance, take the first corrector, 'plm 10mm 16mm'. This means that, by
+trying to print a page with -Z off, -C on, and -L 10mm (y = 10mm), we have
+empirically obtained an actual measured left margin of 16mm on paper (x = 16mm).
+Therefore if we wish an actual measured left margin of 16mm on paper (x = 16mm),
+we should give to lp command an argument '-o page-left' equivalent to 10mm (y =
+10mm). So, given a wanted measure x and a set of corresponding correctors, which
+is the function y = f(x) telling us what argument y provide to lp?
 For each key we can have zero, one, two or more correctors, namely:
- zero correctors: no correction, y = f(x) = x, the straight line
-passing by (0, 0) and (1, 1)
- one corrector, say (y0, x0): y = f(x) = (y0 / x0) * x, the straight
-line passing by (0, 0) and (x0, y0)
- two correctors, say [(y0, x0), (y1, x1)], y = f(x) = y0 + (x - x0) *
-(y1 - y0) / (x1 - x0), the straight line passing by (x0, y0) and (x1,
-y1)
- three or more correctors, say [(y0, x0), (y1, x1), (y2, x2), ...], y
-= f(x) is approximated by the least-squares straight line defined by
-(x0, y0), (x1, y1), (x2, y2), ...
+ zero correctors: no correction, y = f(x) = x, the straight line passing by
+(0, 0) and (1, 1)
+ one corrector, say (y0, x0): y = f(x) = (y0 / x0) * x, the straight line
+passing by (0, 0) and (x0, y0)
+ two correctors, say [(y0, x0), (y1, x1)], y = f(x) = y0 + (x - x0) * (y1 y0) / (x1 - x0), the straight line passing by (x0, y0) and (x1, y1)
+ three or more correctors, say [(y0, x0), (y1, x1), (y2, x2), ...], y =
+f(x) is approximated by the least-squares straight line defined by (x0,
+y0), (x1, y1), (x2, y2), ...
 Finally, if the result is less than zero, it's forced to zero.
 
-26/30
-Yawp 0.6.1 Manual
-
-10. AFTERWORDS
-10.1. ACRONYMS
+28/34
+Yawp 0.7.1 Manual
+
+8. AFTERWORDS
+8.1. ACRONYMS
 
 ACRONYM
 MEANING
 
 
 CUPS
 Common Unix Printing System
 
 IDE
 Integrated Development Environment
 
 IDLE
 Integrated Development and Learning Environment
+MS
+MicroSoft
+
 PDF
 Page Description Format
 
 PyPI
 Python Package Index
 
+RAM
+Random Access Memory
+
 WYSIWYGWhat You See Is What You Get
 
 YAWP
 Yet Another Word Processor
 
 
-10.2. CHARACTERS
+Figure 8.1.a. Acronyms
+8.2. CHARACTERS
 
 
-CHARACTER NAME
+UNICODE CHARACTER NAME
 CHARHEX DEC 
 
-back quote
-'`' 0060 96
-black small circle
-'' 20228226
-blank
-' ' 0020 32
-box drawings light down and horizontal
-'' 252c9516
-box drawings light down and left
-'' 25109488
-box drawings light down and right
-'' 250c9484
-box drawings light horizontal
-'' 25009472
-box drawings light up and horizontal
-'' 25349524
-box drawings light up and left
-'' 25189496
-box drawings light up and right
-'' 25149492
-box drawings light vertical
-'' 25029474
-box drawings light vertical and horizontal'' 253c9532
-box drawings light vertical and left
-'' 25249508
-box drawings light vertical and right
-'' 251c9500
-carriage return
-'\r'000d 13
-circumflex accent
-'^' 005e 94
-decimal point
-'.' 002e 46
-digit nine
-'9' 0039 57
-digit zero
-'0' 0030 48
-double quote
-'"' 0022 34
-form feed
-'\f'000c 12
 horizontal tab
 '\t'0009
 9
-latin small letter x
-'x' 0078 120
 line feed
 '\n'000a 10
-macron
-'' 00af 175
+form feed
+'\f'000c 12
+carriage return
+'\r'000d 13
+blank
+' ' 0020 32
+double quote
+'"' 0022 34
+number sign
+'#' 0023 35
 percent sign
 '%' 0025 37
 single quote
 "'" 0027 39
+decimal point
+'.' 002e 46
 slash
 '/' 002f 47
+digit zero
+'0' 0030 48
+digit nine
+'9' 0039 57
+circumflex accent
+'^' 005e 94
+back quote
+'`' 0060 96
+latin small letter a
+'a' 0061 97
+latin small letter x
+'x' 0078 120
+latin small letter z
+'z' 007a 122
+macron
+'' 00af 175
+black small circle
+'' 20228226
+box drawings light horizontal
+'' 25009472
+box drawings light vertical
+'' 25029474
+box drawings light down and right
+'' 250c9484
+box drawings light down and left
+'' 25109488
+box drawings light up and right
+'' 25149492
+box drawings light up and left
+'' 25189496
+box drawings light vertical and right
+'' 251c9500
+box drawings light vertical and left
+'' 25249508
+box drawings light down and horizontal
+'' 252c9516
+box drawings light up and horizontal
+'' 25349524
+box drawings light vertical and horizontal'' 253c9532
+white up-pointing triangle
+'' 25b39651
+white right-pointing triangle
+'' 25b79655
 white down-pointing triangle
 '' 25bd9661
 white left-pointing triangle
 '' 25c19665
-white right-pointing triangle
-'' 25b79655
-white up-pointing triangle
-'' 25b39651
 
-10.3. CREDITS
-A somewhat analogous (but very different) program is the Unix command
-"fmt". We are not aware of any other programs of this kind. For details,
-type:
+Figure 8.2.a. Characters
+8.3. CREDITS
+A somewhat analogous (but very different) program is the Unix command "fmt", for
+details type:
+
+8. Afterwords
+29/34
+
  $ man fmt
+We are not aware of any other program of this kind.
 Yawp has been developed under Xubuntu 21.10:
-
-10. Afterwords
-27/30
-
 http://www.xubuntu.org
+Standard PDF viewer in Xubuntu 21.10 is atril 1.26.0:
+https://wiki.mate-desktop.org/mate-desktop/applications/atril
 by Python 3.9.7 and IDLE, the Pythons IDE:
 https://www.python.org
-and published on Pypi by flit 3.7.1:
+and published on PyPI by flit 3.7.1:
 https://pypi.org/project/flit
-10.4. HISTORY
- version 0.6.1
+8.4. HISTORY
+ version 0.7.1 - 2022-06-25 - Development Status :: 4 - Beta
+ '-f, --form-feed', renamed '-j, --eject'
+ '-F, --form-feed-chap', renamed '-J, --eject-pict-chap'
+ '-X, --export-pdf', added
+ '-Y, --view-pdf-by, added
+ -j allows pictures be spanned across pages (while -J doesn't)
+ '-f, --figures-title', '-F, --caption-prefix', figures chapter, added
+ characters quoted by '"' in chapter titles and figure captions are
+neither uppercased nor titlecased
+ index subjects are sought in text only
+ '-s, --echo-shell', suppressed
+ '-p, --print-file', suppressed
+ version 0.6.1 - 2022-05-06 - Development Status :: 4 - Beta
  '-k, --calibration', renamed '-C, --calibration'
- '-m, --max-subject', suppressed
  max subject lenght and max length of chapter titles are -w / 2
  corrections, made parametric by configuration file yawp.cfg
- '-Q, --print-quality', suppressed, print quality is always max
  in index chapter:
  page numbers for quoted subjects, quoted
  unquoted page numbers for unquoted subjects, added
- Development Status :: 4 - Beta
- version 0.5.4
- just another fix to the yawp manual
- Development Status :: 4 - Beta
- version 0.5.3
- just a fix to the installation instructions in yawp manual
- Development Status :: 4 - Beta
- version 0.5.2
- correction of page margins, new algorithm
- page margins, no more bounded by 2cm..8cm interval (but below 2cm
-you may get unexpected results)
- '-g, --graphics', now works with -N too (but not with -U)
+ '-m, --max-subject', suppressed
+ '-Q, --print-quality', suppressed
+ version 0.5.4 - 2022-04-04 - Development Status :: 4 - Beta
+ just another fix to the Yawp Manual
+ version 0.5.3 - 2022-04-02 - Development Status :: 4 - Beta
+ just a fix to the installation instructions in Yawp Manual
+ version 0.5.2 - 2022-04-02 - Development Status :: 4 - Beta
+ correction of page margins and char size, new algorithm
+ page margins, no more bounded by 2cm..8cm interval (but below 2cm you
+may get unexpected results)
+ '-g, --graphics', now works with -N too
  information messages about corrected values, added
  index subjects, taken not only from text but from pictures too
  '-b, --dump-buffer', useful for debug only, suppressed
- yawp manual, updated
- Development Status :: 4 - Beta
- version 0.5.1
+ version 0.5.1 - 2022-03-19 - Development Status :: 4 - Beta
  completely redefined and rewritten
- Development Status :: 4 - Beta
- version 0.4.2
- obsolete and deprecated
- version 0.4.1
+ version 0.4.2 - 2022-01-04 - obsolete and deprecated
+ version 0.4.1 - 2022-01-03 - obsolete and deprecated
  first version on pypi.org
- obsolete and deprecated
-10.5. LICENSE
-Yawp is free software. You can redistribute it and/or modify it under the
-terms of the GNU General Public License as published by the Free Software
-Foundation, either version 3 of the License, or any later version.
-
-28/30
-Yawp 0.6.1 Manual
-
-11. SUMMARY OF ARGUMENTS
-General arguments:
- -h, --help: show a short help message and exit
- -H, --manual: open this PDF yawp manual and exit
- -V, --version: show program's version number and exit
- -v, --verbose: display information messages on stderr
- -s, --echo-shell: display invoked Unix commands on stderr
+8.5. LICENSE
+
+30/34
+Yawp 0.7.1 Manual
+
+This program is free software, you can redistribute it and/or modify it under
+the terms of the GNU General Public License as published by the Free Software
+Foundation, either version 3, or (at your option) any later version.
+This program is distributed in the hope that it will be useful, but WITHOUT ANY
+WARRANTY, without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+PARTICULAR PURPOSE. See the GNU General Public License for more details.
+You should have received a copy of the GNU General Public License along with
+this program (see the file LICENSE), if not, see:
+https://www.gnu.org/licenses/
+or contact Free Software
+Boston, MA 02111-1301 USA.
+
+Foundation,
+
+Inc., 51 Franklin Street, Fifth Floor,
+
+Please send bugreports, fixes, enhancements, criticism and (possibly) praise and
+thanks to carlo.alessandro.verre@gmail.com.
+
+9. Arguments
+31/34
+
+9. ARGUMENTS
 Usage arguments:
- -N, --no-format: don't format the file
- -U, --undo: restore the file from its previous version
+ -h, --help: show a help message and exit
+ -H, --manual: view this yawp-generated PDF Yawp Manual and exit
+ -V, --version: show program's version number and exit
+ -v, --verbose: display information and warning messages on stderr
+ -N, --no-format: run in no-format mode (default: run in format mode)
+ -U, --undo: run in undo mode (default: run in format mode)
  -g, --graphics: redraw '`'-segments and '^'-arrowheads
- -p, --print-file: at end print file on stdout
 Formatting arguments:
- -w, --chars-per-line: line width in characters per line (default: '0'
-= automatic)
- -l, --left-only: justify text lines at left only (default: at left
-and right)
+ -w, --chars-per-line: line width in characters per line (default: '0' =
+automatic)
+ -l, --left-only: justify text lines at left only (default: at left and
+right)
  -c, --contents-title: title of contents chapter (default: 'contents')
+ -f, --figures-title: title of figures chapter (default: 'figures')
+ -F, --caption-prefix: first word of figure captions (default: 'figure')
  -i, --index-title: title of index chapter (default: 'index')
 Paging arguments:
- -f, --form-feed: insert a page header on full page
- -F, --form-feed-chap: insert a page header on full page and before
-contents index and level-one chapters
- -e, --even-left: even page headers, left (default: '%n/%N')
- -E, --even-right: even page headers, right (default: '%f.%e %Y-%m-%d
+ -j, --eject: insert page headers on full page
+ -J, --eject-pict-chap: insert page headers on full page, on broken
+picture, and before level-1/contents/figures/index chapters
+ -e, --even-left: headers of even pages, left (default: '%n/%N')
+ -E, --even-right: headers of even pages, right (default: '%f.%e %Y-%m-%d
 %H:%M:%S')
- -o, --odd-left: odd page headers, left (default: '%c')
- -O, --odd-right: odd page headers, right (default: '%n/%N')
- -a, --all-pages-E-e: all page headers contain -E at left and -e at
-right
+ -o, --odd-left: headers of odd pages, left (default: '%c')
+ -O, --odd-right: headers of odd pages, right (default: '%n/%N')
+ -a, --all-pages-E-e: put in all page headers -E at left and -e at right
 PDF arguments:
- -P, --file-pdf: at end export file to this PDF file and open it ('0'
-= no export, default: '%P/%f.pdf')
- -W, --char-width: character width (pt/in/mm/cm, default: '0' =
-automatic)
+ -X, --export-view-pdf: at end export and view PDF file
+ -Y, --view-pdf-by: viewer for the exported PDF file (default: 'xdg-open')
+ -P, --file-pdf: exported PDF file (default: '%P/%f.pdf')
+ -W, --char-width: character width (default: '0' = automatic, unit:
+pt/in/mm/cm)
  -A, --char-aspect: character aspect ratio = char width / char height
-('1' = square grid, default: '3/5')
- -S, --paper-size: portrait paper size (width x height, pt/in/mm/cm,
-default: 'A4' = '210x297mm'
+(default: '3/5', '1' = square grid)
+ -S, --paper-size: portrait paper size width x height (default: 'A4' =
+'210x297mm', unit: pt/in/mm/cm)
  -Z, --landscape: turn page by 90 degrees (default: portrait)
- -L, --left-margin: left margin (pt/in/mm/cm, default: '2cm')
- -R, --right-margin: right margin (pt/in/mm/cm, default: '-L')
- -T, --top-margin: top margin (pt/in/mm/cm, default: '2cm')
- -B, --bottom-margin: bottom margin (pt/in/mm/cm, default: '-T')
+ -L, --left-margin: left margin (default: '2cm', unit: pt/in/mm/cm)
+ -R, --right-margin: right margin (default: '-L', unit: pt/in/mm/cm)
+ -T, --top-margin: top margin (default: '2cm', unit: pt/in/mm/cm)
+ -B, --bottom-margin: bottom margin (default: '-T', unit: pt/in/mm/cm)
  -C, --calibration: don't correct character size and page margins
 Positional argument:
  file: text file to be processed
 
+32/34
+Yawp 0.7.1 Manual
+
+FIGURES
+ 1.1.a.
+Usage Flow Diagram
+3
+ 3.1.a.
+Formatting State Diagram
+7
+ 3.1.b.
+Example With "-N -w 1"
+8
+ 3.3.a.
+Example With A Python File
+11
+ 4.a.
+Chapter Kinds
+12
+ 4.2.a.
+Example Of Chapter Renumbering
+13
+ 4.3.1.a. Example Of Contents Chapter
+15
+ 5.a.
+Page Header When "-a" Is Off
+18
+ 5.b.
+Percent Variables
+19
+ 5.c.
+Page Header When "-a" Is On
+19
+ 6.a.
+Example With "-g"
+21
+ 6.b.
+Example With "-N -g -A 1"
+22
+ 7.1.a.
+Symbolic Names For "-S"
+24
+ 7.2.a.
+Example Of "yawp.cfg" Configuration File 27
+ 8.1.a.
+Acronyms
+28
+ 8.2.a.
+Characters
+28
+
 Index
-29/30
-
+33/34
+
 INDEX
  -A, --char-aspect
+"23", 31
  -B, --bottom-margin
+"24", 31
  -C, --calibration
+"25", 29, 31
  -E, --even-right
- -F, --form-feed-chap
+"18", 31
+ -F, --caption-prefix "16", 29, 31
  -H, --manual
+"6", 31
+ -J, --eject-pict-chap "18", 29, 31
  -L, --left-margin
+"24", 31
  -N, --no-format
+"6", 31
  -O, --odd-right
+"18", 31
  -P, --file-pdf
+"23", 31
  -R, --right-margin
+"24", 31
  -S, --paper-size
+"24", 31
  -T, --top-margin
+"24", 31
  -U, --undo
+"6", 31
  -V, --version
+"6", 31
  -W, --char-width
+"23", 31
+ -X, --export-view-pdf "23", 31
+ -Y, --view-pdf-by
+"23", 31
  -Z, --landscape
+"24", 31
  -a, --all-pages-E-e
- -c, --contents-title
+"19", 31
+ -c, --contents-title "14", 31
  -e, --even-left
- -f, --form-feed
+"18", 31
+ -f, --figures-title
+"15", 29, 31
  -g, --graphics
+"20", 29, 31
  -h, --help
+"6", 31
  -i, --index-title
+"17", 31
+ -j, --eject
+"18", 29, 31
  -l, --left-only
+"8", 31
  -o, --odd-left
- -p, --print-file
- -s, --echo-shell
+"18", 31
  -v, --verbose
- -w, --chars-per-line
+"6", 31
+ -w, --chars-per-line "8", 31
+ Yawp Manual
+"4", 6, 29, 31
  arrowheads
+3, "20"
  automatic
+3, "8", 12, 13, 14, 15, 16, "23", 31
+ automatic chapter
+"12", 13, 14, 15, 16
+ automatic chapters
+"14"
  back quote
+"20"
  best practices
+"8"
  black small circle
- blank
+"7"
  body line
+"7", 8, 23
+ caption
+"15", 16
+ caption label
+"16"
  carriage return
+"6"
+ chapter label
+"12", 16
  chapter lines
+"12", 13, 16
  chapters
+3, 4, "12", 13, 14, 18, 31
  circumflex accent
+"20"
  contents chapter
- contents line
+3, "12", 13, "14", 15, 17, 31
  corrector
+25, "27"
  decimal point
+"7", "12", 16
+ dot character
+"7"
  dot line
+"7", 9
  double quote
+5, "16"
  draw characters
+"20"
  empty line
+"7", 8, 9, 12, 16
+ equivalent
+"5", 14, 15, 16, 17, 27
  error message
- file
+"4", 9
+ figure
+3, 12, "15", 16, 29, 31
+ figure caption line
+"16"
+ figures chapter
+3, "12", "15", 16, 31
  fmt
+"28"
  form feed
+"18"
+ format mode
+"6", 7, 20, 31
  header line
+"7", 18
  horizontal tab
+"6"
  indented line
+"7"
  indented paragraph
+"7"
+
+34/34
+Yawp 0.7.1 Manual
+
  index chapter
- index line
+3, "12", "16", 17, 18, 29, 31
  information message
+"4"
  int-dot couples
+"12"
  key
+"27"
  level
+"12", 13
  line feed
-
-"21", 28
-"22", 28
-"23", 27, 28
-"16", 28
-"16", 28
-"5", 28
-"22", 28
-"5", 28
-"16", 28
-"5", "21", 28
-"22", 28
-"21", 28
-"22", 28
-"5", 28
-"5", 28
-"21", 28
-"22", 28
-"17", 28
-"12", 28
-"16", 28
-"16", 28
-"18", 27, 28
-"5", 28
-"15", 28
-"8", 28
-"16", 28
-"5", 28
-"5", 28
-"5", 28
-"7", 11, 13, 14, 15, 28
-3, "18"
-3, "7", "21", 28
-"18", 26
-"8"
-"6", 26
-6, "11", 13, 15, 19, 26
-"16"
-"5", 26
-"11"
-5, "11", 12, 16, 28
-"18", 26
-3, "11", "12", 13, 15, 16, 28
-"11", "12", 13, 16
-23, "25"
-"6", "11", 26
-"6", 7, 8
-"14", 26
-"18"
-"6", 7, 8, 11, 12, 13, 15
-"4", 9
-"3", 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, ...
-"26"
-"16", 26
-"16"
-"5", 26
-"6", 7
-"6", 9, 10
-3, "11", 13, "14", 15, 16, 27, 28
-"11", "15", 16
-"4"
-"11"
-"25"
-"11"
-"5", 26
-
-30/30
-Yawp 0.6.1 Manual
-
+"6"
  long path
-"17"
+"19"
  lp
-4, "23", 25
+"25", 27
  lpr
-"23"
+"25"
  macron
-"16", 26
- nameless chapter
-"11", 12
+"18"
  no-format mode
-"5", "18"
+"6", 20, 31
  numbered chapter
-"11", 16
- numbered chapter line "11", 16
+"12", 13
+ numbered chapter line "12"
  obtained value
-"25"
+"27"
  percent variable
-"17", "21"
- picture line
-"7"
+"19", "23"
  picture state
-"6"
+"7"
  quoted subject
-"14"
+"16"
  segments
-3, "18"
+3, "20"
  short path
-"17"
+"19"
  shrink
-"6"
+"4"
  single quote
-"14", 26
+"16"
  slash
-"21", 26
+"23"
  stable
-"4"
- standard mode
-"5", "18"
+"3"
  subject
-"14", 15, 27
+"16", 17, 29
  switch line
-"9", 10
- text lines
-"7", 8, 18, 28
+"9"
  text state
-"6"
+"7"
+ the file
+"3", 4, 6, 8, 9, 11, 12, 13, 14, 16, 18, 19, 20, ...
  titlecase
-"11"
+"5"
  undo mode
-"5", "18"
+"6", 20, 31
  unindented line
-"6", 8
- unindented paragraph "6", 9, 10
+"7", 8, 9
+ unindented paragraph "7"
  universal newlines
-"5"
+"6"
+ unnamed chapter
+"12", 16
  unquoted subject
-"14"
+"16"
+ uppercase
+"5"
  wanted value
-"25"
+"27"
  warning message
-"4", 15
+"4", 17
  yawp
-1, "3", 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, ...
- yawp manual
-"4", "5", 27, 28
+"3", 4, 6, 7, 9, 13, 14, 18, 20, 21, 25, 29
```

### Comparing `yawp-0.6.1/PKG-INFO` & `yawp-0.7.1/PKG-INFO`

 * *Files 14% similar despite different names*

```diff
@@ -1,108 +1,114 @@
 Metadata-Version: 2.1
 Name: yawp
-Version: 0.6.1
-Summary: Yet Another Word Processor, an automatic word processor for text files, with PDF output
+Version: 0.7.1
+Summary: Yet Another Word Processor, an automatic word processor for text files, with PDF export
 Author-email: Carlo Alessandro Verre <carlo.alessandro.verre@gmail.com>
 Requires-Python: >=3.6
 Description-Content-Type: text/markdown
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.6
 Classifier: Development Status :: 4 - Beta
 Classifier: Environment :: Console
 Classifier: Intended Audience :: Developers
 Classifier: Intended Audience :: End Users/Desktop
 Classifier: License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)
 Classifier: Operating System :: POSIX :: Linux
 Project-URL: Home, https://pypi.org/project/yawp
 
 ```
-usage: yawp [-h] [-H] [-V] [-v] [-s] [-N] [-U] [-g] [-p] [-w CHARS_PER_LINE]
-            [-l] [-c CONTENTS_TITLE] [-i INDEX_TITLE] [-f] [-F] [-e EVEN_LEFT]
-            [-E EVEN_RIGHT] [-o ODD_LEFT] [-O ODD_RIGHT] [-a] [-P FILE_PDF]
-            [-W CHAR_WIDTH] [-A CHAR_ASPECT] [-S PAPER_SIZE] [-Z]
-            [-L LEFT_MARGIN] [-R RIGHT_MARGIN] [-T TOP_MARGIN]
+usage: yawp [-h] [-H] [-V] [-v] [-N] [-U] [-g] [-w CHARS_PER_LINE] [-l]
+            [-c CONTENTS_TITLE] [-f FIGURES_TITLE] [-F CAPTION_PREFIX]
+            [-i INDEX_TITLE] [-j] [-J] [-e EVEN_LEFT] [-E EVEN_RIGHT]
+            [-o ODD_LEFT] [-O ODD_RIGHT] [-a] [-X] [-Y VIEW_PDF_BY]
+            [-P FILE_PDF] [-W CHAR_WIDTH] [-A CHAR_ASPECT] [-S PAPER_SIZE]
+            [-Z] [-L LEFT_MARGIN] [-R RIGHT_MARGIN] [-T TOP_MARGIN]
             [-B BOTTOM_MARGIN] [-C]
             [file]
 
-Yet Another Word Processor, an automatic word processor for text files, with PDF output
+Yet Another Word Processor, an automatic word processor for text files, with PDF export
 
                        I sound my barbaric yawp over the roofs of the world
 
                                                                Walt Whitman
 
 The  name  "yawp"  here  means  Yet  Another Word Processor, and yawp is an
-automatic  word  processor  for  plain  text files, with PDF output. If you
-really  need  all  the features of a full-fledged WYSIWYG word processor as
-LibreOffice  Writer,  yawp is not for you. But if you just want to create a
-simple quick-and-dirty no-frills document, with yawp you can:
+automatic  (batch,  not  interactive)  word processor for plain text files,
+with  PDF  export.  If  you  really need all the features of a full-fledged
+WYSIWYG  word  processor as LibreOffice Writer, yawp is not for you. But if
+you  just  want to create a simple quick-and-dirty no-frills document, with
+yawp you can:
 
      edit a text file by your favorite editor
      run yawp in order to:
          backup read format and rewrite the text file
-         export the text file in a PDF file
-         open the PDF file for check or print
+         export the text file into a PDF file
+         view the PDF file for check or print
      possibly go back to the editor and update the text file, or finish
 
-                                              
-                                              backup 
-                                                     
-                                               file  
-                                              
-                                                   
-                                                   restore
-                                                    (undo)
-                                          backup   
-                                                   
-                                                   
-                               
-                          read                       
-                 edit    text              export   PDF   
-      editor                      yawp           
-                         file                       file  
-                         rewrite                     
-                                            
-                                                                     
-                                    check                            
-          
+                                           
+                                           backup 
+                                                  
+                                            file  
+                                               
+                                                      messages 
+                                                undo  
+                                       backup              
+                                                           
+                                   
+                       read               show  
+              edit    text                 
+   editor                      yawp                 PDF   
+                      file                    
+                      rewrite             export      file  
+                                        
+                                                                     
+                                 check                               
+       
 
 Main features are:
 
      yawp  processes  in place a single text file, hereinafter referred to
-      simply as the "file"
-     yawp  before  processing  makes  a  timestamped  backup  of the file,
+      simply as "the file"
+     yawp  before  processing  creates  a  timestamped backup of the file,
       allowing undo operation
      yawp  processing  is  driven by the text in the file and by arguments
       only, not by commands or tags embedded in text
      yawp justifies text at left and right in:
          unindented paragraphs
          dot-marked indented paragraphs (as this one)
      yawp  accepts  unjustified  pictures  (as  schemas,  tables  and code
       examples) freely intermixed with text
      yawp  adopts  an  ad  hoc  policy  for  Python  files, formatting the
       docstrings but not the Python code
-     yawp  performs  multi-level  chapter  renumbering
-     yawp  inserts  an  automatic  contents chapter in the file
+     yawp  performs  automatic  multi-level  renumbering  of  chapters and
+      inserts an automatic contents chapter in the file
+     yawp performs automatic renumbering of figure captions and inserts an
+      automatic figures chapter in the file
      yawp  recognizes  relevant  subjects  (quoted  by '"') and inserts an
       automatic index chapter in the file
-     yawp cuts the file in pages, by automatic insertion of two-lines page
-      headers
-     yawp  also  has some limited graphic feature, you can sketch pictures
+     yawp cuts the file in pages, by inserting 2-lines page headers
+     yawp  also has some limited graphic features, you can sketch pictures
       with  segments (by '`') and arrowheads (by '^'), yawp redraws them by
-      proper   graphic  characters  (as  in  the  picture  above)
+      suitable graphic characters (as in Figure above)
      yawp  exports  the  resulting  lines in PDF format, with control over
-      character  size  and page layout, and opens for you the generated PDF
-      file, allowing preview and printing
+      character  size  and page layout, and lets you view the generated PDF
+      file for check or print
      yawp  corrects  errors  made  by  CUPS-PDF  about  font size and page
       margins, you can use default corrections or redefine them by yawp.cfg
      yawp is "stable", namely if after a yawp execution you run yawp again
       on  the  same  file with the same arguments, the file content doesn't
-      change (except date and time in page headers)
+      change
 
-Everything has been kept as simple as possible.
+Believe it or not, everything has been kept as simple as possible.
+
+As  an  example, the Yawp Manual has been created as yawp.pdf from yawp.txt
+by typing:
+
+     $ yawp -v -w 80 -J -E 'Yawp 0.7.1 Manual' -X yawp.txt
 
 In order to install yawp, type:
 
      $ sudo apt-get -y update
      $ sudo apt-get -y install printer-driver-cups-pdf
 
 If you don't have pip, type:
@@ -120,71 +126,77 @@
 
 If you see a message like this:
 
      WARNING: The script yawp is installed in ... which is not on PATH.
 
 don't worry, a reboot should fix the problem.
 
-For any detail, see the yawp-generated "yawp manual" by typing:
+In  order  to use yawp, you need to know how it works. For any detail, view
+the yawp-generated Yawp Manual by typing:
 
      $ yawp -H
 
 positional arguments:
   file                  text file to be processed
 
 optional arguments:
   -h, --help            show this help message and exit
-  -H, --manual          open yawp-generated PDF manual and exit
+  -H, --manual          view yawp-generated PDF Yawp Manual and exit
   -V, --version         show program's version number and exit
-  -v, --verbose         display information messages on stderr
-  -s, --echo-shell      display invoked Unix commands on stderr
-  -N, --no-format       backup but don't format (default: backup and format)
-  -U, --undo            restore the file from last backup (default: backup and
-                        format)
+  -v, --verbose         display information and warning messages on stderr
+  -N, --no-format       run in no-format mode (default: run in format mode)
+  -U, --undo            run in undo mode (default: run in format mode)
   -g, --graphics        redraw '`'-segments and '^'-arrowheads
-  -p, --print-file      at end print file on stdout
   -w CHARS_PER_LINE, --chars-per-line CHARS_PER_LINE
                         line width in characters per line (default: '0' =
                         automatic)
   -l, --left-only       justify text lines at left only (default: at left and
                         right)
   -c CONTENTS_TITLE, --contents-title CONTENTS_TITLE
                         title of contents chapter (default: 'contents')
+  -f FIGURES_TITLE, --figures-title FIGURES_TITLE
+                        title of figures chapter (default: 'figures')
+  -F CAPTION_PREFIX, --caption-prefix CAPTION_PREFIX
+                        first word of figure captions (default: 'figure')
   -i INDEX_TITLE, --index-title INDEX_TITLE
                         title of index chapter (default: 'index')
-  -f, --form-feed       insert page headers on full page
-  -F, --form-feed-chap  insert page headers on full page and before contents
-                        index and level-one chapters
+  -j, --eject           insert page headers on full page
+  -J, --eject-pict-chap
+                        insert page headers on full page, on broken picture,
+                        and before level-1/contents/figures/index chapters
   -e EVEN_LEFT, --even-left EVEN_LEFT
                         headers of even pages, left (default: '%n/%N')
   -E EVEN_RIGHT, --even-right EVEN_RIGHT
                         headers of even pages, right (default: '%f.%e %Y-%m-%d
                         %H:%M:%S')
   -o ODD_LEFT, --odd-left ODD_LEFT
                         headers of odd pages, left (default: '%c')
   -O ODD_RIGHT, --odd-right ODD_RIGHT
                         headers of odd pages, right (default: '%n/%N')
   -a, --all-pages-E-e   put in all page headers -E at left and -e at right
+  -X, --export-view-pdf
+                        at end export and view PDF file
+  -Y VIEW_PDF_BY, --view-pdf-by VIEW_PDF_BY
+                        viewer for the exported PDF file (default: 'xdg-open')
   -P FILE_PDF, --file-pdf FILE_PDF
-                        at end export and open this PDF file ('0' = no export,
-                        default: '%P/%f.pdf')
+                        exported PDF file (default: '%P/%f.pdf')
   -W CHAR_WIDTH, --char-width CHAR_WIDTH
-                        character width (pt/in/mm/cm, default: '0' =
-                        automatic)
+                        character width (default: '0' = automatic, unit:
+                        pt/in/mm/cm)
   -A CHAR_ASPECT, --char-aspect CHAR_ASPECT
-                        character aspect ratio = char width / char height ('1'
-                        = square grid, default: '3/5')
+                        character aspect ratio = char width / char height
+                        (default: '3/5', '1' = square grid)
   -S PAPER_SIZE, --paper-size PAPER_SIZE
-                        portrait paper size (width x height, pt/in/mm/cm,
-                        default: 'A4' = '210x297mm'
+                        portrait paper size width x height (default: 'A4' =
+                        '210x297mm', unit: pt/in/mm/cm)
   -Z, --landscape       turn page by 90 degrees (default: portrait)
   -L LEFT_MARGIN, --left-margin LEFT_MARGIN
-                        left margin (pt/in/mm/cm, default: '2cm')
+                        left margin (default: '2cm', unit: pt/in/mm/cm)
   -R RIGHT_MARGIN, --right-margin RIGHT_MARGIN
-                        right margin (pt/in/mm/cm, default: '-L')
+                        right margin (default: '-L', unit: pt/in/mm/cm)
   -T TOP_MARGIN, --top-margin TOP_MARGIN
-                        top margin (pt/in/mm/cm, default: '2cm')
+                        top margin (default: '2cm', unit: pt/in/mm/cm)
   -B BOTTOM_MARGIN, --bottom-margin BOTTOM_MARGIN
-                        bottom margin (pt/in/mm/cm, default: '-T')
+                        bottom margin (default: '-T', unit: pt/in/mm/cm)
   -C, --calibration     don't correct character size and page margins
 ```
```

